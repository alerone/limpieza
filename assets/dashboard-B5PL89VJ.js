import{o as g,a as b,C as y,F as x,U as n,g as S,b as w}from"./auth-CrKGMdkA.js";import{g as k,u}from"./users-Cn-3AKIs.js";const L=document.querySelector("#loading-page"),q=document.querySelector("#alvaroTask"),C=document.querySelector("#alexTask"),T=document.querySelector("#victorTask"),h=document.querySelector("#rubiuTask"),B=document.querySelector("#diaLabel"),p=document.querySelector("#semanaLabel"),U=document.querySelector("#alvaroCard"),A=document.querySelector("#victorCard"),E=document.querySelector("#alexCard"),D=document.querySelector("#rubiusCard"),M=document.querySelector("#rubiusBorder"),z=document.querySelector("#alvaroBorder"),I=document.querySelector("#alexBorder"),N=document.querySelector("#victorBorder"),m=document.querySelector("#profile-image");let r;g(b,e=>{e?(r=e,L.classList.add("hidden"),m.src=k(e.email)):window.location.href="/limpieza/"});const t={alvaro:"lopezalvarezalvaro1@gmail.com",rubius:"rubenrubenm10@gmail.com",victor:"victorcortss@gmail.com",alex:"alexrequenaflaquer@gmail.com"},o={alvaro:new n("Álvaro",t.alvaro),rubius:new n("Rubén",t.rubius),victor:new n("Víctor",t.victor),alex:new n("Álex",t.alex)},W=new y(o),a=new x;m.addEventListener("click",()=>{window.location.href="/limpieza/profile.html"});const i=W.getTaskOrder(),v={rubius:{nombre:"Rubiu",done:!1,fecha:"not done"},alvaro:{nombre:"Álvaro",done:!1,fecha:"not done"},victor:{nombre:"Víctor",done:!1,fecha:"not done"},alex:{nombre:"Alex",done:!1,fecha:"not done"}};a.initWeek(v);setInterval(()=>a.initWeek(v),5*60*1e3);U.addEventListener("click",async()=>{r.email==o.alvaro.email&&await a.toggleDone("alvaro")});A.addEventListener("click",async()=>{(r.email==o.victor.email||d(r.email))&&await a.toggleDone("victor")});E.addEventListener("click",async()=>{(r.email==o.alex.email||d(r.email))&&await a.toggleDone("alex")});D.addEventListener("click",async()=>{(r.email==o.rubius.email||d(r.email))&&await a.toggleDone("rubius")});a.listenToUser("alvaro",async e=>{await s(o.alvaro.email,e),c(z,e)});a.listenToUser("rubius",async e=>{await s(o.rubius.email,e),c(M,e)});a.listenToUser("victor",async e=>{await s(o.victor.email,e),c(N,e)});a.listenToUser("alex",async e=>{await s(o.alex.email,e),c(I,e)});q.textContent=i[1];C.textContent=i[3];T.textContent=i[2];h.textContent=i[0];const f=new Date;B.textContent=`DIA: ${S(f)}`;p.innerHTML=`SEMANA:<br>${w(f)}`;async function s(e,l){l?await u.removeTaskNotDone(e):await u.addTaskNotDone(e)}function c(e,l){l?(e.classList.add("from-green-400"),e.classList.add("to-emerald-500"),e.classList.remove("from-red-500"),e.classList.remove("to-red-700")):(e.classList.remove("from-green-400"),e.classList.remove("to-emerald-500"),e.classList.add("from-red-500"),e.classList.add("to-red-700"))}function d(e){return e==t.alvaro}
