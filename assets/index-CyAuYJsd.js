(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Bf={exports:{}},ya={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function e1(){if(M_)return ya;M_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:c}}return ya.Fragment=e,ya.jsx=i,ya.jsxs=i,ya}var I_;function t1(){return I_||(I_=1,Bf.exports=e1()),Bf.exports}var B=t1(),jf={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function n1(){if(k_)return se;k_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function H(b,U,Y){this.props=b,this.context=U,this.refs=P,this.updater=Y||x}H.prototype.isReactComponent={},H.prototype.setState=function(b,U){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,U,"setState")},H.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function G(){}G.prototype=H.prototype;function j(b,U,Y){this.props=b,this.context=U,this.refs=P,this.updater=Y||x}var K=j.prototype=new G;K.constructor=j,k(K,H.prototype),K.isPureReactComponent=!0;var Ce=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},Ke=Object.prototype.hasOwnProperty;function Ve(b,U,Y,q,X,de){return Y=de.ref,{$$typeof:s,type:b,key:U,ref:Y!==void 0?Y:null,props:de}}function Xe(b,U){return Ve(b.type,U,void 0,void 0,void 0,b.props)}function ke(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function Tt(b){var U={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return U[Y]})}var kt=/\/+/g;function lt(b,U){return typeof b=="object"&&b!==null&&b.key!=null?Tt(""+b.key):U.toString(36)}function xi(){}function Oi(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(xi,xi):(b.status="pending",b.then(function(U){b.status==="pending"&&(b.status="fulfilled",b.value=U)},function(U){b.status==="pending"&&(b.status="rejected",b.reason=U)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function ot(b,U,Y,q,X){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var ie=!1;if(b===null)ie=!0;else switch(de){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(b.$$typeof){case s:case e:ie=!0;break;case y:return ie=b._init,ot(ie(b._payload),U,Y,q,X)}}if(ie)return X=X(b),ie=q===""?"."+lt(b,0):q,Ce(X)?(Y="",ie!=null&&(Y=ie.replace(kt,"$&/")+"/"),ot(X,U,Y,"",function(Vn){return Vn})):X!=null&&(ke(X)&&(X=Xe(X,Y+(X.key==null||b&&b.key===X.key?"":(""+X.key).replace(kt,"$&/")+"/")+ie)),U.push(X)),1;ie=0;var Ct=q===""?".":q+":";if(Ce(b))for(var Oe=0;Oe<b.length;Oe++)q=b[Oe],de=Ct+lt(q,Oe),ie+=ot(q,U,Y,de,X);else if(Oe=E(b),typeof Oe=="function")for(b=Oe.call(b),Oe=0;!(q=b.next()).done;)q=q.value,de=Ct+lt(q,Oe++),ie+=ot(q,U,Y,de,X);else if(de==="object"){if(typeof b.then=="function")return ot(Oi(b),U,Y,q,X);throw U=String(b),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ie}function M(b,U,Y){if(b==null)return b;var q=[],X=0;return ot(b,q,"","",function(de){return U.call(Y,de,X++)}),q}function V(b){if(b._status===-1){var U=b._result;U=U(),U.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=U)}if(b._status===1)return b._result.default;throw b._result}var $=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function we(){}return se.Children={map:M,forEach:function(b,U,Y){M(b,function(){U.apply(this,arguments)},Y)},count:function(b){var U=0;return M(b,function(){U++}),U},toArray:function(b){return M(b,function(U){return U})||[]},only:function(b){if(!ke(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},se.Component=H,se.Fragment=i,se.Profiler=o,se.PureComponent=j,se.StrictMode=a,se.Suspense=m,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ne.H.useMemoCache(b)}},se.cache=function(b){return function(){return b.apply(null,arguments)}},se.cloneElement=function(b,U,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var q=k({},b.props),X=b.key,de=void 0;if(U!=null)for(ie in U.ref!==void 0&&(de=void 0),U.key!==void 0&&(X=""+U.key),U)!Ke.call(U,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&U.ref===void 0||(q[ie]=U[ie]);var ie=arguments.length-2;if(ie===1)q.children=Y;else if(1<ie){for(var Ct=Array(ie),Oe=0;Oe<ie;Oe++)Ct[Oe]=arguments[Oe+2];q.children=Ct}return Ve(b.type,X,void 0,void 0,de,q)},se.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},se.createElement=function(b,U,Y){var q,X={},de=null;if(U!=null)for(q in U.key!==void 0&&(de=""+U.key),U)Ke.call(U,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(X[q]=U[q]);var ie=arguments.length-2;if(ie===1)X.children=Y;else if(1<ie){for(var Ct=Array(ie),Oe=0;Oe<ie;Oe++)Ct[Oe]=arguments[Oe+2];X.children=Ct}if(b&&b.defaultProps)for(q in ie=b.defaultProps,ie)X[q]===void 0&&(X[q]=ie[q]);return Ve(b,de,void 0,void 0,null,X)},se.createRef=function(){return{current:null}},se.forwardRef=function(b){return{$$typeof:d,render:b}},se.isValidElement=ke,se.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:V}},se.memo=function(b,U){return{$$typeof:p,type:b,compare:U===void 0?null:U}},se.startTransition=function(b){var U=ne.T,Y={};ne.T=Y;try{var q=b(),X=ne.S;X!==null&&X(Y,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(we,$)}catch(de){$(de)}finally{ne.T=U}},se.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},se.use=function(b){return ne.H.use(b)},se.useActionState=function(b,U,Y){return ne.H.useActionState(b,U,Y)},se.useCallback=function(b,U){return ne.H.useCallback(b,U)},se.useContext=function(b){return ne.H.useContext(b)},se.useDebugValue=function(){},se.useDeferredValue=function(b,U){return ne.H.useDeferredValue(b,U)},se.useEffect=function(b,U,Y){var q=ne.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(b,U)},se.useId=function(){return ne.H.useId()},se.useImperativeHandle=function(b,U,Y){return ne.H.useImperativeHandle(b,U,Y)},se.useInsertionEffect=function(b,U){return ne.H.useInsertionEffect(b,U)},se.useLayoutEffect=function(b,U){return ne.H.useLayoutEffect(b,U)},se.useMemo=function(b,U){return ne.H.useMemo(b,U)},se.useOptimistic=function(b,U){return ne.H.useOptimistic(b,U)},se.useReducer=function(b,U,Y){return ne.H.useReducer(b,U,Y)},se.useRef=function(b){return ne.H.useRef(b)},se.useState=function(b){return ne.H.useState(b)},se.useSyncExternalStore=function(b,U,Y){return ne.H.useSyncExternalStore(b,U,Y)},se.useTransition=function(){return ne.H.useTransition()},se.version="19.1.1",se}var L_;function kh(){return L_||(L_=1,jf.exports=n1()),jf.exports}var O=kh(),qf={exports:{}},va={},Vf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function i1(){return U_||(U_=1,(function(s){function e(M,V){var $=M.length;M.push(V);e:for(;0<$;){var we=$-1>>>1,b=M[we];if(0<o(b,V))M[we]=V,M[$]=b,$=we;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var V=M[0],$=M.pop();if($!==V){M[0]=$;e:for(var we=0,b=M.length,U=b>>>1;we<U;){var Y=2*(we+1)-1,q=M[Y],X=Y+1,de=M[X];if(0>o(q,$))X<b&&0>o(de,q)?(M[we]=de,M[X]=$,we=X):(M[we]=q,M[Y]=$,we=Y);else if(X<b&&0>o(de,$))M[we]=de,M[X]=$,we=X;else break e}}return V}function o(M,V){var $=M.sortIndex-V.sortIndex;return $!==0?$:M.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var m=[],p=[],y=1,v=null,E=3,x=!1,k=!1,P=!1,H=!1,G=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Ce(M){for(var V=i(p);V!==null;){if(V.callback===null)a(p);else if(V.startTime<=M)a(p),V.sortIndex=V.expirationTime,e(m,V);else break;V=i(p)}}function ne(M){if(P=!1,Ce(M),!k)if(i(m)!==null)k=!0,Ke||(Ke=!0,lt());else{var V=i(p);V!==null&&ot(ne,V.startTime-M)}}var Ke=!1,Ve=-1,Xe=5,ke=-1;function Tt(){return H?!0:!(s.unstable_now()-ke<Xe)}function kt(){if(H=!1,Ke){var M=s.unstable_now();ke=M;var V=!0;try{e:{k=!1,P&&(P=!1,j(Ve),Ve=-1),x=!0;var $=E;try{t:{for(Ce(M),v=i(m);v!==null&&!(v.expirationTime>M&&Tt());){var we=v.callback;if(typeof we=="function"){v.callback=null,E=v.priorityLevel;var b=we(v.expirationTime<=M);if(M=s.unstable_now(),typeof b=="function"){v.callback=b,Ce(M),V=!0;break t}v===i(m)&&a(m),Ce(M)}else a(m);v=i(m)}if(v!==null)V=!0;else{var U=i(p);U!==null&&ot(ne,U.startTime-M),V=!1}}break e}finally{v=null,E=$,x=!1}V=void 0}}finally{V?lt():Ke=!1}}}var lt;if(typeof K=="function")lt=function(){K(kt)};else if(typeof MessageChannel<"u"){var xi=new MessageChannel,Oi=xi.port2;xi.port1.onmessage=kt,lt=function(){Oi.postMessage(null)}}else lt=function(){G(kt,0)};function ot(M,V){Ve=G(function(){M(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xe=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(M){switch(E){case 1:case 2:case 3:var V=3;break;default:V=E}var $=E;E=V;try{return M()}finally{E=$}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=E;E=M;try{return V()}finally{E=$}},s.unstable_scheduleCallback=function(M,V,$){var we=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?we+$:we):$=we,M){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,M={id:y++,callback:V,priorityLevel:M,startTime:$,expirationTime:b,sortIndex:-1},$>we?(M.sortIndex=$,e(p,M),i(m)===null&&M===i(p)&&(P?(j(Ve),Ve=-1):P=!0,ot(ne,$-we))):(M.sortIndex=b,e(m,M),k||x||(k=!0,Ke||(Ke=!0,lt()))),M},s.unstable_shouldYield=Tt,s.unstable_wrapCallback=function(M){var V=E;return function(){var $=E;E=V;try{return M.apply(this,arguments)}finally{E=$}}}})(Gf)),Gf}var z_;function s1(){return z_||(z_=1,Vf.exports=i1()),Vf.exports}var Yf={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function r1(){if(H_)return ft;H_=1;var s=kh();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ft.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,y)},ft.flushSync=function(m){var p=h.T,y=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=p,a.p=y,a.d.f()}},ft.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},ft.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},ft.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:x}):y==="script"&&a.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},ft.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);a.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},ft.requestFormReset=function(m){a.d.r(m)},ft.unstable_batchedUpdates=function(m,p){return m(p)},ft.useFormState=function(m,p,y){return h.H.useFormState(m,p,y)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.1.1",ft}var P_;function a1(){if(P_)return Yf.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yf.exports=r1(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function l1(){if(B_)return va;B_=1;var s=s1(),e=kh(),i=a1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(c(t)!==t)throw Error(a(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return d(u),t;if(f===l)return d(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===r){g=!0,r=u,l=f;break}if(_===l){g=!0,l=u,r=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===r){g=!0,r=f,l=u;break}if(_===l){g=!0,l=f,r=u;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Tt=Symbol.for("react.memo_cache_sentinel"),kt=Symbol.iterator;function lt(t){return t===null||typeof t!="object"?null:(t=kt&&t[kt]||t["@@iterator"],typeof t=="function"?t:null)}var xi=Symbol.for("react.client.reference");function Oi(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xi?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case H:return"Profiler";case P:return"StrictMode";case ne:return"Suspense";case Ke:return"SuspenseList";case ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case K:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case Ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ve:return n=t.displayName||null,n!==null?n:Oi(t.type)||"Memo";case Xe:n=t._payload,t=t._init;try{return Oi(t(n))}catch{}}return null}var ot=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},we=[],b=-1;function U(t){return{current:t}}function Y(t){0>b||(t.current=we[b],we[b]=null,b--)}function q(t,n){b++,we[b]=t.current,t.current=n}var X=U(null),de=U(null),ie=U(null),Ct=U(null);function Oe(t,n){switch(q(ie,n),q(de,t),q(X,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=l_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(X),q(X,t)}function Vn(){Y(X),Y(de),Y(ie)}function Cu(t){t.memoizedState!==null&&q(Ct,t);var n=X.current,r=l_(n,t.type);n!==r&&(q(de,t),q(X,r))}function al(t){de.current===t&&(Y(X),Y(de)),Ct.current===t&&(Y(Ct),da._currentValue=$)}var wu=Object.prototype.hasOwnProperty,Ru=s.unstable_scheduleCallback,Au=s.unstable_cancelCallback,ME=s.unstable_shouldYield,IE=s.unstable_requestPaint,sn=s.unstable_now,kE=s.unstable_getCurrentPriorityLevel,Bd=s.unstable_ImmediatePriority,jd=s.unstable_UserBlockingPriority,ll=s.unstable_NormalPriority,LE=s.unstable_LowPriority,qd=s.unstable_IdlePriority,UE=s.log,zE=s.unstable_setDisableYieldValue,Sr=null,wt=null;function Gn(t){if(typeof UE=="function"&&zE(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Sr,t)}catch{}}var Rt=Math.clz32?Math.clz32:BE,HE=Math.log,PE=Math.LN2;function BE(t){return t>>>=0,t===0?32:31-(HE(t)/PE|0)|0}var ol=256,ul=4194304;function Di(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?u=Di(l):(g&=_,g!==0?u=Di(g):r||(r=_&~t,r!==0&&(u=Di(r))))):(_=l&~f,_!==0?u=Di(_):g!==0?u=Di(g):r||(r=l&~t,r!==0&&(u=Di(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function br(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jE(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(){var t=ol;return ol<<=1,(ol&4194048)===0&&(ol=256),t}function Gd(){var t=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),t}function Nu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Tr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qE(t,n,r,l,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(r=g&~r;0<r;){var D=31-Rt(r),L=1<<D;_[D]=0,S[D]=-1;var A=R[D];if(A!==null)for(R[D]=null,D=0;D<A.length;D++){var N=A[D];N!==null&&(N.lane&=-536870913)}r&=~L}l!==0&&Yd(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Yd(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Rt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Fd(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Rt(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}function xu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qd(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function VE(t,n){var r=V.p;try{return V.p=t,n()}finally{V.p=r}}var Yn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Yn,gt="__reactProps$"+Yn,os="__reactContainer$"+Yn,Du="__reactEvents$"+Yn,GE="__reactListeners$"+Yn,YE="__reactHandles$"+Yn,Kd="__reactResources$"+Yn,Cr="__reactMarker$"+Yn;function Mu(t){delete t[ut],delete t[gt],delete t[Du],delete t[GE],delete t[YE]}function us(t){var n=t[ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[os]||r[ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=f_(t);t!==null;){if(r=t[ut])return r;t=f_(t)}return n}t=r,r=t.parentNode}return null}function cs(t){if(t=t[ut]||t[os]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function wr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function fs(t){var n=t[Kd];return n||(n=t[Kd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(t){t[Cr]=!0}var Xd=new Set,Wd={};function Mi(t,n){hs(t,n),hs(t+"Capture",n)}function hs(t,n){for(Wd[t]=n,t=0;t<n.length;t++)Xd.add(n[t])}var FE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zd={},$d={};function QE(t){return wu.call($d,t)?!0:wu.call(Zd,t)?!1:FE.test(t)?$d[t]=!0:(Zd[t]=!0,!1)}function fl(t,n,r){if(QE(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function hl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Iu,Jd;function ds(t){if(Iu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Iu=n&&n[1]||"",Jd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Iu+t+Jd}var ku=!1;function Lu(t,n){if(!t||ku)return"";ku=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(N){var A=N}Reflect.construct(t,[],L)}else{try{L.call()}catch(N){A=N}t.call(L.prototype)}}else{try{throw Error()}catch(N){A=N}(L=t())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var S=g.split(`
`),R=_.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===R.length)for(l=S.length-1,u=R.length-1;1<=l&&0<=u&&S[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==R[u]){var D=`
`+S[l].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=l&&0<=u);break}}}finally{ku=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ds(r):""}function KE(t){switch(t.tag){case 26:case 27:case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return Lu(t.type,!1);case 11:return Lu(t.type.render,!1);case 1:return Lu(t.type,!0);case 31:return ds("Activity");default:return""}}function ep(t){try{var n="";do n+=KE(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tp(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function XE(t){var n=tp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function dl(t){t._valueTracker||(t._valueTracker=XE(t))}function np(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=tp(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var WE=/[\n"\\]/g;function Ut(t){return t.replace(WE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Uu(t,n,r,l,u,f,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?zu(t,g,Lt(n)):r!=null?zu(t,g,Lt(r)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Lt(_):t.removeAttribute("name")}function ip(t,n,r,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function zu(t,n,r){n==="number"&&pl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ps(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function sp(t,n,r){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Lt(r):""}function rp(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ot(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function ms(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ZE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||ZE.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lp(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&ap(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&ap(t,f,n[f])}function Hu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $E=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),JE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(t){return JE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pu=null;function Bu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,_s=null;function op(t){var n=cs(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Uu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ut(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=l[gt]||null;if(!u)throw Error(a(90));Uu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&np(l)}break e;case"textarea":sp(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(t,!!r.multiple,n,!1)}}}var ju=!1;function up(t,n,r){if(ju)return t(n,r);ju=!0;try{var l=t(n);return l}finally{if(ju=!1,(gs!==null||_s!==null)&&(eo(),gs&&(n=gs,t=_s,_s=gs=null,op(n),t)))for(n=0;n<t.length;n++)op(t[n])}}function Rr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[gt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=!1;if(_n)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{qu=!1}var Fn=null,Vu=null,gl=null;function cp(){if(gl)return gl;var t,n=Vu,r=n.length,l,u="value"in Fn?Fn.value:Fn.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return gl=u.slice(t,1<l?1-l:void 0)}function _l(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function yl(){return!0}function fp(){return!1}function _t(t){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?yl:fp,this.isPropagationStopped=fp,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=_t(Ii),Nr=y({},Ii,{view:0,detail:0}),eS=_t(Nr),Gu,Yu,xr,El=y({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(Gu=t.screenX-xr.screenX,Yu=t.screenY-xr.screenY):Yu=Gu=0,xr=t),Gu)},movementY:function(t){return"movementY"in t?t.movementY:Yu}}),hp=_t(El),tS=y({},El,{dataTransfer:0}),nS=_t(tS),iS=y({},Nr,{relatedTarget:0}),Fu=_t(iS),sS=y({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),rS=_t(sS),aS=y({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=_t(aS),oS=y({},Ii,{data:0}),dp=_t(oS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fS[t])?!!n[t]:!1}function Qu(){return hS}var dS=y({},Nr,{key:function(t){if(t.key){var n=uS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=_l(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(t){return t.type==="keypress"?_l(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_l(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pS=_t(dS),mS=y({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=_t(mS),gS=y({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),_S=_t(gS),yS=y({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=_t(yS),ES=y({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SS=_t(ES),bS=y({},Ii,{newState:0,oldState:0}),TS=_t(bS),CS=[9,13,27,32],Ku=_n&&"CompositionEvent"in window,Or=null;_n&&"documentMode"in document&&(Or=document.documentMode);var wS=_n&&"TextEvent"in window&&!Or,mp=_n&&(!Ku||Or&&8<Or&&11>=Or),gp=" ",_p=!1;function yp(t,n){switch(t){case"keyup":return CS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function RS(t,n){switch(t){case"compositionend":return vp(n);case"keypress":return n.which!==32?null:(_p=!0,gp);case"textInput":return t=n.data,t===gp&&_p?null:t;default:return null}}function AS(t,n){if(ys)return t==="compositionend"||!Ku&&yp(t,n)?(t=cp(),gl=Vu=Fn=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mp&&n.locale!=="ko"?null:n.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!NS[t.type]:n==="textarea"}function Sp(t,n,r,l){gs?_s?_s.push(l):_s=[l]:gs=l,n=ao(n,"onChange"),0<n.length&&(r=new vl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Dr=null,Mr=null;function xS(t){t_(t,0)}function Sl(t){var n=wr(t);if(np(n))return t}function bp(t,n){if(t==="change")return n}var Tp=!1;if(_n){var Xu;if(_n){var Wu="oninput"in document;if(!Wu){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Wu=typeof Cp.oninput=="function"}Xu=Wu}else Xu=!1;Tp=Xu&&(!document.documentMode||9<document.documentMode)}function wp(){Dr&&(Dr.detachEvent("onpropertychange",Rp),Mr=Dr=null)}function Rp(t){if(t.propertyName==="value"&&Sl(Mr)){var n=[];Sp(n,Mr,t,Bu(t)),up(xS,n)}}function OS(t,n,r){t==="focusin"?(wp(),Dr=n,Mr=r,Dr.attachEvent("onpropertychange",Rp)):t==="focusout"&&wp()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sl(Mr)}function MS(t,n){if(t==="click")return Sl(n)}function IS(t,n){if(t==="input"||t==="change")return Sl(n)}function kS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var At=typeof Object.is=="function"?Object.is:kS;function Ir(t,n){if(At(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!wu.call(n,u)||!At(t[u],n[u]))return!1}return!0}function Ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,n){var r=Ap(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ap(r)}}function xp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=pl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=pl(t.document)}return n}function Zu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var LS=_n&&"documentMode"in document&&11>=document.documentMode,vs=null,$u=null,kr=null,Ju=!1;function Dp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ju||vs==null||vs!==pl(l)||(l=vs,"selectionStart"in l&&Zu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kr&&Ir(kr,l)||(kr=l,l=ao($u,"onSelect"),0<l.length&&(n=new vl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=vs)))}function ki(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Es={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},ec={},Mp={};_n&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Li(t){if(ec[t])return ec[t];if(!Es[t])return t;var n=Es[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mp)return ec[t]=n[r];return t}var Ip=Li("animationend"),kp=Li("animationiteration"),Lp=Li("animationstart"),US=Li("transitionrun"),zS=Li("transitionstart"),HS=Li("transitioncancel"),Up=Li("transitionend"),zp=new Map,tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tc.push("scrollEnd");function Ft(t,n){zp.set(t,n),Mi(n,[t])}var Hp=new WeakMap;function zt(t,n){if(typeof t=="object"&&t!==null){var r=Hp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ep(n)},Hp.set(t,n),n)}return{value:t,source:n,stack:ep(n)}}var Ht=[],Ss=0,nc=0;function bl(){for(var t=Ss,n=nc=Ss=0;n<t;){var r=Ht[n];Ht[n++]=null;var l=Ht[n];Ht[n++]=null;var u=Ht[n];Ht[n++]=null;var f=Ht[n];if(Ht[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Pp(r,u,f)}}function Tl(t,n,r,l){Ht[Ss++]=t,Ht[Ss++]=n,Ht[Ss++]=r,Ht[Ss++]=l,nc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ic(t,n,r,l){return Tl(t,n,r,l),Cl(t)}function bs(t,n){return Tl(t,null,null,n),Cl(t)}function Pp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Rt(r),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cl(t){if(50<ra)throw ra=0,cf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ts={};function PS(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,n,r,l){return new PS(t,n,r,l)}function sc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,n){var r=t.alternate;return r===null?(r=Nt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wl(t,n,r,l,u,f){var g=0;if(l=t,typeof t=="function")sc(t)&&(g=1);else if(typeof t=="string")g=jb(t,r,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ke:return t=Nt(31,r,n,u),t.elementType=ke,t.lanes=f,t;case k:return Ui(r.children,u,f,n);case P:g=8,u|=24;break;case H:return t=Nt(12,r,n,u|2),t.elementType=H,t.lanes=f,t;case ne:return t=Nt(13,r,n,u),t.elementType=ne,t.lanes=f,t;case Ke:return t=Nt(19,r,n,u),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case K:g=10;break e;case j:g=9;break e;case Ce:g=11;break e;case Ve:g=14;break e;case Xe:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nt(g,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function Ui(t,n,r,l){return t=Nt(7,t,l,n),t.lanes=r,t}function rc(t,n,r){return t=Nt(6,t,null,n),t.lanes=r,t}function ac(t,n,r){return n=Nt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Cs=[],ws=0,Rl=null,Al=0,Pt=[],Bt=0,zi=null,vn=1,En="";function Hi(t,n){Cs[ws++]=Al,Cs[ws++]=Rl,Rl=t,Al=n}function jp(t,n,r){Pt[Bt++]=vn,Pt[Bt++]=En,Pt[Bt++]=zi,zi=t;var l=vn;t=En;var u=32-Rt(l)-1;l&=~(1<<u),r+=1;var f=32-Rt(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,vn=1<<32-Rt(n)+u|r<<u|l,En=f+t}else vn=1<<f|r<<u|l,En=t}function lc(t){t.return!==null&&(Hi(t,1),jp(t,1,0))}function oc(t){for(;t===Rl;)Rl=Cs[--ws],Cs[ws]=null,Al=Cs[--ws],Cs[ws]=null;for(;t===zi;)zi=Pt[--Bt],Pt[Bt]=null,En=Pt[--Bt],Pt[Bt]=null,vn=Pt[--Bt],Pt[Bt]=null}var ht=null,Le=null,ge=!1,Pi=null,rn=!1,uc=Error(a(519));function Bi(t){var n=Error(a(418,""));throw zr(zt(n,t)),uc}function qp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ut]=t,n[gt]=l,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(r=0;r<la.length;r++)ce(la[r],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":ce("invalid",n),ip(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),dl(n);break;case"select":ce("invalid",n);break;case"textarea":ce("invalid",n),rp(n,l.value,l.defaultValue,l.children),dl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||r_(n.textContent,r)?(l.popover!=null&&(ce("beforetoggle",n),ce("toggle",n)),l.onScroll!=null&&ce("scroll",n),l.onScrollEnd!=null&&ce("scrollend",n),l.onClick!=null&&(n.onclick=lo),n=!0):n=!1,n||Bi(t)}function Vp(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:ht=ht.return}}function Lr(t){if(t!==ht)return!1;if(!ge)return Vp(t),ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rf(t.type,t.memoizedProps)),r=!r),r&&Le&&Bi(t),Vp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=Kt(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else n===27?(n=Le,oi(t.type)?(t=Of,Of=null,Le=t):Le=n):Le=ht?Kt(t.stateNode.nextSibling):null;return!0}function Ur(){Le=ht=null,ge=!1}function Gp(){var t=Pi;return t!==null&&(Et===null?Et=t:Et.push.apply(Et,t),Pi=null),t}function zr(t){Pi===null?Pi=[t]:Pi.push(t)}var cc=U(null),ji=null,Sn=null;function Qn(t,n,r){q(cc,n._currentValue),n._currentValue=r}function bn(t){t._currentValue=cc.current,Y(cc)}function fc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hc(t,n,r,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var S=0;S<n.length;S++)if(_.context===n[S]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),fc(f.return,r,t),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),fc(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Hr(t,n,r,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=u.type;At(u.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(u===Ct.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(da):t=[da])}u=u.return}t!==null&&hc(n,t,r,l),n.flags|=262144}function Nl(t){for(t=t.firstContext;t!==null;){if(!At(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qi(t){ji=t,Sn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ct(t){return Yp(ji,t)}function xl(t,n){return ji===null&&qi(t),Yp(t,n)}function Yp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Sn===null){if(t===null)throw Error(a(308));Sn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Sn=Sn.next=n;return r}var BS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},jS=s.unstable_scheduleCallback,qS=s.unstable_NormalPriority,Ge={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new BS,data:new Map,refCount:0}}function Pr(t){t.refCount--,t.refCount===0&&jS(qS,function(){t.controller.abort()})}var Br=null,pc=0,Rs=0,As=null;function VS(t,n){if(Br===null){var r=Br=[];pc=0,Rs=_f(),As={status:"pending",value:void 0,then:function(l){r.push(l)}}}return pc++,n.then(Fp,Fp),n}function Fp(){if(--pc===0&&Br!==null){As!==null&&(As.status="fulfilled");var t=Br;Br=null,Rs=0,As=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function GS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Qp=M.S;M.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&VS(t,n),Qp!==null&&Qp(t,n)};var Vi=U(null);function mc(){var t=Vi.current;return t!==null?t:Ae.pooledCache}function Ol(t,n){n===null?q(Vi,Vi.current):q(Vi,n.pool)}function Kp(){var t=mc();return t===null?null:{parent:Ge._currentValue,pool:t}}var jr=Error(a(460)),Xp=Error(a(474)),Dl=Error(a(542)),gc={then:function(){}};function Wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ml(){}function Zp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ml,Ml),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t;default:if(typeof n.status=="string")n.then(Ml,Ml);else{if(t=Ae,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jp(t),t}throw qr=n,jr}}var qr=null;function $p(){if(qr===null)throw Error(a(459));var t=qr;return qr=null,t}function Jp(t){if(t===jr||t===Dl)throw Error(a(483))}var Kn=!1;function _c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Cl(t),Pp(t,null,r),n}return Tl(t,l,n,r),Cl(t)}function Vr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fd(t,r)}}function vc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ec=!1;function Gr(){if(Ec){var t=As;if(t!==null)throw t}}function Yr(t,n,r,l){Ec=!1;var u=t.updateQueue;Kn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,R=S.next;S.next=null,g===null?f=R:g.next=R,g=S;var D=t.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==g&&(_===null?D.firstBaseUpdate=R:_.next=R,D.lastBaseUpdate=S))}if(f!==null){var L=u.baseState;g=0,D=R=S=null,_=f;do{var A=_.lane&-536870913,N=A!==_.lane;if(N?(he&A)===A:(l&A)===A){A!==0&&A===Rs&&(Ec=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ee=t,W=_;A=n;var Se=r;switch(W.tag){case 1:if(ee=W.payload,typeof ee=="function"){L=ee.call(Se,L,A);break e}L=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=W.payload,A=typeof ee=="function"?ee.call(Se,L,A):ee,A==null)break e;L=y({},L,A);break e;case 2:Kn=!0}}A=_.callback,A!==null&&(t.flags|=64,N&&(t.flags|=8192),N=u.callbacks,N===null?u.callbacks=[A]:N.push(A))}else N={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(R=D=N,S=L):D=D.next=N,g|=A;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);D===null&&(S=L),u.baseState=S,u.firstBaseUpdate=R,u.lastBaseUpdate=D,f===null&&(u.shared.lanes=0),si|=g,t.lanes=g,t.memoizedState=L}}function em(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function tm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)em(r[t],n)}var Ns=U(null),Il=U(0);function nm(t,n){t=xn,q(Il,t),q(Ns,n),xn=t|n.baseLanes}function Sc(){q(Il,xn),q(Ns,Ns.current)}function bc(){xn=Il.current,Y(Ns),Y(Il)}var Zn=0,re=null,ve=null,je=null,kl=!1,xs=!1,Gi=!1,Ll=0,Fr=0,Os=null,YS=0;function Pe(){throw Error(a(321))}function Tc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!At(t[r],n[r]))return!1;return!0}function Cc(t,n,r,l,u,f){return Zn=f,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Pm:Bm,Gi=!1,f=r(l,u),Gi=!1,xs&&(f=sm(n,r,l,u)),im(t),f}function im(t){M.H=jl;var n=ve!==null&&ve.next!==null;if(Zn=0,je=ve=re=null,kl=!1,Fr=0,Os=null,n)throw Error(a(300));t===null||Ze||(t=t.dependencies,t!==null&&Nl(t)&&(Ze=!0))}function sm(t,n,r,l){re=t;var u=0;do{if(xs&&(Os=null),Fr=0,xs=!1,25<=u)throw Error(a(301));if(u+=1,je=ve=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=$S,f=n(r,l)}while(xs);return f}function FS(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?Qr(n):n,t=t.useState()[0],(ve!==null?ve.memoizedState:null)!==t&&(re.flags|=1024),n}function wc(){var t=Ll!==0;return Ll=0,t}function Rc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ac(t){if(kl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}kl=!1}Zn=0,je=ve=re=null,xs=!1,Fr=Ll=0,Os=null}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?re.memoizedState=je=t:je=je.next=t,je}function qe(){if(ve===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var n=je===null?re.memoizedState:je.next;if(n!==null)je=n,ve=t;else{if(t===null)throw re.alternate===null?Error(a(467)):Error(a(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},je===null?re.memoizedState=je=t:je=je.next=t}return je}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qr(t){var n=Fr;return Fr+=1,Os===null&&(Os=[]),t=Zp(Os,t,n),n=re,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Pm:Bm),t}function Ul(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qr(t);if(t.$$typeof===K)return ct(t)}throw Error(a(438,String(t)))}function xc(t){var n=null,r=re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Nc(),re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Tt;return n.index++,r}function Tn(t,n){return typeof n=="function"?n(t):n}function zl(t){var n=qe();return Oc(n,ve,t)}function Oc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var _=g=null,S=null,R=n,D=!1;do{var L=R.lane&-536870913;if(L!==R.lane?(he&L)===L:(Zn&L)===L){var A=R.revertLane;if(A===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),L===Rs&&(D=!0);else if((Zn&A)===A){R=R.next,A===Rs&&(D=!0);continue}else L={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=L,g=f):S=S.next=L,re.lanes|=A,si|=A;L=R.action,Gi&&r(f,L),f=R.hasEagerState?R.eagerState:r(f,L)}else A={lane:L,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=A,g=f):S=S.next=A,re.lanes|=L,si|=L;R=R.next}while(R!==null&&R!==n);if(S===null?g=f:S.next=_,!At(f,t.memoizedState)&&(Ze=!0,D&&(r=As,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=S,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Dc(t){var n=qe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);At(f,n.memoizedState)||(Ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function rm(t,n,r){var l=re,u=qe(),f=ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!At((ve||u).memoizedState,r);g&&(u.memoizedState=r,Ze=!0),u=u.queue;var _=om.bind(null,l,u,t);if(Kr(2048,8,_,[t]),u.getSnapshot!==n||g||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Ds(9,Hl(),lm.bind(null,l,u,r,n),null),Ae===null)throw Error(a(349));f||(Zn&124)!==0||am(l,n,r)}return r}function am(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=re.updateQueue,n===null?(n=Nc(),re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function lm(t,n,r,l){n.value=r,n.getSnapshot=l,um(n)&&cm(t)}function om(t,n,r){return r(function(){um(n)&&cm(t)})}function um(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!At(t,r)}catch{return!0}}function cm(t){var n=bs(t,2);n!==null&&It(n,t,2)}function Mc(t){var n=yt();if(typeof t=="function"){var r=t;if(t=r(),Gi){Gn(!0);try{r()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:t},n}function fm(t,n,r,l){return t.baseState=r,Oc(t,ve,typeof l=="function"?l:Tn)}function QS(t,n,r,l,u){if(Bl(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,hm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function hm(t,n){var r=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var _=r(u,l),S=M.S;S!==null&&S(g,_),dm(t,n,_)}catch(R){Ic(t,n,R)}finally{M.T=f}}else try{f=r(u,l),dm(t,n,f)}catch(R){Ic(t,n,R)}}function dm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){pm(t,n,l)},function(l){return Ic(t,n,l)}):pm(t,n,r)}function pm(t,n,r){n.status="fulfilled",n.value=r,mm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,hm(t,r)))}function Ic(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,mm(n),n=n.next;while(n!==l)}t.action=null}function mm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gm(t,n){return n}function _m(t,n){if(ge){var r=Ae.formState;if(r!==null){e:{var l=re;if(ge){if(Le){t:{for(var u=Le,f=rn;u.nodeType!==8;){if(!f){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Le=Kt(u.nextSibling),l=u.data==="F!";break e}}Bi(l)}l=!1}l&&(n=r[0])}}return r=yt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:n},r.queue=l,r=Um.bind(null,re,l),l.dispatch=r,l=Mc(!1),f=Hc.bind(null,re,!1,l.queue),l=yt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,r=QS.bind(null,re,u,f,r),u.dispatch=r,l.memoizedState=t,[n,r,!1]}function ym(t){var n=qe();return vm(n,ve,t)}function vm(t,n,r){if(n=Oc(t,n,gm)[0],t=zl(Tn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Qr(n)}catch(g){throw g===jr?Dl:g}else l=n;n=qe();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(re.flags|=2048,Ds(9,Hl(),KS.bind(null,u,r),null)),[l,f,t]}function KS(t,n){t.action=n}function Em(t){var n=qe(),r=ve;if(r!==null)return vm(n,r,t);qe(),n=n.memoizedState,r=qe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ds(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=re.updateQueue,n===null&&(n=Nc(),re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Hl(){return{destroy:void 0,resource:void 0}}function Sm(){return qe().memoizedState}function Pl(t,n,r,l){var u=yt();l=l===void 0?null:l,re.flags|=t,u.memoizedState=Ds(1|n,Hl(),r,l)}function Kr(t,n,r,l){var u=qe();l=l===void 0?null:l;var f=u.memoizedState.inst;ve!==null&&l!==null&&Tc(l,ve.memoizedState.deps)?u.memoizedState=Ds(n,f,r,l):(re.flags|=t,u.memoizedState=Ds(1|n,f,r,l))}function bm(t,n){Pl(8390656,8,t,n)}function Tm(t,n){Kr(2048,8,t,n)}function Cm(t,n){return Kr(4,2,t,n)}function wm(t,n){return Kr(4,4,t,n)}function Rm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Am(t,n,r){r=r!=null?r.concat([t]):null,Kr(4,4,Rm.bind(null,n,t),r)}function kc(){}function Nm(t,n){var r=qe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Tc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function xm(t,n){var r=qe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Tc(n,l[1]))return l[0];if(l=t(),Gi){Gn(!0);try{t()}finally{Gn(!1)}}return r.memoizedState=[l,n],l}function Lc(t,n,r){return r===void 0||(Zn&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Mg(),re.lanes|=t,si|=t,r)}function Om(t,n,r,l){return At(r,n)?r:Ns.current!==null?(t=Lc(t,r,l),At(t,n)||(Ze=!0),t):(Zn&42)===0?(Ze=!0,t.memoizedState=r):(t=Mg(),re.lanes|=t,si|=t,n)}function Dm(t,n,r,l,u){var f=V.p;V.p=f!==0&&8>f?f:8;var g=M.T,_={};M.T=_,Hc(t,!1,n,r);try{var S=u(),R=M.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var D=GS(S,l);Xr(t,n,D,Mt(t))}else Xr(t,n,l,Mt(t))}catch(L){Xr(t,n,{then:function(){},status:"rejected",reason:L},Mt())}finally{V.p=f,M.T=g}}function XS(){}function Uc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var u=Mm(t).queue;Dm(t,u,n,$,r===null?XS:function(){return Im(t),r(l)})}function Mm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:$},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Im(t){var n=Mm(t).next.queue;Xr(t,n,{},Mt())}function zc(){return ct(da)}function km(){return qe().memoizedState}function Lm(){return qe().memoizedState}function WS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mt();t=Xn(r);var l=Wn(n,t,r);l!==null&&(It(l,n,r),Vr(l,n,r)),n={cache:dc()},t.payload=n;return}n=n.return}}function ZS(t,n,r){var l=Mt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Bl(t)?zm(n,r):(r=ic(t,n,r,l),r!==null&&(It(r,t,l),Hm(r,n,l)))}function Um(t,n,r){var l=Mt();Xr(t,n,r,l)}function Xr(t,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bl(t))zm(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,r);if(u.hasEagerState=!0,u.eagerState=_,At(_,g))return Tl(t,n,u,0),Ae===null&&bl(),!1}catch{}finally{}if(r=ic(t,n,u,l),r!==null)return It(r,t,l),Hm(r,n,l),!0}return!1}function Hc(t,n,r,l){if(l={lane:2,revertLane:_f(),action:l,hasEagerState:!1,eagerState:null,next:null},Bl(t)){if(n)throw Error(a(479))}else n=ic(t,r,l,2),n!==null&&It(n,t,2)}function Bl(t){var n=t.alternate;return t===re||n!==null&&n===re}function zm(t,n){xs=kl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fd(t,r)}}var jl={readContext:ct,use:Ul,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},Pm={readContext:ct,use:Ul,useCallback:function(t,n){return yt().memoizedState=[t,n===void 0?null:n],t},useContext:ct,useEffect:bm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Pl(4194308,4,Rm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Pl(4194308,4,t,n)},useInsertionEffect:function(t,n){Pl(4,2,t,n)},useMemo:function(t,n){var r=yt();n=n===void 0?null:n;var l=t();if(Gi){Gn(!0);try{t()}finally{Gn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=yt();if(r!==void 0){var u=r(n);if(Gi){Gn(!0);try{r(n)}finally{Gn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=ZS.bind(null,re,t),[l.memoizedState,t]},useRef:function(t){var n=yt();return t={current:t},n.memoizedState=t},useState:function(t){t=Mc(t);var n=t.queue,r=Um.bind(null,re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:kc,useDeferredValue:function(t,n){var r=yt();return Lc(r,t,n)},useTransition:function(){var t=Mc(!1);return t=Dm.bind(null,re,t.queue,!0,!1),yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=re,u=yt();if(ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ae===null)throw Error(a(349));(he&124)!==0||am(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,bm(om.bind(null,l,f,t),[t]),l.flags|=2048,Ds(9,Hl(),lm.bind(null,l,f,r,n),null),r},useId:function(){var t=yt(),n=Ae.identifierPrefix;if(ge){var r=En,l=vn;r=(l&~(1<<32-Rt(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Ll++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=YS++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:zc,useFormState:_m,useActionState:_m,useOptimistic:function(t){var n=yt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Hc.bind(null,re,!0,r),r.dispatch=n,[t,n]},useMemoCache:xc,useCacheRefresh:function(){return yt().memoizedState=WS.bind(null,re)}},Bm={readContext:ct,use:Ul,useCallback:Nm,useContext:ct,useEffect:Tm,useImperativeHandle:Am,useInsertionEffect:Cm,useLayoutEffect:wm,useMemo:xm,useReducer:zl,useRef:Sm,useState:function(){return zl(Tn)},useDebugValue:kc,useDeferredValue:function(t,n){var r=qe();return Om(r,ve.memoizedState,t,n)},useTransition:function(){var t=zl(Tn)[0],n=qe().memoizedState;return[typeof t=="boolean"?t:Qr(t),n]},useSyncExternalStore:rm,useId:km,useHostTransitionStatus:zc,useFormState:ym,useActionState:ym,useOptimistic:function(t,n){var r=qe();return fm(r,ve,t,n)},useMemoCache:xc,useCacheRefresh:Lm},$S={readContext:ct,use:Ul,useCallback:Nm,useContext:ct,useEffect:Tm,useImperativeHandle:Am,useInsertionEffect:Cm,useLayoutEffect:wm,useMemo:xm,useReducer:Dc,useRef:Sm,useState:function(){return Dc(Tn)},useDebugValue:kc,useDeferredValue:function(t,n){var r=qe();return ve===null?Lc(r,t,n):Om(r,ve.memoizedState,t,n)},useTransition:function(){var t=Dc(Tn)[0],n=qe().memoizedState;return[typeof t=="boolean"?t:Qr(t),n]},useSyncExternalStore:rm,useId:km,useHostTransitionStatus:zc,useFormState:Em,useActionState:Em,useOptimistic:function(t,n){var r=qe();return ve!==null?fm(r,ve,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xc,useCacheRefresh:Lm},Ms=null,Wr=0;function ql(t){var n=Wr;return Wr+=1,Ms===null&&(Ms=[]),Zp(Ms,t,n)}function Zr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vl(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jm(t){var n=t._init;return n(t._payload)}function qm(t){function n(C,T){if(t){var w=C.deletions;w===null?(C.deletions=[T],C.flags|=16):w.push(T)}}function r(C,T){if(!t)return null;for(;T!==null;)n(C,T),T=T.sibling;return null}function l(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function u(C,T){return C=yn(C,T),C.index=0,C.sibling=null,C}function f(C,T,w){return C.index=w,t?(w=C.alternate,w!==null?(w=w.index,w<T?(C.flags|=67108866,T):w):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function g(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function _(C,T,w,I){return T===null||T.tag!==6?(T=rc(w,C.mode,I),T.return=C,T):(T=u(T,w),T.return=C,T)}function S(C,T,w,I){var F=w.type;return F===k?D(C,T,w.props.children,I,w.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Xe&&jm(F)===T.type)?(T=u(T,w.props),Zr(T,w),T.return=C,T):(T=wl(w.type,w.key,w.props,null,C.mode,I),Zr(T,w),T.return=C,T)}function R(C,T,w,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=ac(w,C.mode,I),T.return=C,T):(T=u(T,w.children||[]),T.return=C,T)}function D(C,T,w,I,F){return T===null||T.tag!==7?(T=Ui(w,C.mode,I,F),T.return=C,T):(T=u(T,w),T.return=C,T)}function L(C,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=rc(""+T,C.mode,w),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return w=wl(T.type,T.key,T.props,null,C.mode,w),Zr(w,T),w.return=C,w;case x:return T=ac(T,C.mode,w),T.return=C,T;case Xe:var I=T._init;return T=I(T._payload),L(C,T,w)}if(ot(T)||lt(T))return T=Ui(T,C.mode,w,null),T.return=C,T;if(typeof T.then=="function")return L(C,ql(T),w);if(T.$$typeof===K)return L(C,xl(C,T),w);Vl(C,T)}return null}function A(C,T,w,I){var F=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return F!==null?null:_(C,T,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return w.key===F?S(C,T,w,I):null;case x:return w.key===F?R(C,T,w,I):null;case Xe:return F=w._init,w=F(w._payload),A(C,T,w,I)}if(ot(w)||lt(w))return F!==null?null:D(C,T,w,I,null);if(typeof w.then=="function")return A(C,T,ql(w),I);if(w.$$typeof===K)return A(C,T,xl(C,w),I);Vl(C,w)}return null}function N(C,T,w,I,F){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return C=C.get(w)||null,_(T,C,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return C=C.get(I.key===null?w:I.key)||null,S(T,C,I,F);case x:return C=C.get(I.key===null?w:I.key)||null,R(T,C,I,F);case Xe:var ae=I._init;return I=ae(I._payload),N(C,T,w,I,F)}if(ot(I)||lt(I))return C=C.get(w)||null,D(T,C,I,F,null);if(typeof I.then=="function")return N(C,T,w,ql(I),F);if(I.$$typeof===K)return N(C,T,w,xl(T,I),F);Vl(T,I)}return null}function ee(C,T,w,I){for(var F=null,ae=null,Q=T,Z=T=0,Je=null;Q!==null&&Z<w.length;Z++){Q.index>Z?(Je=Q,Q=null):Je=Q.sibling;var pe=A(C,Q,w[Z],I);if(pe===null){Q===null&&(Q=Je);break}t&&Q&&pe.alternate===null&&n(C,Q),T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe,Q=Je}if(Z===w.length)return r(C,Q),ge&&Hi(C,Z),F;if(Q===null){for(;Z<w.length;Z++)Q=L(C,w[Z],I),Q!==null&&(T=f(Q,T,Z),ae===null?F=Q:ae.sibling=Q,ae=Q);return ge&&Hi(C,Z),F}for(Q=l(Q);Z<w.length;Z++)Je=N(Q,C,Z,w[Z],I),Je!==null&&(t&&Je.alternate!==null&&Q.delete(Je.key===null?Z:Je.key),T=f(Je,T,Z),ae===null?F=Je:ae.sibling=Je,ae=Je);return t&&Q.forEach(function(di){return n(C,di)}),ge&&Hi(C,Z),F}function W(C,T,w,I){if(w==null)throw Error(a(151));for(var F=null,ae=null,Q=T,Z=T=0,Je=null,pe=w.next();Q!==null&&!pe.done;Z++,pe=w.next()){Q.index>Z?(Je=Q,Q=null):Je=Q.sibling;var di=A(C,Q,pe.value,I);if(di===null){Q===null&&(Q=Je);break}t&&Q&&di.alternate===null&&n(C,Q),T=f(di,T,Z),ae===null?F=di:ae.sibling=di,ae=di,Q=Je}if(pe.done)return r(C,Q),ge&&Hi(C,Z),F;if(Q===null){for(;!pe.done;Z++,pe=w.next())pe=L(C,pe.value,I),pe!==null&&(T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe);return ge&&Hi(C,Z),F}for(Q=l(Q);!pe.done;Z++,pe=w.next())pe=N(Q,C,Z,pe.value,I),pe!==null&&(t&&pe.alternate!==null&&Q.delete(pe.key===null?Z:pe.key),T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe);return t&&Q.forEach(function(Jb){return n(C,Jb)}),ge&&Hi(C,Z),F}function Se(C,T,w,I){if(typeof w=="object"&&w!==null&&w.type===k&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case E:e:{for(var F=w.key;T!==null;){if(T.key===F){if(F=w.type,F===k){if(T.tag===7){r(C,T.sibling),I=u(T,w.props.children),I.return=C,C=I;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Xe&&jm(F)===T.type){r(C,T.sibling),I=u(T,w.props),Zr(I,w),I.return=C,C=I;break e}r(C,T);break}else n(C,T);T=T.sibling}w.type===k?(I=Ui(w.props.children,C.mode,I,w.key),I.return=C,C=I):(I=wl(w.type,w.key,w.props,null,C.mode,I),Zr(I,w),I.return=C,C=I)}return g(C);case x:e:{for(F=w.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){r(C,T.sibling),I=u(T,w.children||[]),I.return=C,C=I;break e}else{r(C,T);break}else n(C,T);T=T.sibling}I=ac(w,C.mode,I),I.return=C,C=I}return g(C);case Xe:return F=w._init,w=F(w._payload),Se(C,T,w,I)}if(ot(w))return ee(C,T,w,I);if(lt(w)){if(F=lt(w),typeof F!="function")throw Error(a(150));return w=F.call(w),W(C,T,w,I)}if(typeof w.then=="function")return Se(C,T,ql(w),I);if(w.$$typeof===K)return Se(C,T,xl(C,w),I);Vl(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(r(C,T.sibling),I=u(T,w),I.return=C,C=I):(r(C,T),I=rc(w,C.mode,I),I.return=C,C=I),g(C)):r(C,T)}return function(C,T,w,I){try{Wr=0;var F=Se(C,T,w,I);return Ms=null,F}catch(Q){if(Q===jr||Q===Dl)throw Q;var ae=Nt(29,Q,null,C.mode);return ae.lanes=I,ae.return=C,ae}finally{}}}var Is=qm(!0),Vm=qm(!1),jt=U(null),an=null;function $n(t){var n=t.alternate;q(Ye,Ye.current&1),q(jt,t),an===null&&(n===null||Ns.current!==null||n.memoizedState!==null)&&(an=t)}function Gm(t){if(t.tag===22){if(q(Ye,Ye.current),q(jt,t),an===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(an=t)}}else Jn()}function Jn(){q(Ye,Ye.current),q(jt,jt.current)}function Cn(t){Y(jt),an===t&&(an=null),Y(Ye)}var Ye=U(0);function Gl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||xf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Pc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Mt(),u=Xn(l);u.payload=n,r!=null&&(u.callback=r),n=Wn(t,u,l),n!==null&&(It(n,t,l),Vr(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Mt(),u=Xn(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Wn(t,u,l),n!==null&&(It(n,t,l),Vr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Mt(),l=Xn(r);l.tag=2,n!=null&&(l.callback=n),n=Wn(t,l,r),n!==null&&(It(n,t,r),Vr(n,t,r))}};function Ym(t,n,r,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ir(r,l)||!Ir(u,f):!0}function Fm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Bc.enqueueReplaceState(n,n.state,null)}function Yi(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=y({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}var Yl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qm(t){Yl(t)}function Km(t){console.error(t)}function Xm(t){Yl(t)}function Fl(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function jc(t,n,r){return r=Xn(r),r.tag=3,r.payload={element:null},r.callback=function(){Fl(t,n)},r}function Zm(t){return t=Xn(t),t.tag=3,t}function $m(t,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Wm(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Wm(n,r,l),typeof u!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function JS(t,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Hr(n,r,u,!0),r=jt.current,r!==null){switch(r.tag){case 13:return an===null?hf():r.alternate===null&&Ue===0&&(Ue=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===gc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),pf(t,l,u)),!1;case 22:return r.flags|=65536,l===gc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),pf(t,l,u)),!1}throw Error(a(435,r.tag))}return pf(t,l,u),hf(),!1}if(ge)return n=jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==uc&&(t=Error(a(422),{cause:l}),zr(zt(t,r)))):(l!==uc&&(n=Error(a(423),{cause:l}),zr(zt(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=zt(l,r),u=jc(t.stateNode,l,u),vc(t,u),Ue!==4&&(Ue=2)),!1;var f=Error(a(520),{cause:l});if(f=zt(f,r),sa===null?sa=[f]:sa.push(f),Ue!==4&&(Ue=2),n===null)return!0;l=zt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=jc(r.stateNode,l,t),vc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ri===null||!ri.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Zm(u),$m(u,t,r,l),vc(r,u),!1}r=r.return}while(r!==null);return!1}var Jm=Error(a(461)),Ze=!1;function nt(t,n,r,l){n.child=t===null?Vm(n,null,r,l):Is(n,t.child,r,l)}function eg(t,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return qi(n),l=Cc(t,n,r,g,f,u),_=wc(),t!==null&&!Ze?(Rc(t,n,u),wn(t,n,u)):(ge&&_&&lc(n),n.flags|=1,nt(t,n,l,u),n.child)}function tg(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!sc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ng(t,n,f,l,u)):(t=wl(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xc(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ir,r(g,l)&&t.ref===n.ref)return wn(t,n,u)}return n.flags|=1,t=yn(f,l),t.ref=n.ref,t.return=n,n.child=t}function ng(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(Ir(f,l)&&t.ref===n.ref)if(Ze=!1,n.pendingProps=l=f,Xc(t,u))(t.flags&131072)!==0&&(Ze=!0);else return n.lanes=t.lanes,wn(t,n,u)}return qc(t,n,r,l,u)}function ig(t,n,r){var l=n.pendingProps,u=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return sg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ol(n,f!==null?f.cachePool:null),f!==null?nm(n,f):Sc(),Gm(n);else return n.lanes=n.childLanes=536870912,sg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ol(n,f.cachePool),nm(n,f),Jn(),n.memoizedState=null):(t!==null&&Ol(n,null),Sc(),Jn());return nt(t,n,u,r),n.child}function sg(t,n,r,l){var u=mc();return u=u===null?null:{parent:Ge._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},t!==null&&Ol(n,null),Sc(),Gm(n),t!==null&&Hr(t,n,l,!0),null}function Ql(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qc(t,n,r,l,u){return qi(n),r=Cc(t,n,r,l,void 0,u),l=wc(),t!==null&&!Ze?(Rc(t,n,u),wn(t,n,u)):(ge&&l&&lc(n),n.flags|=1,nt(t,n,r,u),n.child)}function rg(t,n,r,l,u,f){return qi(n),n.updateQueue=null,r=sm(n,l,r,u),im(t),l=wc(),t!==null&&!Ze?(Rc(t,n,f),wn(t,n,f)):(ge&&l&&lc(n),n.flags|=1,nt(t,n,r,f),n.child)}function ag(t,n,r,l,u){if(qi(n),n.stateNode===null){var f=Ts,g=r.contextType;typeof g=="object"&&g!==null&&(f=ct(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_c(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ct(g):Ts,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Pc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bc.enqueueReplaceState(f,f.state,null),Yr(n,l,f,u),Gr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var _=n.memoizedProps,S=Yi(r,_);f.props=S;var R=f.context,D=r.contextType;g=Ts,typeof D=="object"&&D!==null&&(g=ct(D));var L=r.getDerivedStateFromProps;D=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==g)&&Fm(n,f,l,g),Kn=!1;var A=n.memoizedState;f.state=A,Yr(n,l,f,u),Gr(),R=n.memoizedState,_||A!==R||Kn?(typeof L=="function"&&(Pc(n,r,L,l),R=n.memoizedState),(S=Kn||Ym(n,r,S,l,A,R,g))?(D||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=g,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yc(t,n),g=n.memoizedProps,D=Yi(r,g),f.props=D,L=n.pendingProps,A=f.context,R=r.contextType,S=Ts,typeof R=="object"&&R!==null&&(S=ct(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==L||A!==S)&&Fm(n,f,l,S),Kn=!1,A=n.memoizedState,f.state=A,Yr(n,l,f,u),Gr();var N=n.memoizedState;g!==L||A!==N||Kn||t!==null&&t.dependencies!==null&&Nl(t.dependencies)?(typeof _=="function"&&(Pc(n,r,_,l),N=n.memoizedState),(D=Kn||Ym(n,r,D,l,A,N,S)||t!==null&&t.dependencies!==null&&Nl(t.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=S,l=D):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&A===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ql(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Is(n,t.child,null,u),n.child=Is(n,null,r,u)):nt(t,n,r,u),n.memoizedState=f.state,t=n.child):t=wn(t,n,u),t}function lg(t,n,r,l){return Ur(),n.flags|=256,nt(t,n,r,l),n.child}var Vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gc(t){return{baseLanes:t,cachePool:Kp()}}function Yc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=qt),t}function og(t,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ye.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ge){if(u?$n(n):Jn(),ge){var _=Le,S;if(S=_){e:{for(S=_,_=rn;S.nodeType!==8;){if(!_){_=null;break e}if(S=Kt(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(n.memoizedState={dehydrated:_,treeContext:zi!==null?{id:vn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},S=Nt(18,null,null,0),S.stateNode=_,S.return=n,n.child=S,ht=n,Le=null,S=!0):S=!1}S||Bi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return xf(_)?n.lanes=32:n.lanes=536870912,null;Cn(n)}return _=l.children,l=l.fallback,u?(Jn(),u=n.mode,_=Kl({mode:"hidden",children:_},u),l=Ui(l,u,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=Gc(r),u.childLanes=Yc(t,g,r),n.memoizedState=Vc,l):($n(n),Fc(n,_))}if(S=t.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(f)n.flags&256?($n(n),n.flags&=-257,n=Qc(t,n,r)):n.memoizedState!==null?(Jn(),n.child=t.child,n.flags|=128,n=null):(Jn(),u=l.fallback,_=n.mode,l=Kl({mode:"visible",children:l.children},_),u=Ui(u,_,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Is(n,t.child,null,r),l=n.child,l.memoizedState=Gc(r),l.childLanes=Yc(t,g,r),n.memoizedState=Vc,n=u);else if($n(n),xf(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(a(419)),l.stack="",l.digest=g,zr({value:l,source:null,stack:null}),n=Qc(t,n,r)}else if(Ze||Hr(t,n,r,!1),g=(r&t.childLanes)!==0,Ze||g){if(g=Ae,g!==null&&(l=r&-r,l=(l&42)!==0?1:xu(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,bs(t,l),It(g,t,l),Jm;_.data==="$?"||hf(),n=Qc(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,Le=Kt(_.nextSibling),ht=n,ge=!0,Pi=null,rn=!1,t!==null&&(Pt[Bt++]=vn,Pt[Bt++]=En,Pt[Bt++]=zi,vn=t.id,En=t.overflow,zi=n),n=Fc(n,l.children),n.flags|=4096);return n}return u?(Jn(),u=l.fallback,_=n.mode,S=t.child,R=S.sibling,l=yn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,R!==null?u=yn(R,u):(u=Ui(u,_,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=t.child.memoizedState,_===null?_=Gc(r):(S=_.cachePool,S!==null?(R=Ge._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=Kp(),_={baseLanes:_.baseLanes|r,cachePool:S}),u.memoizedState=_,u.childLanes=Yc(t,g,r),n.memoizedState=Vc,l):($n(n),r=t.child,t=r.sibling,r=yn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Fc(t,n){return n=Kl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Kl(t,n){return t=Nt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qc(t,n,r){return Is(n,t.child,null,r),t=Fc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),fc(t.return,n,r)}function Kc(t,n,r,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function cg(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(nt(t,n,l.children,r),l=Ye.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,r,n);else if(t.tag===19)ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(q(Ye,l),u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Gl(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Kc(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Gl(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Kc(n,!0,r,null,f);break;case"together":Kc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),si|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Hr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nl(t)))}function eb(t,n,r){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),Qn(n,Ge,t.memoizedState.cache),Ur();break;case 27:case 5:Cu(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:Qn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($n(n),n.flags|=128,null):(r&n.child.childLanes)!==0?og(t,n,r):($n(n),t=wn(t,n,r),t!==null?t.sibling:null);$n(n);break;case 19:var u=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Hr(t,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return cg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(Ye,Ye.current),l)break;return null;case 22:case 23:return n.lanes=0,ig(t,n,r);case 24:Qn(n,Ge,t.memoizedState.cache)}return wn(t,n,r)}function fg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ze=!0;else{if(!Xc(t,r)&&(n.flags&128)===0)return Ze=!1,eb(t,n,r);Ze=(t.flags&131072)!==0}else Ze=!1,ge&&(n.flags&1048576)!==0&&jp(n,Al,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")sc(l)?(t=Yi(l,t),n.tag=1,n=ag(null,n,l,t,r)):(n.tag=0,n=qc(null,n,l,t,r));else{if(l!=null){if(u=l.$$typeof,u===Ce){n.tag=11,n=eg(null,n,l,t,r);break e}else if(u===Ve){n.tag=14,n=tg(null,n,l,t,r);break e}}throw n=Oi(l)||l,Error(a(306,n,""))}}return n;case 0:return qc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=Yi(l,n.pendingProps),ag(t,n,l,u,r);case 3:e:{if(Oe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,yc(t,n),Yr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Qn(n,Ge,l),l!==f.cache&&hc(n,[Ge],r,!0),Gr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=lg(t,n,l,r);break e}else if(l!==u){u=zt(Error(a(424)),n),zr(u),n=lg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=Kt(t.firstChild),ht=n,ge=!0,Pi=null,rn=!0,r=Vm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ur(),l===u){n=wn(t,n,r);break e}nt(t,n,l,r)}n=n.child}return n;case 26:return Ql(t,n),t===null?(r=m_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ge||(r=n.type,t=n.pendingProps,l=oo(ie.current).createElement(r),l[ut]=n,l[gt]=t,st(l,r,t),We(l),n.stateNode=l):n.memoizedState=m_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cu(n),t===null&&ge&&(l=n.stateNode=h_(n.type,n.pendingProps,ie.current),ht=n,rn=!0,u=Le,oi(n.type)?(Of=u,Le=Kt(l.firstChild)):Le=u),nt(t,n,n.pendingProps.children,r),Ql(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ge&&((u=l=Le)&&(l=Nb(l,n.type,n.pendingProps,rn),l!==null?(n.stateNode=l,ht=n,Le=Kt(l.firstChild),rn=!1,u=!0):u=!1),u||Bi(n)),Cu(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Rf(u,f)?l=null:g!==null&&Rf(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Cc(t,n,FS,null,null,r),da._currentValue=u),Ql(t,n),nt(t,n,l,r),n.child;case 6:return t===null&&ge&&((t=r=Le)&&(r=xb(r,n.pendingProps,rn),r!==null?(n.stateNode=r,ht=n,Le=null,t=!0):t=!1),t||Bi(n)),null;case 13:return og(t,n,r);case 4:return Oe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Is(n,null,l,r):nt(t,n,l,r),n.child;case 11:return eg(t,n,n.type,n.pendingProps,r);case 7:return nt(t,n,n.pendingProps,r),n.child;case 8:return nt(t,n,n.pendingProps.children,r),n.child;case 12:return nt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qn(n,n.type,l.value),nt(t,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,qi(n),u=ct(u),l=l(u),n.flags|=1,nt(t,n,l,r),n.child;case 14:return tg(t,n,n.type,n.pendingProps,r);case 15:return ng(t,n,n.type,n.pendingProps,r);case 19:return cg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Kl(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yn(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return ig(t,n,r);case 24:return qi(n),l=ct(Ge),t===null?(u=mc(),u===null&&(u=Ae,f=dc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},_c(n),Qn(n,Ge,u)):((t.lanes&r)!==0&&(yc(t,n),Yr(n,null,null,r),Gr()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Qn(n,Ge,l)):(l=f.cache,Qn(n,Ge,l),l!==u.cache&&hc(n,[Ge],r,!0))),nt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Rn(t){t.flags|=4}function hg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(n)){if(n=jt.current,n!==null&&((he&4194048)===he?an!==null:(he&62914560)!==he&&(he&536870912)===0||n!==an))throw qr=gc,Xp;t.flags|=8192}}function Xl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Gd():536870912,t.lanes|=n,zs|=n)}function $r(t,n){if(!ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function tb(t,n,r){var l=n.pendingProps;switch(oc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(n),null;case 1:return Ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bn(Ge),Vn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lr(n)?Rn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gp())),Ie(n),null;case 26:return r=n.memoizedState,t===null?(Rn(n),r!==null?(Ie(n),hg(n,r)):(Ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Rn(n),Ie(n),hg(n,r)):(Ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Rn(n),Ie(n),n.flags&=-16777217),null;case 27:al(n),r=ie.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Rn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ie(n),null}t=X.current,Lr(n)?qp(n):(t=h_(u,l,r),n.stateNode=t,Rn(n))}return Ie(n),null;case 5:if(al(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Rn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ie(n),null}if(t=X.current,Lr(n))qp(n);else{switch(u=oo(ie.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}t[ut]=n,t[gt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(st(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Rn(n)}}return Ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Rn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ie.current,Lr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,u=ht,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ut]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||r_(t.nodeValue,r)),t||Bi(n)}else t=oo(t).createTextNode(l),t[ut]=n,n.stateNode=t}return Ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Lr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[ut]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ie(n),u=!1}else u=Gp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Cn(n),n):(Cn(n),null)}if(Cn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Xl(n,n.updateQueue),Ie(n),null;case 4:return Vn(),t===null&&Sf(n.stateNode.containerInfo),Ie(n),null;case 10:return bn(n.type),Ie(n),null;case 19:if(Y(Ye),u=n.memoizedState,u===null)return Ie(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)$r(u,!1);else{if(Ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gl(t),f!==null){for(n.flags|=128,$r(u,!1),t=f.updateQueue,n.updateQueue=t,Xl(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Bp(r,t),r=r.sibling;return q(Ye,Ye.current&1|2),n.child}t=t.sibling}u.tail!==null&&sn()>$l&&(n.flags|=128,l=!0,$r(u,!1),n.lanes=4194304)}else{if(!l)if(t=Gl(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xl(n,t),$r(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!ge)return Ie(n),null}else 2*sn()-u.renderingStartTime>$l&&r!==536870912&&(n.flags|=128,l=!0,$r(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(t=u.last,t!==null?t.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=sn(),n.sibling=null,t=Ye.current,q(Ye,l?t&1|2:t&1),n):(Ie(n),null);case 22:case 23:return Cn(n),bc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Ie(n),n.subtreeFlags&6&&(n.flags|=8192)):Ie(n),r=n.updateQueue,r!==null&&Xl(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Vi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bn(Ge),Ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function nb(t,n){switch(oc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bn(Ge),Vn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return al(n),null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ye),null;case 4:return Vn(),null;case 10:return bn(n.type),null;case 22:case 23:return Cn(n),bc(),t!==null&&Y(Vi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bn(Ge),null;case 25:return null;default:return null}}function dg(t,n){switch(oc(n),n.tag){case 3:bn(Ge),Vn();break;case 26:case 27:case 5:al(n);break;case 4:Vn();break;case 13:Cn(n);break;case 19:Y(Ye);break;case 10:bn(n.type);break;case 22:case 23:Cn(n),bc(),t!==null&&Y(Vi);break;case 24:bn(Ge)}}function Jr(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(_){Re(n,n.return,_)}}function ei(t,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var S=r,R=_;try{R()}catch(D){Re(u,S,D)}}}l=l.next}while(l!==f)}}catch(D){Re(n,n.return,D)}}function pg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{tm(n,r)}catch(l){Re(t,t.return,l)}}}function mg(t,n,r){r.props=Yi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Re(t,n,l)}}function ea(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(u){Re(t,n,u)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){Re(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Re(t,n,u)}else r.current=null}function gg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){Re(t,t.return,u)}}function Wc(t,n,r){try{var l=t.stateNode;Tb(l,t.type,r,n),l[gt]=n}catch(u){Re(t,t.return,u)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oi(t.type)||t.tag===4}function Zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $c(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=lo));else if(l!==4&&(l===27&&oi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($c(t,n,r),t=t.sibling;t!==null;)$c(t,n,r),t=t.sibling}function Wl(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&oi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wl(t,n,r),t=t.sibling;t!==null;)Wl(t,n,r),t=t.sibling}function yg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);st(n,l,r),n[ut]=t,n[gt]=r}catch(f){Re(t,t.return,f)}}var An=!1,Be=!1,Jc=!1,vg=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ib(t,n){if(t=t.containerInfo,Cf=mo,t=Op(t),Zu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,_=-1,S=-1,R=0,D=0,L=t,A=null;t:for(;;){for(var N;L!==r||u!==0&&L.nodeType!==3||(_=g+u),L!==f||l!==0&&L.nodeType!==3||(S=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(N=L.firstChild)!==null;)A=L,L=N;for(;;){if(L===t)break t;if(A===r&&++R===u&&(_=g),A===f&&++D===l&&(S=g),(N=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=N}r=_===-1||S===-1?null:{start:_,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(wf={focusedElem:t,selectionRange:r},mo=!1,$e=n;$e!==null;)if(n=$e,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,$e=t;else for(;$e!==null;){switch(n=$e,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ee=Yi(r.type,u,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ee,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(W){Re(r,r.return,W)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Nf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,$e=t;break}$e=n.return}}function Eg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ti(t,r),l&4&&Jr(5,r);break;case 1:if(ti(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Re(r,r.return,g)}else{var u=Yi(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Re(r,r.return,g)}}l&64&&pg(r),l&512&&ea(r,r.return);break;case 3:if(ti(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{tm(t,n)}catch(g){Re(r,r.return,g)}}break;case 27:n===null&&l&4&&yg(r);case 26:case 5:ti(t,r),n===null&&l&4&&gg(r),l&512&&ea(r,r.return);break;case 12:ti(t,r);break;case 13:ti(t,r),l&4&&Tg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=hb.bind(null,r),Ob(t,r))));break;case 22:if(l=r.memoizedState!==null||An,!l){n=n!==null&&n.memoizedState!==null||Be,u=An;var f=Be;An=l,(Be=n)&&!f?ni(t,r,(r.subtreeFlags&8772)!==0):ti(t,r),An=u,Be=f}break;case 30:break;default:ti(t,r)}}function Sg(t){var n=t.alternate;n!==null&&(t.alternate=null,Sg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var De=null,vt=!1;function Nn(t,n,r){for(r=r.child;r!==null;)bg(t,n,r),r=r.sibling}function bg(t,n,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Sr,r)}catch{}switch(r.tag){case 26:Be||ln(r,n),Nn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Be||ln(r,n);var l=De,u=vt;oi(r.type)&&(De=r.stateNode,vt=!1),Nn(t,n,r),ua(r.stateNode),De=l,vt=u;break;case 5:Be||ln(r,n);case 6:if(l=De,u=vt,De=null,Nn(t,n,r),De=l,vt=u,De!==null)if(vt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(r.stateNode)}catch(f){Re(r,n,f)}else try{De.removeChild(r.stateNode)}catch(f){Re(r,n,f)}break;case 18:De!==null&&(vt?(t=De,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),_a(t)):c_(De,r.stateNode));break;case 4:l=De,u=vt,De=r.stateNode.containerInfo,vt=!0,Nn(t,n,r),De=l,vt=u;break;case 0:case 11:case 14:case 15:Be||ei(2,r,n),Be||ei(4,r,n),Nn(t,n,r);break;case 1:Be||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&mg(r,n,l)),Nn(t,n,r);break;case 21:Nn(t,n,r);break;case 22:Be=(l=Be)||r.memoizedState!==null,Nn(t,n,r),Be=l;break;default:Nn(t,n,r)}}function Tg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_a(t)}catch(r){Re(n,n.return,r)}}function sb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vg),n;default:throw Error(a(435,t.tag))}}function ef(t,n){var r=sb(t);n.forEach(function(l){var u=db.bind(null,t,l);r.has(l)||(r.add(l),l.then(u,u))})}function xt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(oi(_.type)){De=_.stateNode,vt=!1;break e}break;case 5:De=_.stateNode,vt=!1;break e;case 3:case 4:De=_.stateNode.containerInfo,vt=!0;break e}_=_.return}if(De===null)throw Error(a(160));bg(f,g,u),De=null,vt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Cg(n,t),n=n.sibling}var Qt=null;function Cg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(n,t),Ot(t),l&4&&(ei(3,t,t.return),Jr(3,t),ei(5,t,t.return));break;case 1:xt(n,t),Ot(t),l&512&&(Be||r===null||ln(r,r.return)),l&64&&An&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=Qt;if(xt(n,t),Ot(t),l&512&&(Be||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Cr]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),st(f,l,r),f[ut]=t,We(f),l=f;break e;case"link":var g=y_("link","href",u).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),st(f,l,r),u.head.appendChild(f);break;case"meta":if(g=y_("meta","content",u).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}f=u.createElement(l),st(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[ut]=t,We(f),l=f}t.stateNode=l}else v_(u,t.type,t.stateNode);else t.stateNode=__(u,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?v_(u,t.type,t.stateNode):__(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wc(t,t.memoizedProps,r.memoizedProps)}break;case 27:xt(n,t),Ot(t),l&512&&(Be||r===null||ln(r,r.return)),r!==null&&l&4&&Wc(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xt(n,t),Ot(t),l&512&&(Be||r===null||ln(r,r.return)),t.flags&32){u=t.stateNode;try{ms(u,"")}catch(N){Re(t,t.return,N)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Wc(t,u,r!==null?r.memoizedProps:u)),l&1024&&(Jc=!0);break;case 6:if(xt(n,t),Ot(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(N){Re(t,t.return,N)}}break;case 3:if(fo=null,u=Qt,Qt=uo(n.containerInfo),xt(n,t),Qt=u,Ot(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{_a(n.containerInfo)}catch(N){Re(t,t.return,N)}Jc&&(Jc=!1,wg(t));break;case 4:l=Qt,Qt=uo(t.stateNode.containerInfo),xt(n,t),Ot(t),Qt=l;break;case 12:xt(n,t),Ot(t);break;case 13:xt(n,t),Ot(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(lf=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ef(t,l)));break;case 22:u=t.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,R=An,D=Be;if(An=R||u,Be=D||S,xt(n,t),Be=D,An=R,Ot(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||S||An||Be||Fi(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){S=r=n;try{if(f=S.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=S.stateNode;var L=S.memoizedProps.style,A=L!=null&&L.hasOwnProperty("display")?L.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(N){Re(S,S.return,N)}}}else if(n.tag===6){if(r===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(N){Re(S,S.return,N)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ef(t,r))));break;case 19:xt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ef(t,l)));break;case 30:break;case 21:break;default:xt(n,t),Ot(t)}}function Ot(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(_g(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,f=Zc(t);Wl(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(ms(g,""),r.flags&=-33);var _=Zc(t);Wl(t,_,g);break;case 3:case 4:var S=r.stateNode.containerInfo,R=Zc(t);$c(t,R,S);break;default:throw Error(a(161))}}catch(D){Re(t,t.return,D)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ti(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Eg(t,n.alternate,n),n=n.sibling}function Fi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ei(4,n,n.return),Fi(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&mg(n,n.return,r),Fi(n);break;case 27:ua(n.stateNode);case 26:case 5:ln(n,n.return),Fi(n);break;case 22:n.memoizedState===null&&Fi(n);break;case 30:Fi(n);break;default:Fi(n)}t=t.sibling}}function ni(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ni(u,f,r),Jr(4,f);break;case 1:if(ni(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Re(l,l.return,R)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)em(S[u],_)}catch(R){Re(l,l.return,R)}}r&&g&64&&pg(f),ea(f,f.return);break;case 27:yg(f);case 26:case 5:ni(u,f,r),r&&l===null&&g&4&&gg(f),ea(f,f.return);break;case 12:ni(u,f,r);break;case 13:ni(u,f,r),r&&g&4&&Tg(u,f);break;case 22:f.memoizedState===null&&ni(u,f,r),ea(f,f.return);break;case 30:break;default:ni(u,f,r)}n=n.sibling}}function tf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Pr(r))}function nf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pr(t))}function on(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rg(t,n,r,l),n=n.sibling}function Rg(t,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:on(t,n,r,l),u&2048&&Jr(9,n);break;case 1:on(t,n,r,l);break;case 3:on(t,n,r,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pr(t)));break;case 12:if(u&2048){on(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Re(n,n.return,S)}}else on(t,n,r,l);break;case 13:on(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?on(t,n,r,l):ta(t,n):f._visibility&2?on(t,n,r,l):(f._visibility|=2,ks(t,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&tf(g,n);break;case 24:on(t,n,r,l),u&2048&&nf(n.alternate,n);break;default:on(t,n,r,l)}}function ks(t,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,g=n,_=r,S=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:ks(f,g,_,S,u),Jr(8,g);break;case 23:break;case 22:var D=g.stateNode;g.memoizedState!==null?D._visibility&2?ks(f,g,_,S,u):ta(f,g):(D._visibility|=2,ks(f,g,_,S,u)),u&&R&2048&&tf(g.alternate,g);break;case 24:ks(f,g,_,S,u),u&&R&2048&&nf(g.alternate,g);break;default:ks(f,g,_,S,u)}n=n.sibling}}function ta(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,u=l.flags;switch(l.tag){case 22:ta(r,l),u&2048&&tf(l.alternate,l);break;case 24:ta(r,l),u&2048&&nf(l.alternate,l);break;default:ta(r,l)}n=n.sibling}}var na=8192;function Ls(t){if(t.subtreeFlags&na)for(t=t.child;t!==null;)Ag(t),t=t.sibling}function Ag(t){switch(t.tag){case 26:Ls(t),t.flags&na&&t.memoizedState!==null&&Vb(Qt,t.memoizedState,t.memoizedProps);break;case 5:Ls(t);break;case 3:case 4:var n=Qt;Qt=uo(t.stateNode.containerInfo),Ls(t),Qt=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=na,na=16777216,Ls(t),na=n):Ls(t));break;default:Ls(t)}}function Ng(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ia(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];$e=l,Og(l,t)}Ng(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 0:case 11:case 15:ia(t),t.flags&2048&&ei(9,t,t.return);break;case 3:ia(t);break;case 12:ia(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zl(t)):ia(t);break;default:ia(t)}}function Zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];$e=l,Og(l,t)}Ng(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ei(8,n,n.return),Zl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Zl(n));break;default:Zl(n)}t=t.sibling}}function Og(t,n){for(;$e!==null;){var r=$e;switch(r.tag){case 0:case 11:case 15:ei(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,$e=l;else e:for(r=t;$e!==null;){l=$e;var u=l.sibling,f=l.return;if(Sg(l),l===r){$e=null;break e}if(u!==null){u.return=f,$e=u;break e}$e=f}}}var rb={getCacheForType:function(t){var n=ct(Ge),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},ab=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ae=null,ue=null,he=0,ye=0,Dt=null,ii=!1,Us=!1,sf=!1,xn=0,Ue=0,si=0,Qi=0,rf=0,qt=0,zs=0,sa=null,Et=null,af=!1,lf=0,$l=1/0,Jl=null,ri=null,it=0,ai=null,Hs=null,Ps=0,of=0,uf=null,Dg=null,ra=0,cf=null;function Mt(){if((_e&2)!==0&&he!==0)return he&-he;if(M.T!==null){var t=Rs;return t!==0?t:_f()}return Qd()}function Mg(){qt===0&&(qt=(he&536870912)===0||ge?Vd():536870912);var t=jt.current;return t!==null&&(t.flags|=32),qt}function It(t,n,r){(t===Ae&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),li(t,he,qt,!1)),Tr(t,r),((_e&2)===0||t!==Ae)&&(t===Ae&&((_e&2)===0&&(Qi|=r),Ue===4&&li(t,he,qt,!1)),un(t))}function Ig(t,n,r){if((_e&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||br(t,n),u=l?ub(t,n):df(t,n,!0),f=l;do{if(u===0){Us&&!l&&li(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!lb(r)){u=df(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;u=sa;var S=_.current.memoizedState.isDehydrated;if(S&&(Bs(_,g).flags|=256),g=df(_,g,!1),g!==2){if(sf&&!S){_.errorRecoveryDisabledLanes|=f,Qi|=f,u=4;break e}f=Et,Et=u,f!==null&&(Et===null?Et=f:Et.push.apply(Et,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Bs(t,0),li(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:li(l,n,qt,!ii);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=lf+300-sn(),10<u)){if(li(l,n,qt,!ii),cl(l,0,!0)!==0)break e;l.timeoutHandle=o_(kg.bind(null,l,r,Et,Jl,af,n,qt,Qi,zs,ii,f,2,-0,0),u);break e}kg(l,r,Et,Jl,af,n,qt,Qi,zs,ii,f,0,-0,0)}}break}while(!0);un(t)}function kg(t,n,r,l,u,f,g,_,S,R,D,L,A,N){if(t.timeoutHandle=-1,L=n.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(ha={stylesheets:null,count:0,unsuspend:qb},Ag(n),L=Gb(),L!==null)){t.cancelPendingCommit=L(jg.bind(null,t,n,f,r,l,u,g,_,S,D,1,A,N)),li(t,f,g,!R);return}jg(t,n,f,r,l,u,g,_,S)}function lb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!At(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function li(t,n,r,l){n&=~rf,n&=~Qi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-Rt(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&Yd(t,r,n)}function eo(){return(_e&6)===0?(aa(0),!1):!0}function ff(){if(ue!==null){if(ye===0)var t=ue.return;else t=ue,Sn=ji=null,Ac(t),Ms=null,Wr=0,t=ue;for(;t!==null;)dg(t.alternate,t),t=t.return;ue=null}}function Bs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,wb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ff(),Ae=t,ue=r=yn(t.current,null),he=n,ye=0,Dt=null,ii=!1,Us=br(t,n),sf=!1,zs=qt=rf=Qi=si=Ue=0,Et=sa=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Rt(l),f=1<<u;n|=t[u],l&=~f}return xn=n,bl(),r}function Lg(t,n){re=null,M.H=jl,n===jr||n===Dl?(n=$p(),ye=3):n===Xp?(n=$p(),ye=4):ye=n===Jm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,ue===null&&(Ue=1,Fl(t,zt(n,t.current)))}function Ug(){var t=M.H;return M.H=jl,t===null?jl:t}function zg(){var t=M.A;return M.A=rb,t}function hf(){Ue=4,ii||(he&4194048)!==he&&jt.current!==null||(Us=!0),(si&134217727)===0&&(Qi&134217727)===0||Ae===null||li(Ae,he,qt,!1)}function df(t,n,r){var l=_e;_e|=2;var u=Ug(),f=zg();(Ae!==t||he!==n)&&(Jl=null,Bs(t,n)),n=!1;var g=Ue;e:do try{if(ye!==0&&ue!==null){var _=ue,S=Dt;switch(ye){case 8:ff(),g=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(n=!0);var R=ye;if(ye=0,Dt=null,js(t,_,S,R),r&&Us){g=0;break e}break;default:R=ye,ye=0,Dt=null,js(t,_,S,R)}}ob(),g=Ue;break}catch(D){Lg(t,D)}while(!0);return n&&t.shellSuspendCounter++,Sn=ji=null,_e=l,M.H=u,M.A=f,ue===null&&(Ae=null,he=0,bl()),g}function ob(){for(;ue!==null;)Hg(ue)}function ub(t,n){var r=_e;_e|=2;var l=Ug(),u=zg();Ae!==t||he!==n?(Jl=null,$l=sn()+500,Bs(t,n)):Us=br(t,n);e:do try{if(ye!==0&&ue!==null){n=ue;var f=Dt;t:switch(ye){case 1:ye=0,Dt=null,js(t,n,f,1);break;case 2:case 9:if(Wp(f)){ye=0,Dt=null,Pg(n);break}n=function(){ye!==2&&ye!==9||Ae!==t||(ye=7),un(t)},f.then(n,n);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Wp(f)?(ye=0,Dt=null,Pg(n)):(ye=0,Dt=null,js(t,n,f,7));break;case 5:var g=null;switch(ue.tag){case 26:g=ue.memoizedState;case 5:case 27:var _=ue;if(!g||E_(g)){ye=0,Dt=null;var S=_.sibling;if(S!==null)ue=S;else{var R=_.return;R!==null?(ue=R,to(R)):ue=null}break t}}ye=0,Dt=null,js(t,n,f,5);break;case 6:ye=0,Dt=null,js(t,n,f,6);break;case 8:ff(),Ue=6;break e;default:throw Error(a(462))}}cb();break}catch(D){Lg(t,D)}while(!0);return Sn=ji=null,M.H=l,M.A=u,_e=r,ue!==null?0:(Ae=null,he=0,bl(),Ue)}function cb(){for(;ue!==null&&!ME();)Hg(ue)}function Hg(t){var n=fg(t.alternate,t,xn);t.memoizedProps=t.pendingProps,n===null?to(t):ue=n}function Pg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=rg(r,n,n.pendingProps,n.type,void 0,he);break;case 11:n=rg(r,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:Ac(n);default:dg(r,n),n=ue=Bp(n,xn),n=fg(r,n,xn)}t.memoizedProps=t.pendingProps,n===null?to(t):ue=n}function js(t,n,r,l){Sn=ji=null,Ac(n),Ms=null,Wr=0;var u=n.return;try{if(JS(t,u,n,r,he)){Ue=1,Fl(t,zt(r,t.current)),ue=null;return}}catch(f){if(u!==null)throw ue=u,f;Ue=1,Fl(t,zt(r,t.current)),ue=null;return}n.flags&32768?(ge||l===1?t=!0:Us||(he&536870912)!==0?t=!1:(ii=t=!0,(l===2||l===9||l===3||l===6)&&(l=jt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bg(n,t)):to(n)}function to(t){var n=t;do{if((n.flags&32768)!==0){Bg(n,ii);return}t=n.return;var r=tb(n.alternate,n,xn);if(r!==null){ue=r;return}if(n=n.sibling,n!==null){ue=n;return}ue=n=t}while(n!==null);Ue===0&&(Ue=5)}function Bg(t,n){do{var r=nb(t.alternate,t);if(r!==null){r.flags&=32767,ue=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ue=t;return}ue=t=r}while(t!==null);Ue=6,ue=null}function jg(t,n,r,l,u,f,g,_,S){t.cancelPendingCommit=null;do no();while(it!==0);if((_e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nc,qE(t,r,f,g,_,S),t===Ae&&(ue=Ae=null,he=0),Hs=n,ai=t,Ps=r,of=f,uf=u,Dg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pb(ll,function(){return Fg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=V.p,V.p=2,g=_e,_e|=4;try{ib(t,n,r)}finally{_e=g,V.p=u,M.T=l}}it=1,qg(),Vg(),Gg()}}function qg(){if(it===1){it=0;var t=ai,n=Hs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=V.p;V.p=2;var u=_e;_e|=4;try{Cg(n,t);var f=wf,g=Op(t.containerInfo),_=f.focusedElem,S=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&xp(_.ownerDocument.documentElement,_)){if(S!==null&&Zu(_)){var R=S.start,D=S.end;if(D===void 0&&(D=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(D,_.value.length);else{var L=_.ownerDocument||document,A=L&&L.defaultView||window;if(A.getSelection){var N=A.getSelection(),ee=_.textContent.length,W=Math.min(S.start,ee),Se=S.end===void 0?W:Math.min(S.end,ee);!N.extend&&W>Se&&(g=Se,Se=W,W=g);var C=Np(_,W),T=Np(_,Se);if(C&&T&&(N.rangeCount!==1||N.anchorNode!==C.node||N.anchorOffset!==C.offset||N.focusNode!==T.node||N.focusOffset!==T.offset)){var w=L.createRange();w.setStart(C.node,C.offset),N.removeAllRanges(),W>Se?(N.addRange(w),N.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),N.addRange(w))}}}}for(L=[],N=_;N=N.parentNode;)N.nodeType===1&&L.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<L.length;_++){var I=L[_];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}mo=!!Cf,wf=Cf=null}finally{_e=u,V.p=l,M.T=r}}t.current=n,it=2}}function Vg(){if(it===2){it=0;var t=ai,n=Hs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=V.p;V.p=2;var u=_e;_e|=4;try{Eg(t,n.alternate,n)}finally{_e=u,V.p=l,M.T=r}}it=3}}function Gg(){if(it===4||it===3){it=0,IE();var t=ai,n=Hs,r=Ps,l=Dg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,Hs=ai=null,Yg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(ri=null),Ou(r),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Sr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=V.p,V.p=2,M.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];f(_.value,{componentStack:_.stack})}}finally{M.T=n,V.p=u}}(Ps&3)!==0&&no(),un(t),u=t.pendingLanes,(r&4194090)!==0&&(u&42)!==0?t===cf?ra++:(ra=0,cf=t):ra=0,aa(0)}}function Yg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Pr(n)))}function no(t){return qg(),Vg(),Gg(),Fg()}function Fg(){if(it!==5)return!1;var t=ai,n=of;of=0;var r=Ou(Ps),l=M.T,u=V.p;try{V.p=32>r?32:r,M.T=null,r=uf,uf=null;var f=ai,g=Ps;if(it=0,Hs=ai=null,Ps=0,(_e&6)!==0)throw Error(a(331));var _=_e;if(_e|=4,xg(f.current),Rg(f,f.current,g,r),_e=_,aa(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Sr,f)}catch{}return!0}finally{V.p=u,M.T=l,Yg(t,n)}}function Qg(t,n,r){n=zt(r,n),n=jc(t.stateNode,n,2),t=Wn(t,n,2),t!==null&&(Tr(t,2),un(t))}function Re(t,n,r){if(t.tag===3)Qg(t,t,r);else for(;n!==null;){if(n.tag===3){Qg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ri===null||!ri.has(l))){t=zt(r,t),r=Zm(2),l=Wn(n,r,2),l!==null&&($m(r,l,n,t),Tr(l,2),un(l));break}}n=n.return}}function pf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ab;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(sf=!0,u.add(r),t=fb.bind(null,t,n,r),n.then(t,t))}function fb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ae===t&&(he&r)===r&&(Ue===4||Ue===3&&(he&62914560)===he&&300>sn()-lf?(_e&2)===0&&Bs(t,0):rf|=r,zs===he&&(zs=0)),un(t)}function Kg(t,n){n===0&&(n=Gd()),t=bs(t,n),t!==null&&(Tr(t,n),un(t))}function hb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Kg(t,r)}function db(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Kg(t,r)}function pb(t,n){return Ru(t,n)}var io=null,qs=null,mf=!1,so=!1,gf=!1,Ki=0;function un(t){t!==qs&&t.next===null&&(qs===null?io=qs=t:qs=qs.next=t),so=!0,mf||(mf=!0,gb())}function aa(t,n){if(!gf&&so){gf=!0;do for(var r=!1,l=io;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=u&~(g&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$g(l,f))}else f=he,f=cl(l,l===Ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||br(l,f)||(r=!0,$g(l,f));l=l.next}while(r);gf=!1}}function mb(){Xg()}function Xg(){so=mf=!1;var t=0;Ki!==0&&(Cb()&&(t=Ki),Ki=0);for(var n=sn(),r=null,l=io;l!==null;){var u=l.next,f=Wg(l,n);f===0?(l.next=null,r===null?io=u:r.next=u,u===null&&(qs=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=u}aa(t)}function Wg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Rt(f),_=1<<g,S=u[g];S===-1?((_&r)===0||(_&l)!==0)&&(u[g]=jE(_,n)):S<=n&&(t.expiredLanes|=_),f&=~_}if(n=Ae,r=he,r=cl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Au(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||br(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Au(l),Ou(r)){case 2:case 8:r=jd;break;case 32:r=ll;break;case 268435456:r=qd;break;default:r=ll}return l=Zg.bind(null,t),r=Ru(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Au(l),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,n){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(no()&&t.callbackNode!==r)return null;var l=he;return l=cl(t,t===Ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ig(t,l,n),Wg(t,sn()),t.callbackNode!=null&&t.callbackNode===r?Zg.bind(null,t):null)}function $g(t,n){if(no())return null;Ig(t,n,!0)}function gb(){Rb(function(){(_e&6)!==0?Ru(Bd,mb):Xg()})}function _f(){return Ki===0&&(Ki=Vd()),Ki}function Jg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ml(""+t)}function e_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function _b(t,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=Jg((u[gt]||null).action),g=l.submitter;g&&(n=(n=g[gt]||null)?Jg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new vl("action","action",null,l,u);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ki!==0){var S=g?e_(u,g):new FormData(u);Uc(r,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=g?e_(u,g):new FormData(u),Uc(r,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var yf=0;yf<tc.length;yf++){var vf=tc[yf],yb=vf.toLowerCase(),vb=vf[0].toUpperCase()+vf.slice(1);Ft(yb,"on"+vb)}Ft(Ip,"onAnimationEnd"),Ft(kp,"onAnimationIteration"),Ft(Lp,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(US,"onTransitionRun"),Ft(zS,"onTransitionStart"),Ft(HS,"onTransitionCancel"),Ft(Up,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(la));function t_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(D){Yl(D)}u.currentTarget=null,f=S}else for(g=0;g<l.length;g++){if(_=l[g],S=_.instance,R=_.currentTarget,_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(D){Yl(D)}u.currentTarget=null,f=S}}}}function ce(t,n){var r=n[Du];r===void 0&&(r=n[Du]=new Set);var l=t+"__bubble";r.has(l)||(n_(n,t,2,!1),r.add(l))}function Ef(t,n,r){var l=0;n&&(l|=4),n_(r,t,l,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[ro]){t[ro]=!0,Xd.forEach(function(r){r!=="selectionchange"&&(Eb.has(r)||Ef(r,!1,t),Ef(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ro]||(n[ro]=!0,Ef("selectionchange",!1,n))}}function n_(t,n,r,l){switch(R_(n)){case 2:var u=Qb;break;case 8:u=Kb;break;default:u=Lf}r=u.bind(null,n,r,t),u=void 0,!qu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function bf(t,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=us(_),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=f=g;continue e}_=_.parentNode}}l=l.return}up(function(){var R=f,D=Bu(r),L=[];e:{var A=zp.get(t);if(A!==void 0){var N=vl,ee=t;switch(t){case"keypress":if(_l(r)===0)break e;case"keydown":case"keyup":N=pS;break;case"focusin":ee="focus",N=Fu;break;case"focusout":ee="blur",N=Fu;break;case"beforeblur":case"afterblur":N=Fu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=_S;break;case Ip:case kp:case Lp:N=rS;break;case Up:N=vS;break;case"scroll":case"scrollend":N=eS;break;case"wheel":N=SS;break;case"copy":case"cut":case"paste":N=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=pp;break;case"toggle":case"beforetoggle":N=TS}var W=(n&4)!==0,Se=!W&&(t==="scroll"||t==="scrollend"),C=W?A!==null?A+"Capture":null:A;W=[];for(var T=R,w;T!==null;){var I=T;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||C===null||(I=Rr(T,C),I!=null&&W.push(oa(T,I,w))),Se)break;T=T.return}0<W.length&&(A=new N(A,ee,null,r,D),L.push({event:A,listeners:W}))}}if((n&7)===0){e:{if(A=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",A&&r!==Pu&&(ee=r.relatedTarget||r.fromElement)&&(us(ee)||ee[os]))break e;if((N||A)&&(A=D.window===D?D:(A=D.ownerDocument)?A.defaultView||A.parentWindow:window,N?(ee=r.relatedTarget||r.toElement,N=R,ee=ee?us(ee):null,ee!==null&&(Se=c(ee),W=ee.tag,ee!==Se||W!==5&&W!==27&&W!==6)&&(ee=null)):(N=null,ee=R),N!==ee)){if(W=hp,I="onMouseLeave",C="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(W=pp,I="onPointerLeave",C="onPointerEnter",T="pointer"),Se=N==null?A:wr(N),w=ee==null?A:wr(ee),A=new W(I,T+"leave",N,r,D),A.target=Se,A.relatedTarget=w,I=null,us(D)===R&&(W=new W(C,T+"enter",ee,r,D),W.target=w,W.relatedTarget=Se,I=W),Se=I,N&&ee)t:{for(W=N,C=ee,T=0,w=W;w;w=Vs(w))T++;for(w=0,I=C;I;I=Vs(I))w++;for(;0<T-w;)W=Vs(W),T--;for(;0<w-T;)C=Vs(C),w--;for(;T--;){if(W===C||C!==null&&W===C.alternate)break t;W=Vs(W),C=Vs(C)}W=null}else W=null;N!==null&&i_(L,A,N,W,!1),ee!==null&&Se!==null&&i_(L,Se,ee,W,!0)}}e:{if(A=R?wr(R):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var F=bp;else if(Ep(A))if(Tp)F=IS;else{F=DS;var ae=OS}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?R&&Hu(R.elementType)&&(F=bp):F=MS;if(F&&(F=F(t,R))){Sp(L,F,r,D);break e}ae&&ae(t,A,R),t==="focusout"&&R&&A.type==="number"&&R.memoizedProps.value!=null&&zu(A,"number",A.value)}switch(ae=R?wr(R):window,t){case"focusin":(Ep(ae)||ae.contentEditable==="true")&&(vs=ae,$u=R,kr=null);break;case"focusout":kr=$u=vs=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Dp(L,r,D);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Dp(L,r,D)}var Q;if(Ku)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else ys?yp(t,r)&&(Z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(mp&&r.locale!=="ko"&&(ys||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&ys&&(Q=cp()):(Fn=D,Vu="value"in Fn?Fn.value:Fn.textContent,ys=!0)),ae=ao(R,Z),0<ae.length&&(Z=new dp(Z,t,null,r,D),L.push({event:Z,listeners:ae}),Q?Z.data=Q:(Q=vp(r),Q!==null&&(Z.data=Q)))),(Q=wS?RS(t,r):AS(t,r))&&(Z=ao(R,"onBeforeInput"),0<Z.length&&(ae=new dp("onBeforeInput","beforeinput",null,r,D),L.push({event:ae,listeners:Z}),ae.data=Q)),_b(L,t,R,r,D)}t_(L,n)})}function oa(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ao(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Rr(t,r),u!=null&&l.unshift(oa(t,u,f)),u=Rr(t,n),u!=null&&l.push(oa(t,u,f))),t.tag===3)return l;t=t.return}return[]}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var _=r,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||R===null||(S=R,u?(R=Rr(r,f),R!=null&&g.unshift(oa(r,R,S))):u||(R=Rr(r,f),R!=null&&g.push(oa(r,R,S)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var Sb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(Sb,`
`).replace(bb,"")}function r_(t,n){return n=s_(n),s_(t)===n}function lo(){}function Ee(t,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ms(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ms(t,""+l);break;case"className":hl(t,"class",l);break;case"tabIndex":hl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hl(t,r,l);break;case"style":lp(t,l,f);break;case"data":if(n!=="object"){hl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ml(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ee(t,n,"name",u.name,u,null),Ee(t,n,"formEncType",u.formEncType,u,null),Ee(t,n,"formMethod",u.formMethod,u,null),Ee(t,n,"formTarget",u.formTarget,u,null)):(Ee(t,n,"encType",u.encType,u,null),Ee(t,n,"method",u.method,u,null),Ee(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ml(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=lo);break;case"onScroll":l!=null&&ce("scroll",t);break;case"onScrollEnd":l!=null&&ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ml(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ce("beforetoggle",t),ce("toggle",t),fl(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$E.get(r)||r,fl(t,r,l))}}function Tf(t,n,r,l,u,f){switch(r){case"style":lp(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?ms(t,l):(typeof l=="number"||typeof l=="bigint")&&ms(t,""+l);break;case"onScroll":l!=null&&ce("scroll",t);break;case"onScrollEnd":l!=null&&ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,u);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):fl(t,r,l)}}}function st(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",t),ce("load",t);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(t,n,f,g,r,null)}}u&&Ee(t,n,"srcSet",r.srcSet,r,null),l&&Ee(t,n,"src",r.src,r,null);return;case"input":ce("invalid",t);var _=f=g=u=null,S=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var D=r[l];if(D!=null)switch(l){case"name":u=D;break;case"type":g=D;break;case"checked":S=D;break;case"defaultChecked":R=D;break;case"value":f=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:Ee(t,n,l,D,r,null)}}ip(t,f,_,S,R,g,u,!1),dl(t);return;case"select":ce("invalid",t),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(_=r[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Ee(t,n,u,_,r,null)}n=f,r=g,t.multiple=!!l,n!=null?ps(t,!!l,n,!1):r!=null&&ps(t,!!l,r,!0);return;case"textarea":ce("invalid",t),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ee(t,n,g,_,r,null)}rp(t,l,u,f),dl(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ee(t,n,S,l,r,null)}return;case"dialog":ce("beforetoggle",t),ce("toggle",t),ce("cancel",t),ce("close",t);break;case"iframe":case"object":ce("load",t);break;case"video":case"audio":for(l=0;l<la.length;l++)ce(la[l],t);break;case"image":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"embed":case"source":case"link":ce("error",t),ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(t,n,R,l,r,null)}return;default:if(Hu(n)){for(D in r)r.hasOwnProperty(D)&&(l=r[D],l!==void 0&&Tf(t,n,D,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ee(t,n,_,l,r,null))}function Tb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,S=null,R=null,D=null;for(N in r){var L=r[N];if(r.hasOwnProperty(N)&&L!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":S=L;default:l.hasOwnProperty(N)||Ee(t,n,N,null,l,L)}}for(var A in l){var N=l[A];if(L=r[A],l.hasOwnProperty(A)&&(N!=null||L!=null))switch(A){case"type":f=N;break;case"name":u=N;break;case"checked":R=N;break;case"defaultChecked":D=N;break;case"value":g=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,n));break;default:N!==L&&Ee(t,n,A,N,l,L)}}Uu(t,g,_,S,R,D,f,u);return;case"select":N=g=_=A=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":N=S;default:l.hasOwnProperty(f)||Ee(t,n,f,null,l,S)}for(u in l)if(f=l[u],S=r[u],l.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":A=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==S&&Ee(t,n,u,f,l,S)}n=_,r=g,l=N,A!=null?ps(t,!!r,A,!1):!!l!=!!r&&(n!=null?ps(t,!!r,n,!0):ps(t,!!r,r?[]:"",!1));return;case"textarea":N=A=null;for(_ in r)if(u=r[_],r.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ee(t,n,_,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":A=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Ee(t,n,g,u,l,f)}sp(t,A,N);return;case"option":for(var ee in r)if(A=r[ee],r.hasOwnProperty(ee)&&A!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":t.selected=!1;break;default:Ee(t,n,ee,null,l,A)}for(S in l)if(A=l[S],N=r[S],l.hasOwnProperty(S)&&A!==N&&(A!=null||N!=null))switch(S){case"selected":t.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Ee(t,n,S,A,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in r)A=r[W],r.hasOwnProperty(W)&&A!=null&&!l.hasOwnProperty(W)&&Ee(t,n,W,null,l,A);for(R in l)if(A=l[R],N=r[R],l.hasOwnProperty(R)&&A!==N&&(A!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(137,n));break;default:Ee(t,n,R,A,l,N)}return;default:if(Hu(n)){for(var Se in r)A=r[Se],r.hasOwnProperty(Se)&&A!==void 0&&!l.hasOwnProperty(Se)&&Tf(t,n,Se,void 0,l,A);for(D in l)A=l[D],N=r[D],!l.hasOwnProperty(D)||A===N||A===void 0&&N===void 0||Tf(t,n,D,A,l,N);return}}for(var C in r)A=r[C],r.hasOwnProperty(C)&&A!=null&&!l.hasOwnProperty(C)&&Ee(t,n,C,null,l,A);for(L in l)A=l[L],N=r[L],!l.hasOwnProperty(L)||A===N||A==null&&N==null||Ee(t,n,L,A,l,N)}var Cf=null,wf=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function Cb(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(Ab)}:o_;function Ab(t){setTimeout(function(){throw t})}function oi(t){return t==="head"}function c_(t,n){var r=n,l=0,u=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var g=t.ownerDocument;if(r&1&&ua(g.documentElement),r&2&&ua(g.body),r&4)for(r=g.head,ua(r),g=r.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Cr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(u===0){t.removeChild(f),_a(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);_a(n)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nf(r),Mu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Nb(t,n,r,l){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kt(t.nextSibling),t===null)break}return null}function xb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kt(t.nextSibling),t===null))return null;return t}function xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ob(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Of=null;function f_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function h_(t,n,r){switch(n=oo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ua(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mu(t)}var Vt=new Map,d_=new Set;function uo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var On=V.d;V.d={f:Db,r:Mb,D:Ib,C:kb,L:Lb,m:Ub,X:Hb,S:zb,M:Pb};function Db(){var t=On.f(),n=eo();return t||n}function Mb(t){var n=cs(t);n!==null&&n.tag===5&&n.type==="form"?Im(n):On.r(t)}var Gs=typeof document>"u"?null:document;function p_(t,n,r){var l=Gs;if(l&&typeof n=="string"&&n){var u=Ut(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),d_.has(u)||(d_.add(u),t={rel:t,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),st(n,"link",t),We(n),l.head.appendChild(n)))}}function Ib(t){On.D(t),p_("dns-prefetch",t,null)}function kb(t,n){On.C(t,n),p_("preconnect",t,n)}function Lb(t,n,r){On.L(t,n,r);var l=Gs;if(l&&t&&n){var u='link[rel="preload"][as="'+Ut(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ut(r.imageSizes)+'"]')):u+='[href="'+Ut(t)+'"]';var f=u;switch(n){case"style":f=Ys(t);break;case"script":f=Fs(t)}Vt.has(f)||(t=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vt.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ca(f))||n==="script"&&l.querySelector(fa(f))||(n=l.createElement("link"),st(n,"link",t),We(n),l.head.appendChild(n)))}}function Ub(t,n){On.m(t,n);var r=Gs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fs(t)}if(!Vt.has(f)&&(t=y({rel:"modulepreload",href:t},n),Vt.set(f,t),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fa(f)))return}l=r.createElement("link"),st(l,"link",t),We(l),r.head.appendChild(l)}}}function zb(t,n,r){On.S(t,n,r);var l=Gs;if(l&&t){var u=fs(l).hoistableStyles,f=Ys(t);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ca(f)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vt.get(f))&&Df(t,r);var S=g=l.createElement("link");We(S),st(S,"link",t),S._p=new Promise(function(R,D){S.onload=R,S.onerror=D}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function Hb(t,n){On.X(t,n);var r=Gs;if(r&&t){var l=fs(r).hoistableScripts,u=Fs(t),f=l.get(u);f||(f=r.querySelector(fa(u)),f||(t=y({src:t,async:!0},n),(n=Vt.get(u))&&Mf(t,n),f=r.createElement("script"),We(f),st(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Pb(t,n){On.M(t,n);var r=Gs;if(r&&t){var l=fs(r).hoistableScripts,u=Fs(t),f=l.get(u);f||(f=r.querySelector(fa(u)),f||(t=y({src:t,async:!0,type:"module"},n),(n=Vt.get(u))&&Mf(t,n),f=r.createElement("script"),We(f),st(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function m_(t,n,r,l){var u=(u=ie.current)?uo(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ys(r.href),r=fs(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ys(r.href);var f=fs(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ca(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vt.set(t,r),f||Bb(u,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(r),r=fs(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ys(t){return'href="'+Ut(t)+'"'}function ca(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Bb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),st(n,"link",r),We(n),t.head.appendChild(n))}function Fs(t){return'[src="'+Ut(t)+'"]'}function fa(t){return"script[async]"+t}function __(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(r.href)+'"]');if(l)return n.instance=l,We(l),l;var u=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),st(l,"style",u),co(l,r.precedence,t),n.instance=l;case"stylesheet":u=Ys(r.href);var f=t.querySelector(ca(u));if(f)return n.state.loading|=4,n.instance=f,We(f),f;l=g_(r),(u=Vt.get(u))&&Df(l,u),f=(t.ownerDocument||t).createElement("link"),We(f);var g=f;return g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),st(f,"link",l),n.state.loading|=4,co(f,r.precedence,t),n.instance=f;case"script":return f=Fs(r.src),(u=t.querySelector(fa(f)))?(n.instance=u,We(u),u):(l=r,(u=Vt.get(f))&&(l=y({},r),Mf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),We(u),st(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,co(l,r.precedence,t));return n.instance}function co(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function y_(t,n,r){if(fo===null){var l=new Map,u=fo=new Map;u.set(r,l)}else u=fo,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Cr]||f[ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function v_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function jb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ha=null;function qb(){}function Vb(t,n,r){if(ha===null)throw Error(a(475));var l=ha;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Ys(r.href),f=t.querySelector(ca(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ho.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,We(f);return}f=t.ownerDocument||t,r=g_(r),(u=Vt.get(u))&&Df(r,u),f=f.createElement("link"),We(f);var g=f;g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),st(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ho.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Gb(){if(ha===null)throw Error(a(475));var t=ha;return t.stylesheets&&t.count===0&&If(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&If(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function ho(){if(this.count--,this.count===0){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function If(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(Yb,t),po=null,ho.call(t))}function Yb(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=ho.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var da={$$typeof:K,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Fb(t,n,r,l,u,f,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.hiddenUpdates=Nu(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function S_(t,n,r,l,u,f,g,_,S,R,D,L){return t=new Fb(t,n,r,g,_,S,R,L),n=1,f===!0&&(n|=24),f=Nt(3,null,null,n),t.current=f,f.stateNode=t,n=dc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_c(f),t}function b_(t){return t?(t=Ts,t):Ts}function T_(t,n,r,l,u,f){u=b_(u),l.context===null?l.context=u:l.pendingContext=u,l=Xn(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Wn(t,l,n),r!==null&&(It(r,t,n),Vr(r,t,n))}function C_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function kf(t,n){C_(t,n),(t=t.alternate)&&C_(t,n)}function w_(t){if(t.tag===13){var n=bs(t,67108864);n!==null&&It(n,t,67108864),kf(t,67108864)}}var mo=!0;function Qb(t,n,r,l){var u=M.T;M.T=null;var f=V.p;try{V.p=2,Lf(t,n,r,l)}finally{V.p=f,M.T=u}}function Kb(t,n,r,l){var u=M.T;M.T=null;var f=V.p;try{V.p=8,Lf(t,n,r,l)}finally{V.p=f,M.T=u}}function Lf(t,n,r,l){if(mo){var u=Uf(l);if(u===null)bf(t,n,l,go,r),A_(t,l);else if(Wb(u,t,n,r,l))l.stopPropagation();else if(A_(t,l),n&4&&-1<Xb.indexOf(t)){for(;u!==null;){var f=cs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Di(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var S=1<<31-Rt(g);_.entanglements[1]|=S,g&=~S}un(f),(_e&6)===0&&($l=sn()+500,aa(0))}}break;case 13:_=bs(f,2),_!==null&&It(_,f,2),eo(),kf(f,2)}if(f=Uf(l),f===null&&bf(t,n,l,go,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else bf(t,n,l,null,r)}}function Uf(t){return t=Bu(t),zf(t)}var go=null;function zf(t){if(go=null,t=us(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return go=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kE()){case Bd:return 2;case jd:return 8;case ll:case LE:return 32;case qd:return 268435456;default:return 32}default:return 32}}var Hf=!1,ui=null,ci=null,fi=null,pa=new Map,ma=new Map,hi=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,n){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":pa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(n.pointerId)}}function ga(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=cs(n),n!==null&&w_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function Wb(t,n,r,l,u){switch(n){case"focusin":return ui=ga(ui,t,n,r,l,u),!0;case"dragenter":return ci=ga(ci,t,n,r,l,u),!0;case"mouseover":return fi=ga(fi,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return pa.set(f,ga(pa.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,ma.set(f,ga(ma.get(f)||null,t,n,r,l,u)),!0}return!1}function N_(t){var n=us(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,VE(t.priority,function(){if(r.tag===13){var l=Mt();l=xu(l);var u=bs(r,l);u!==null&&It(u,r,l),kf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pu=l,r.target.dispatchEvent(l),Pu=null}else return n=cs(r),n!==null&&w_(n),t.blockedOn=r,!1;n.shift()}return!0}function x_(t,n,r){_o(t)&&r.delete(n)}function Zb(){Hf=!1,ui!==null&&_o(ui)&&(ui=null),ci!==null&&_o(ci)&&(ci=null),fi!==null&&_o(fi)&&(fi=null),pa.forEach(x_),ma.forEach(x_)}function yo(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zb)))}var vo=null;function O_(t){vo!==t&&(vo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vo===t&&(vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(zf(l||r)===null)continue;break}var f=cs(r);f!==null&&(t.splice(n,3),n-=3,Uc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function _a(t){function n(S){return yo(S,t)}ui!==null&&yo(ui,t),ci!==null&&yo(ci,t),fi!==null&&yo(fi,t),pa.forEach(n),ma.forEach(n);for(var r=0;r<hi.length;r++){var l=hi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&hi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[gt]||null;if(typeof f=="function")g||O_(r);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[gt]||null)_=g.formAction;else if(zf(u)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),O_(r)}}}function Pf(t){this._internalRoot=t}Eo.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Mt();T_(r,l,t,n,null,null)},Eo.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;T_(t.current,2,null,t,null,null),eo(),n[os]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qd();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hi.length&&n!==0&&n<hi[r].priority;r++);hi.splice(r,0,t),r===0&&N_(t)}};var D_=e.version;if(D_!=="19.1.1")throw Error(a(527,D_,"19.1.1"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var $b={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Sr=So.inject($b),wt=So}catch{}}return va.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",u=Qm,f=Km,g=Xm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=S_(t,1,!1,null,null,r,l,u,f,g,_,null),t[os]=n.current,Sf(t),new Pf(n)},va.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,u="",f=Qm,g=Km,_=Xm,S=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=S_(t,1,!0,n,r??null,l,u,f,g,_,S,R),n.context=b_(null),r=n.current,l=Mt(),l=xu(l),u=Xn(l),u.callback=null,Wn(r,u,l),r=l,n.current.lanes=r,Tr(n,r),un(n),t[os]=n.current,Sf(t),new Eo(n)},va.version="19.1.1",va}var j_;function o1(){if(j_)return qf.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=l1(),qf.exports}var u1=o1();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function c1(s={}){function e(a,o){let{pathname:c,search:h,hash:d}=a.location;return oh("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Ma(o)}return h1(e,i,null,s)}function Me(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function tn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f1(){return Math.random().toString(36).substring(2,10)}function V_(s,e){return{usr:s.state,key:s.key,idx:e}}function oh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?or(e):e,state:i,key:e&&e.key||a||f1()}}function Ma({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function or(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function h1(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,h=o.history,d="POP",m=null,p=y();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function y(){return(h.state||{idx:null}).idx}function v(){d="POP";let H=y(),G=H==null?null:H-p;p=H,m&&m({action:d,location:P.location,delta:G})}function E(H,G){d="PUSH";let j=oh(P.location,H,G);p=y()+1;let K=V_(j,p),Ce=P.createHref(j);try{h.pushState(K,"",Ce)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(Ce)}c&&m&&m({action:d,location:P.location,delta:1})}function x(H,G){d="REPLACE";let j=oh(P.location,H,G);p=y();let K=V_(j,p),Ce=P.createHref(j);h.replaceState(K,"",Ce),c&&m&&m({action:d,location:P.location,delta:0})}function k(H){return d1(H)}let P={get action(){return d},get location(){return s(o,h)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,v),m=H,()=>{o.removeEventListener(q_,v),m=null}},createHref(H){return e(o,H)},createURL:k,encodeLocation(H){let G=k(H);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:x,go(H){return h.go(H)}};return P}function d1(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Me(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ma(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function nv(s,e,i="/"){return p1(s,e,i,!1)}function p1(s,e,i,a){let o=typeof e=="string"?or(e):e,c=Hn(o.pathname||"/",i);if(c==null)return null;let h=iv(s);m1(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let p=R1(c);d=C1(h[m],p,a)}return d}function iv(s,e=[],i=[],a="",o=!1){let c=(h,d,m=o,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&m)return;Me(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=Un([a,y.relativePath]),E=i.concat(y);h.children&&h.children.length>0&&(Me(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iv(h.children,e,E,v,m)),!(h.path==null&&!h.index)&&e.push({path:v,score:b1(v,h.index),routesMeta:E})};return s.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))c(h,d);else for(let m of sv(h.path))c(h,d,!0,m)}),e}function sv(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let h=sv(a.join("/")),d=[];return d.push(...h.map(m=>m===""?c:[c,m].join("/"))),o&&d.push(...h),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function m1(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:T1(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var g1=/^:[\w-]+$/,_1=3,y1=2,v1=1,E1=10,S1=-2,G_=s=>s==="*";function b1(s,e){let i=s.split("/"),a=i.length;return i.some(G_)&&(a+=S1),e&&(a+=y1),i.filter(o=>!G_(o)).reduce((o,c)=>o+(g1.test(c)?_1:c===""?v1:E1),a)}function T1(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function C1(s,e,i=!1){let{routesMeta:a}=s,o={},c="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],p=d===a.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=ko({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&i&&!a[a.length-1].route.index&&(v=ko({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Un([c,v.pathname]),pathnameBase:O1(Un([c,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(c=Un([c,v.pathnameBase]))}return h}function ko(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=w1(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let k=d[E]||"";h=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[E];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:s}}function w1(s,e=!1,i=!0){tn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function R1(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Hn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function A1(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?or(s):s;return{pathname:i?i.startsWith("/")?i:N1(i,e):e,search:D1(a),hash:M1(o)}}function N1(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ff(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Lh(s){let e=x1(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Uh(s,e,i,a=!1){let o;typeof s=="string"?o=or(s):(o={...s},Me(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,d;if(h==null)d=i;else{let v=e.length-1;if(!a&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}d=v>=0?e[v]:"/"}let m=A1(o,d),p=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Un=s=>s.join("/").replace(/\/\/+/g,"/"),O1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),D1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,M1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function I1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var rv=["POST","PUT","PATCH","DELETE"];new Set(rv);var k1=["GET",...rv];new Set(k1);var ur=O.createContext(null);ur.displayName="DataRouter";var su=O.createContext(null);su.displayName="DataRouterState";O.createContext(!1);var av=O.createContext({isTransitioning:!1});av.displayName="ViewTransition";var L1=O.createContext(new Map);L1.displayName="Fetchers";var U1=O.createContext(null);U1.displayName="Await";var nn=O.createContext(null);nn.displayName="Navigation";var Ya=O.createContext(null);Ya.displayName="Location";var dn=O.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var zh=O.createContext(null);zh.displayName="RouteError";function z1(s,{relative:e}={}){Me(cr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=O.useContext(nn),{hash:o,pathname:c,search:h}=Qa(s,{relative:e}),d=c;return i!=="/"&&(d=c==="/"?i:Un([i,c])),a.createHref({pathname:d,search:h,hash:o})}function cr(){return O.useContext(Ya)!=null}function pn(){return Me(cr(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ya).location}var lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ov(s){O.useContext(nn).static||O.useLayoutEffect(s)}function Fa(){let{isDataRoute:s}=O.useContext(dn);return s?W1():H1()}function H1(){Me(cr(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(ur),{basename:e,navigator:i}=O.useContext(nn),{matches:a}=O.useContext(dn),{pathname:o}=pn(),c=JSON.stringify(Lh(a)),h=O.useRef(!1);return ov(()=>{h.current=!0}),O.useCallback((m,p={})=>{if(tn(h.current,lv),!h.current)return;if(typeof m=="number"){i.go(m);return}let y=Uh(m,JSON.parse(c),o,p.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Un([e,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[e,i,c,o,s])}O.createContext(null);function Qa(s,{relative:e}={}){let{matches:i}=O.useContext(dn),{pathname:a}=pn(),o=JSON.stringify(Lh(i));return O.useMemo(()=>Uh(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function P1(s,e){return uv(s,e)}function uv(s,e,i,a,o){Me(cr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(nn),{matches:h}=O.useContext(dn),d=h[h.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";cv(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=pn(),x;if(e){let j=typeof e=="string"?or(e):e;Me(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=E;let k=x.pathname||"/",P=k;if(y!=="/"){let j=y.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let H=nv(s,{pathname:P});tn(v||H!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),tn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=G1(H&&H.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:Un([y,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Un([y,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),h,i,a,o);return e&&G?O.createElement(Ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},G):G}function B1(){let s=X1(),e=I1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),i?O.createElement("pre",{style:o},i):null,h)}var j1=O.createElement(B1,null),q1=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?O.createElement(dn.Provider,{value:this.props.routeContext},O.createElement(zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V1({routeContext:s,match:e,children:i}){let a=O.useContext(ur);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(dn.Provider,{value:s},i)}function G1(s,e=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,h=i?.errors;if(h!=null){let p=c.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:E}=i,x=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||x){d=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((p,y,v)=>{let E,x=!1,k=null,P=null;i&&(E=h&&y.route.id?h[y.route.id]:void 0,k=y.route.errorElement||j1,d&&(m<0&&v===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,P=null):m===v&&(x=!0,P=y.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,v+1)),G=()=>{let j;return E?j=k:x?j=P:y.route.Component?j=O.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=p,O.createElement(V1,{match:y,routeContext:{outlet:p,matches:H,isDataRoute:i!=null},children:j})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?O.createElement(q1,{location:i.location,revalidation:i.revalidation,component:k,error:E,children:G(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:a}):G()},null)}function Hh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y1(s){let e=O.useContext(ur);return Me(e,Hh(s)),e}function F1(s){let e=O.useContext(su);return Me(e,Hh(s)),e}function Q1(s){let e=O.useContext(dn);return Me(e,Hh(s)),e}function Ph(s){let e=Q1(s),i=e.matches[e.matches.length-1];return Me(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function K1(){return Ph("useRouteId")}function X1(){let s=O.useContext(zh),e=F1("useRouteError"),i=Ph("useRouteError");return s!==void 0?s:e.errors?.[i]}function W1(){let{router:s}=Y1("useNavigate"),e=Ph("useNavigate"),i=O.useRef(!1);return ov(()=>{i.current=!0}),O.useCallback(async(o,c={})=>{tn(i.current,lv),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var Y_={};function cv(s,e,i){!e&&!Y_[s]&&(Y_[s]=!0,tn(!1,i))}O.memo(Z1);function Z1({routes:s,future:e,state:i,unstable_onError:a}){return uv(s,void 0,i,a,e)}function $1({to:s,replace:e,state:i,relative:a}){Me(cr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(nn);tn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(dn),{pathname:h}=pn(),d=Fa(),m=Uh(s,Lh(c),h,a==="path"),p=JSON.stringify(m);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:i,relative:a})},[d,p,a,e,i]),null}function Ro(s){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J1({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){Me(!cr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=or(i));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=i,x=O.useMemo(()=>{let k=Hn(m,h);return k==null?null:{location:{pathname:k,search:p,hash:y,state:v,key:E},navigationType:a}},[h,m,p,y,v,E,a]);return tn(x!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(nn.Provider,{value:d},O.createElement(Ya.Provider,{children:e,value:x}))}function eT({children:s,location:e}){return P1(uh(s),e)}function uh(s,e=[]){let i=[];return O.Children.forEach(s,(a,o)=>{if(!O.isValidElement(a))return;let c=[...e,o];if(a.type===O.Fragment){i.push.apply(i,uh(a.props.children,c));return}Me(a.type===Ro,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=uh(a.props.children,c)),i.push(h)}),i}var Ao="get",No="application/x-www-form-urlencoded";function ru(s){return s!=null&&typeof s.tagName=="string"}function tT(s){return ru(s)&&s.tagName.toLowerCase()==="button"}function nT(s){return ru(s)&&s.tagName.toLowerCase()==="form"}function iT(s){return ru(s)&&s.tagName.toLowerCase()==="input"}function sT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function rT(s,e){return s.button===0&&(!e||e==="_self")&&!sT(s)}var bo=null;function aT(){if(bo===null)try{new FormData(document.createElement("form"),0),bo=!1}catch{bo=!0}return bo}var lT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(s){return s!=null&&!lT.has(s)?(tn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${No}"`),null):s}function oT(s,e){let i,a,o,c,h;if(nT(s)){let d=s.getAttribute("action");a=d?Hn(d,e):null,i=s.getAttribute("method")||Ao,o=Qf(s.getAttribute("enctype"))||No,c=new FormData(s)}else if(tT(s)||iT(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(a=m?Hn(m,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||Ao,o=Qf(s.getAttribute("formenctype"))||Qf(d.getAttribute("enctype"))||No,c=new FormData(d,s),!aT()){let{name:p,type:y,value:v}=s;if(y==="image"){let E=p?`${p}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else p&&c.append(p,v)}}else{if(ru(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ao,a=null,o=No,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function uT(s,e,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Hn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function cT(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hT(s,e,i){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await cT(c,i);return h.links?h.links():[]}return[]}));return gT(a.flat(1).filter(fT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function F_(s,e,i,a,o,c){let h=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,d=(m,p)=>i[p].pathname!==m.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,p)=>h(m,p)||d(m,p)):c==="data"?e.filter((m,p)=>{let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(h(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function dT(s,e,{includeHydrateFallback:i}={}){return pT(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function pT(s){return[...new Set(s)]}function mT(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function gT(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify(mT(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function fv(){let s=O.useContext(ur);return Bh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function _T(){let s=O.useContext(su);return Bh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var jh=O.createContext(void 0);jh.displayName="FrameworkContext";function hv(){let s=O.useContext(jh);return Bh(s,"You must render this element inside a <HydratedRouter> element"),s}function yT(s,e){let i=O.useContext(jh),[a,o]=O.useState(!1),[c,h]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=O.useRef(null);O.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let P=G=>{G.forEach(j=>{h(j.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return E.current&&H.observe(E.current),()=>{H.disconnect()}}},[s]),O.useEffect(()=>{if(a){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[a]);let x=()=>{o(!0)},k=()=>{o(!1),h(!1)};return i?s!=="intent"?[c,E,{}]:[c,E,{onFocus:Ea(d,x),onBlur:Ea(m,k),onMouseEnter:Ea(p,x),onMouseLeave:Ea(y,k),onTouchStart:Ea(v,x)}]:[!1,E,{}]}function Ea(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function vT({page:s,...e}){let{router:i}=fv(),a=O.useMemo(()=>nv(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?O.createElement(ST,{page:s,matches:a,...e}):null}function ET(s){let{manifest:e,routeModules:i}=hv(),[a,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return hT(s,e,i).then(h=>{c||o(h)}),()=>{c=!0}},[s,e,i]),a}function ST({page:s,matches:e,...i}){let a=pn(),{manifest:o,routeModules:c}=hv(),{basename:h}=fv(),{loaderData:d,matches:m}=_T(),p=O.useMemo(()=>F_(s,e,m,o,a,"data"),[s,e,m,o,a]),y=O.useMemo(()=>F_(s,e,m,o,a,"assets"),[s,e,m,o,a]),v=O.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let k=new Set,P=!1;if(e.forEach(G=>{let j=o.routes[G.route.id];!j||!j.hasLoader||(!p.some(K=>K.route.id===G.route.id)&&G.route.id in d&&c[G.route.id]?.shouldRevalidate||j.hasClientLoader?P=!0:k.add(G.route.id))}),k.size===0)return[];let H=uT(s,h,"data");return P&&k.size>0&&H.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[H.pathname+H.search]},[h,d,a,o,p,e,s,c]),E=O.useMemo(()=>dT(y,o),[y,o]),x=ET(y);return O.createElement(O.Fragment,null,v.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),E.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),x.map(({key:k,link:P})=>O.createElement("link",{key:k,nonce:i.nonce,...P})))}function bT(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.8.2")}catch{}function TT({basename:s,children:e,window:i}){let a=O.useRef();a.current==null&&(a.current=c1({window:i,v5Compat:!0}));let o=a.current,[c,h]=O.useState({action:o.action,location:o.location}),d=O.useCallback(m=>{O.startTransition(()=>h(m))},[h]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(J1,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mv=O.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:h,state:d,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},x){let{basename:k}=O.useContext(nn),P=typeof p=="string"&&pv.test(p),H,G=!1;if(typeof p=="string"&&P&&(H=p,dv))try{let ke=new URL(window.location.href),Tt=p.startsWith("//")?new URL(ke.protocol+p):new URL(p),kt=Hn(Tt.pathname,k);Tt.origin===ke.origin&&kt!=null?p=kt+Tt.search+Tt.hash:G=!0}catch{tn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=z1(p,{relative:o}),[K,Ce,ne]=yT(a,E),Ke=AT(p,{replace:h,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:v});function Ve(ke){e&&e(ke),ke.defaultPrevented||Ke(ke)}let Xe=O.createElement("a",{...E,...ne,href:H||j,onClick:G||c?e:Ve,ref:bT(x,Ce),target:m,"data-discover":!P&&i==="render"?"true":void 0});return K&&!P?O.createElement(O.Fragment,null,Xe,O.createElement(vT,{page:j})):Xe});mv.displayName="Link";var CT=O.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:h,viewTransition:d,children:m,...p},y){let v=Qa(h,{relative:p.relative}),E=pn(),x=O.useContext(su),{navigator:k,basename:P}=O.useContext(nn),H=x!=null&&MT(v)&&d===!0,G=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,j=E.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(j=j.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&P&&(K=Hn(K,P)||K);const Ce=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ne=j===G||!o&&j.startsWith(G)&&j.charAt(Ce)==="/",Ke=K!=null&&(K===G||!o&&K.startsWith(G)&&K.charAt(G.length)==="/"),Ve={isActive:ne,isPending:Ke,isTransitioning:H},Xe=ne?e:void 0,ke;typeof a=="function"?ke=a(Ve):ke=[a,ne?"active":null,Ke?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Tt=typeof c=="function"?c(Ve):c;return O.createElement(mv,{...p,"aria-current":Xe,className:ke,ref:y,style:Tt,to:h,viewTransition:d},typeof m=="function"?m(Ve):m)});CT.displayName="NavLink";var wT=O.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:h=Ao,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},x)=>{let k=OT(),P=DT(d,{relative:p}),H=h.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&pv.test(d),j=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let Ce=K.nativeEvent.submitter,ne=Ce?.getAttribute("formmethod")||h;k(Ce||K.currentTarget,{fetcherKey:e,method:ne,navigate:i,replace:o,state:c,relative:p,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:x,method:H,action:P,onSubmit:a?m:j,...E,"data-discover":!G&&s==="render"?"true":void 0})});wT.displayName="Form";function RT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gv(s){let e=O.useContext(ur);return Me(e,RT(s)),e}function AT(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:h}={}){let d=Fa(),m=pn(),p=Qa(s,{relative:c});return O.useCallback(y=>{if(rT(y,e)){y.preventDefault();let v=i!==void 0?i:Ma(m)===Ma(p);d(s,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:h})}},[m,d,p,i,a,e,s,o,c,h])}var NT=0,xT=()=>`__${String(++NT)}__`;function OT(){let{router:s}=gv("useSubmit"),{basename:e}=O.useContext(nn),i=K1();return O.useCallback(async(a,o={})=>{let{action:c,method:h,encType:d,formData:m,body:p}=oT(a,e);if(o.navigate===!1){let y=o.fetcherKey||xT();await s.fetch(y,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function DT(s,{relative:e}={}){let{basename:i}=O.useContext(nn),a=O.useContext(dn);Me(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Qa(s||".",{relative:e})},h=pn();if(s==null){c.search=h.search;let d=new URLSearchParams(c.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();c.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Un([i,c.pathname])),Ma(c)}function MT(s,{relative:e}={}){let i=O.useContext(av);Me(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=gv("useViewTransitionState"),o=Qa(s,{relative:e});if(!i.isTransitioning)return!1;let c=Hn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Hn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return ko(o.pathname,h)!=null||ko(o.pathname,c)!=null}const IT=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(s,e){if(!s)throw fr(e)},fr=function(s){return new Error("Firebase Database ("+_v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],d=s[i++],m=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],h=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,d=h?s[o+1]:0,m=o+2<s.length,p=m?s[o+2]:0,y=c>>2,v=(c&3)<<4|d>>4;let E=(d&15)<<2|p>>6,x=p&63;m||(x=64,h||(E=64)),a.push(i[y],i[v],i[E],i[x])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(yv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||d==null||p==null||v==null)throw new LT;const E=c<<2|d>>4;if(a.push(E),p!==64){const x=d<<4&240|p>>2;if(a.push(x),v!==64){const k=p<<6&192|v;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vv=function(s){const e=yv(s);return qh.encodeByteArray(e,!0)},Lo=function(s){return vv(s).replace(/\./g,"")},Uo=function(s){try{return qh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s){return Ev(void 0,s)}function Ev(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!zT(i)||(s[i]=Ev(s[i],e[i]));return s}function zT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=()=>HT().__FIREBASE_DEFAULTS__,BT=()=>{if(typeof process>"u"||typeof Q_>"u")return;const s=Q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Uo(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return IT()||PT()||BT()||jT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Sv=s=>Vh()?.emulatorHosts?.[s],qT=s=>{const e=Sv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},bv=()=>Vh()?.config,Tv=s=>Vh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lo(JSON.stringify(i)),Lo(JSON.stringify(h)),""].join(".")}const wa={};function GT(){const s={prod:[],emulator:[]};for(const e of Object.keys(wa))wa[e]?s.emulator.push(e):s.prod.push(e);return s}function YT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let K_=!1;function wv(s,e){if(typeof window>"u"||typeof document>"u"||!hr(window.location.host)||wa[s]===e||wa[s]||K_)return;wa[s]=e;function i(E){return`__firebase__banner__${E}`}const a="__firebase__banner",c=GT().prod.length>0;function h(){const E=document.getElementById(a);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{K_=!0,h()},E}function y(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=YT(a),x=i("text"),k=document.getElementById(x)||document.createElement("span"),P=i("learnmore"),H=document.getElementById(P)||document.createElement("a"),G=i("preprendIcon"),j=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;d(K),y(H,P);const Ce=p();m(j,G),K.append(j,k,H,Ce),document.body.appendChild(K)}c?(k.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function FT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Rv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KT(){const s=mt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XT(){return _v.NODE_ADMIN===!0}function WT(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="FirebaseError";class Ni extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=$T,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?JT(c,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ni(o,d,a)}}function JT(s,e){return s.replace(eC,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const eC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(s){return JSON.parse(s)}function Qe(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(s){let e={},i={},a={},o="";try{const c=s.split(".");e=Ia(Uo(c[0])||""),i=Ia(Uo(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},tC=function(s){const e=Av(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},nC=function(s){const e=Av(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function er(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function ch(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function zo(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function es(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],h=e[o];if(X_(c)&&X_(h)){if(!es(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)a[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=d^c&(h^d),y=1518500249):(p=c^h^d,y=1859775393):v<60?(p=c&h|d&(c|h),y=2400959708):(p=c^h^d,y=3395469782);const E=(o<<5|o>>>27)+p+m+y+a[v]&4294967295;m=d,d=h,h=(c<<30|c>>>2)&4294967295,c=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=e[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[a]=this.chain_[o]>>c&255,++a;return e}}function sC(s,e){const i=new rC(s,e);return i.subscribe.bind(i)}class rC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aC(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Kf),o.error===void 0&&(o.error=Kf),o.complete===void 0&&(o.complete=Kf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kf(){}function au(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,z(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},lu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(s){return s&&s._delegate?s._delegate:s}class ts{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Ka;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cC(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);a===d&&h.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uC(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(s){return s===Xi?void 0:s}function cC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(be||(be={}));const hC={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},dC=be.INFO,pC={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},mC=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=pC[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const gC=(s,e)=>e.some(i=>s instanceof i);let W_,Z_;function _C(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,fh=new WeakMap,xv=new WeakMap,Xf=new WeakMap,Fh=new WeakMap;function vC(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(Ei(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&Nv.set(i,s)}).catch(()=>{}),Fh.set(e,s),e}function EC(s){if(fh.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});fh.set(s,e)}let hh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return fh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ei(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function SC(s){hh=s(hh)}function bC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Wf(this),e,...i);return xv.set(a,e.sort?e.sort():[e]),Ei(a)}:yC().includes(s)?function(...e){return s.apply(Wf(this),e),Ei(Nv.get(this))}:function(...e){return Ei(s.apply(Wf(this),e))}}function TC(s){return typeof s=="function"?bC(s):(s instanceof IDBTransaction&&EC(s),gC(s,_C())?new Proxy(s,hh):s)}function Ei(s){if(s instanceof IDBRequest)return vC(s);if(Xf.has(s))return Xf.get(s);const e=TC(s);return e!==s&&(Xf.set(s,e),Fh.set(e,s)),e}const Wf=s=>Fh.get(s);function CC(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),d=Ei(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Ei(h.result),m.oldVersion,m.newVersion,Ei(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const wC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],Zf=new Map;function $_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=RC.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||wC.includes(i)))return;const c=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Zf.set(e,c),c}SC(s=>({...s,get:(e,i,a)=>$_(e,i)||s.get(e,i,a),has:(e,i)=>!!$_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NC(s){return s.getComponent()?.type==="VERSION"}const dh="@firebase/app",J_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Yh("@firebase/app"),xC="@firebase/app-compat",OC="@firebase/analytics-compat",DC="@firebase/analytics",MC="@firebase/app-check-compat",IC="@firebase/app-check",kC="@firebase/auth",LC="@firebase/auth-compat",UC="@firebase/database",zC="@firebase/data-connect",HC="@firebase/database-compat",PC="@firebase/functions",BC="@firebase/functions-compat",jC="@firebase/installations",qC="@firebase/installations-compat",VC="@firebase/messaging",GC="@firebase/messaging-compat",YC="@firebase/performance",FC="@firebase/performance-compat",QC="@firebase/remote-config",KC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",ZC="@firebase/firestore",$C="@firebase/ai",JC="@firebase/firestore-compat",ew="firebase",tw="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]",nw={[dh]:"fire-core",[xC]:"fire-core-compat",[DC]:"fire-analytics",[OC]:"fire-analytics-compat",[IC]:"fire-app-check",[MC]:"fire-app-check-compat",[kC]:"fire-auth",[LC]:"fire-auth-compat",[UC]:"fire-rtdb",[zC]:"fire-data-connect",[HC]:"fire-rtdb-compat",[PC]:"fire-fn",[BC]:"fire-fn-compat",[jC]:"fire-iid",[qC]:"fire-iid-compat",[VC]:"fire-fcm",[GC]:"fire-fcm-compat",[YC]:"fire-perf",[FC]:"fire-perf-compat",[QC]:"fire-rc",[KC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[ZC]:"fire-fst",[JC]:"fire-fst-compat",[$C]:"fire-vertex","fire-js":"fire-js",[ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,iw=new Map,mh=new Map;function ey(s,e){try{s.container.addComponent(e)}catch(i){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function tr(s){const e=s.name;if(mh.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,s);for(const i of Ho.values())ey(i,s);for(const i of iw.values())ey(i,s);return!0}function Qh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Xt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Xa("app","Firebase",sw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=tw;function Ov(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:ph,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(i||(i=bv()),!i)throw Si.create("no-options");const c=Ho.get(o);if(c){if(es(i,c.options)&&es(a,c.config))return c;throw Si.create("duplicate-app",{appName:o})}const h=new fC(o);for(const m of mh.values())h.addComponent(m);const d=new rw(i,a,h);return Ho.set(o,d),d}function Dv(s=ph){const e=Ho.get(s);if(!e&&s===ph&&bv())return Ov();if(!e)throw Si.create("no-app",{appName:s});return e}function bi(s,e,i){let a=nw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(h.join(" "));return}tr(new ts(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebase-heartbeat-database",lw=1,ka="firebase-heartbeat-store";let $f=null;function Mv(){return $f||($f=CC(aw,lw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ka)}catch(i){console.warn(i)}}}}).catch(s=>{throw Si.create("idb-open",{originalErrorMessage:s.message})})),$f}async function ow(s){try{const i=(await Mv()).transaction(ka),a=await i.objectStore(ka).get(Iv(s));return await i.done,a}catch(e){if(e instanceof Ni)Pn.warn(e.message);else{const i=Si.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(i.message)}}}async function ty(s,e){try{const a=(await Mv()).transaction(ka,"readwrite");await a.objectStore(ka).put(e,Iv(s)),await a.done}catch(i){if(i instanceof Ni)Pn.warn(i.message);else{const a=Si.create("idb-set",{originalErrorMessage:i?.message});Pn.warn(a.message)}}}function Iv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1024,cw=30;class fw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ny();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cw){const o=pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ny(),{heartbeatsToSend:i,unsentEntries:a}=hw(this._heartbeatsCache.heartbeats),o=Lo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pn.warn(e),""}}}function ny(){return new Date().toISOString().substring(0,10)}function hw(s,e=uw){const i=[];let a=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),iy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),iy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?ZT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ow(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function iy(s){return Lo(JSON.stringify({version:2,heartbeats:s})).length}function pw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(s){tr(new ts("platform-logger",e=>new AC(e),"PRIVATE")),tr(new ts("heartbeat",e=>new fw(e),"PRIVATE")),bi(dh,J_,s),bi(dh,J_,"esm2020"),bi("fire-js","")}mw("");function kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gw=kv,Lv=new Xa("auth","Firebase",kv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Yh("@firebase/auth");function _w(s,...e){Po.logLevel<=be.WARN&&Po.warn(`Auth (${pr}): ${s}`,...e)}function xo(s,...e){Po.logLevel<=be.ERROR&&Po.error(`Auth (${pr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(s,...e){throw Xh(s,...e)}function Jt(s,...e){return Xh(s,...e)}function Kh(s,e,i){const a={...gw(),[e]:i};return new Xa("auth","Firebase",a).create(e,{appName:s.name})}function Ji(s){return Kh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yw(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&hn(s,"argument-error"),Kh(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Lv.create(s,...e)}function te(s,e,...i){if(!s)throw Xh(e,...i)}function In(s){const e="INTERNAL ASSERTION FAILED: "+s;throw xo(e),new Error(e)}function Bn(s,e){s||In(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){return typeof self<"u"&&self.location?.href||""}function vw(){return sy()==="http:"||sy()==="https:"}function sy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||QT()||"connection"in navigator)?navigator.onLine:!0}function Sw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,i){this.shortDelay=e,this.longDelay=i,Bn(i>e,"Short delay should be less than long delay!"),this.isMobile=Gh()||Rv()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s,e){Bn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cw=new Wa(3e4,6e4);function Zh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function mr(s,e,i,a,o={}){return zv(s,o,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const d=dr({key:s.config.apiKey,...h}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:m,...c};return FT()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&hr(s.emulatorConfig.host)&&(p.credentials="include"),Uv.fetch()(await Hv(s,s.config.apiHost,i,d),p)})}async function zv(s,e,i){s._canInitEmulator=!1;const a={...bw,...e};try{const o=new Rw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw To(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw To(s,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw To(s,"email-already-in-use",h);if(m==="USER_DISABLED")throw To(s,"user-disabled",h);const y=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Kh(s,y,p);hn(s,y)}}catch(o){if(o instanceof Ni)throw o;hn(s,"network-request-failed",{message:String(o)})}}async function ww(s,e,i,a,o={}){const c=await mr(s,e,i,a,o);return"mfaPendingCredential"in c&&hn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,h=c.config.emulator?Wh(s.config,o):`${s.config.apiScheme}://${o}`;return Tw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class Rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Jt(this.auth,"network-request-failed")),Cw.get())})}}function To(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Jt(s,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(s,e){return mr(s,"POST","/v1/accounts:delete",e)}async function Bo(s,e){return mr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nw(s,e=!1){const i=bt(s),a=await i.getIdToken(e),o=$h(a);te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:a,authTime:Ra(Jf(o.auth_time)),issuedAtTime:Ra(Jf(o.iat)),expirationTime:Ra(Jf(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jf(s){return Number(s)*1e3}function $h(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return xo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Uo(i);return o?JSON.parse(o):(xo("Failed to decode base64 JWT payload"),null)}catch(o){return xo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ry(s){const e=$h(s);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ni&&xw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function xw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(s){const e=s.auth,i=await s.getIdToken(),a=await La(s,Bo(e,{idToken:i}));te(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Pv(o.providerUserInfo):[],h=Mw(s.providerData,c),d=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!h?.length,p=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new _h(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,y)}async function Dw(s){const e=bt(s);await jo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Pv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(s,e){const i=await zv(s,{},async()=>{const a=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await Hv(s,o,"/v1/token",`key=${c}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return s.emulatorConfig&&hr(s.emulatorConfig.host)&&(m.credentials="include"),Uv.fetch()(h,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kw(s,e){return mr(s,"POST","/v2/accounts:revokeToken",Zh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){te(e.length!==0,"internal-error");const i=ry(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Iw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new Xs;return a&&(te(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(te(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(s,e){te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zt{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _h(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await La(this,this.stsTokenManager.getToken(this.auth,e));return te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Nw(this,e)}reload(){return Dw(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await jo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await La(this,Aw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,m=i._redirectEventId??void 0,p=i.createdAt??void 0,y=i.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:x,providerData:k,stsTokenManager:P}=i;te(v&&P,e,"internal-error");const H=Xs.fromJSON(this.name,P);te(typeof v=="string",e,"internal-error"),pi(a,e.name),pi(o,e.name),te(typeof E=="boolean",e,"internal-error"),te(typeof x=="boolean",e,"internal-error"),pi(c,e.name),pi(h,e.name),pi(d,e.name),pi(m,e.name),pi(p,e.name),pi(y,e.name);const G=new Zt({uid:v,auth:e,email:o,emailVerified:E,displayName:a,isAnonymous:x,photoURL:h,phoneNumber:c,tenantId:d,stsTokenManager:H,createdAt:p,lastLoginAt:y});return k&&Array.isArray(k)&&(G.providerData=k.map(j=>({...j}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(e,i,a=!1){const o=new Xs;o.updateFromServerResponse(i);const c=new Zt({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await jo(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Pv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,d=new Xs;d.updateFromIdToken(a);const m=new Zt({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _h(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map;function kn(s){Bn(s instanceof Function,"Expected a class definition");let e=ay.get(s);return e?(Bn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ay.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Bv.type="NONE";const ly=Bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(s,e,i){return`firebase:${s}:${e}:${i}`}class Ws{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Oo(this.userKey,o.apiKey,c),this.fullPersistenceKey=Oo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Bo(this.auth,{idToken:e}).catch(()=>{});return i?Zt._fromGetAccountInfoResponse(this.auth,i,e):null}return Zt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ws(kn(ly),e,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||kn(ly);const h=Oo(a,e.config.apiKey,e.name);let d=null;for(const p of i)try{const y=await p._get(h);if(y){let v;if(typeof y=="string"){const E=await Bo(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Zt._fromGetAccountInfoResponse(e,E,y)}else v=Zt._fromJSON(e,y);p!==c&&(d=v),c=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Ws(c,e,a):(c=m[0],d&&await c._set(h,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new Ws(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fv(e))return"Blackberry";if(Qv(e))return"Webos";if(qv(e))return"Safari";if((e.includes("chrome/")||Vv(e))&&!e.includes("edge/"))return"Chrome";if(Yv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function jv(s=mt()){return/firefox\//i.test(s)}function qv(s=mt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vv(s=mt()){return/crios\//i.test(s)}function Gv(s=mt()){return/iemobile/i.test(s)}function Yv(s=mt()){return/android/i.test(s)}function Fv(s=mt()){return/blackberry/i.test(s)}function Qv(s=mt()){return/webos/i.test(s)}function Jh(s=mt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Lw(s=mt()){return Jh(s)&&!!window.navigator?.standalone}function Uw(){return KT()&&document.documentMode===10}function Kv(s=mt()){return Jh(s)||Yv(s)||Qv(s)||Fv(s)||/windows phone/i.test(s)||Gv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(s,e=[]){let i;switch(s){case"Browser":i=oy(mt());break;case"Worker":i=`${oy(mt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${pr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((h,d)=>{try{const m=e(c);h(m)}catch(m){d(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(s,e={}){return mr(s,"GET","/v2/passwordPolicy",Zh(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=6;class Bw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Pw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uy(this),this.idTokenSubscription=new uy(this),this.beforeStateQueue=new zw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=kn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Bo(this,{idToken:e}),a=await Zt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jo(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Ji(this));const i=e?bt(e):null;return i&&te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hw(this),i=new Bw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xa("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&kn(e)||this._popupRedirectResolver;te(i,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[kn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,a,o);return()=>{h=!0,m()}}else{const m=e.addObserver(i);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_w(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ou(s){return bt(s)}class uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=sC(i=>this.observer=i)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qw(s){ed=s}function Vw(s){return ed.loadJS(s)}function Gw(){return ed.gapiScript}function Yw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(s,e){const i=Qh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(es(c,e??{}))return o;hn(o,"already-initialized")}return i.initialize({options:e})}function Qw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(kn);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Kw(s,e,i){const a=ou(s);te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Wv(e),{host:h,port:d}=Xw(e),m=d===null?"":`:${d}`,p={url:`${c}//${h}${m}/`},y=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),te(es(p,a.config.emulator)&&es(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,hr(h)?(Cv(`${c}//${h}${m}`),wv("Auth",!0)):Ww()}function Wv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Xw(s){const e=Wv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:cy(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:cy(h)}}}function cy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ww(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,i){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(s,e){return ww(s,"POST","/v1/accounts:signInWithIdp",Zh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="http://localhost";class ns extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):hn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const h=new ns(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return Zs(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Zs(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Zs(e,i)}buildRequest(){const e={requestUri:Zw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=dr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends td{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Za{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ns._fromParams({providerId:Dn.PROVIDER_ID,signInMethod:Dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Dn.credentialFromTaggedObject(e)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Dn.credential(i,a)}catch{return null}}}Dn.GOOGLE_SIGN_IN_METHOD="google.com";Dn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Za{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Za{constructor(){super("twitter.com")}static credential(e,i){return ns._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return _i.credential(i,a)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Zt._fromIdTokenResponse(e,a,o),h=fy(a);return new nr({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=fy(a);return new nr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function fy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Ni{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new qo(e,i,a,o)}}function $v(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qo._fromErrorAndOperation(s,c,e,a):c})}async function $w(s,e,i=!1){const a=await La(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return nr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(s,e,i=!1){const{auth:a}=s;if(Xt(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const c=await La(s,$v(a,o,e,s),i);te(c.idToken,a,"internal-error");const h=$h(c.idToken);te(h,a,"internal-error");const{sub:d}=h;return te(s.uid===d,a,"user-mismatch"),nr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&hn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(s,e,i=!1){if(Xt(s.app))return Promise.reject(Ji(s));const a="signIn",o=await $v(s,a,e),c=await nr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function tR(s,e,i,a){return bt(s).onIdTokenChanged(e,i,a)}function nR(s,e,i){return bt(s).beforeAuthStateChanged(e,i)}function iR(s,e,i,a){return bt(s).onAuthStateChanged(e,i,a)}function sR(s){return bt(s).signOut()}const Vo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Vo,"1"),this.storage.removeItem(Vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1e3,aR=10;class e0 extends Jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);Uw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}e0.type="LOCAL";const lR=e0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}t0.type="SESSION";const n0=t0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new uu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async p=>p(i.origin,c)),m=await oR(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,m)=>{const p=nd("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(E.data.response);break;default:clearTimeout(y),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return window}function cR(s){fn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}async function fR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hR(){return navigator?.serviceWorker?.controller||null}function dR(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firebaseLocalStorageDb",pR=1,Go="firebaseLocalStorage",r0="fbase_key";class $a{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function cu(s,e){return s.transaction([Go],e?"readwrite":"readonly").objectStore(Go)}function mR(){const s=indexedDB.deleteDatabase(s0);return new $a(s).toPromise()}function yh(){const s=indexedDB.open(s0,pR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Go,{keyPath:r0})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Go)?e(a):(a.close(),await mR(),e(await yh()))})})}async function hy(s,e,i){const a=cu(s,!0).put({[r0]:e,value:i});return new $a(a).toPromise()}async function gR(s,e){const i=cu(s,!1).get(e),a=await new $a(i).toPromise();return a===void 0?null:a.value}function dy(s,e){const i=cu(s,!0).delete(e);return new $a(i).toPromise()}const _R=800,yR=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>yR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uu._getInstance(dR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yh();return await hy(e,Vo,"1"),await dy(e,Vo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>gR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>dy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=cu(o,!1).getAll();return new $a(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const vR=a0;new Wa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s,e){return e?kn(e):(te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Zs(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ER(s){return eR(s.auth,new id(s),s.bypassAuthState)}function SR(s){const{auth:e,user:i}=s;return te(i,e,"internal-error"),Jw(i,new id(s),s.bypassAuthState)}async function bR(s){const{auth:e,user:i}=s;return te(i,e,"internal-error"),$w(i,new id(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return bR;case"reauthViaPopup":case"reauthViaRedirect":return SR;default:hn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Wa(2e3,1e4);async function CR(s,e,i){if(Xt(s.app))return Promise.reject(Jt(s,"operation-not-supported-in-this-environment"));const a=ou(s);yw(s,e,td);const o=l0(a,i);return new Zi(a,"signInViaPopup",e,o).executeNotNull()}class Zi extends o0{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=nd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TR.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="pendingRedirect",Do=new Map;class RR extends o0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Do.get(this.auth._key());if(!e){try{const a=await AR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Do.set(this.auth._key(),e)}return this.bypassAuthState||Do.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(s,e){const i=OR(e),a=xR(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function NR(s,e){Do.set(s._key(),e)}function xR(s){return kn(s._redirectPersistence)}function OR(s){return Oo(wR,s.config.apiKey,s.name)}async function DR(s,e,i=!1){if(Xt(s.app))return Promise.reject(Ji(s));const a=ou(s),o=l0(a,e),h=await new RR(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=600*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!u0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Jt(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MR&&this.cachedEventUids.clear(),this.cachedEventUids.has(py(e))}saveEventToCache(e){this.cachedEventUids.add(py(e)),this.lastProcessedEventTime=Date.now()}}function py(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function u0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function kR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(s,e={}){return mr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zR=/^https?/;async function HR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await LR(s);for(const i of e)try{if(PR(i))return}catch{}hn(s,"unauthorized-domain")}function PR(s){const e=gh(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!zR.test(i))return!1;if(UR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Wa(3e4,6e4);function my(){const s=fn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function jR(s){return new Promise((e,i)=>{function a(){my(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{my(),i(Jt(s,"network-request-failed"))},timeout:BR.get()})}if(fn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fn().gapi?.load)a();else{const o=Yw("iframefcb");return fn()[o]=()=>{gapi.load?a():i(Jt(s,"network-request-failed"))},Vw(`${Gw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Mo=null,e})}let Mo=null;function qR(s){return Mo=Mo||jR(s),Mo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new Wa(5e3,15e3),GR="__/auth/iframe",YR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KR(s){const e=s.config;te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Wh(e,YR):`https://${s.config.authDomain}/${GR}`,a={apiKey:e.apiKey,appName:s.name,v:pr},o=QR.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${dr(a).slice(1)}`}async function XR(s){const e=await qR(s),i=fn().gapi;return te(i,s,"internal-error"),e.open({where:document.body,url:KR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=Jt(s,"network-request-failed"),d=fn().setTimeout(()=>{c(h)},VR.get());function m(){fn().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZR=500,$R=600,JR="_blank",eA="http://localhost";class gy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tA(s,e,i,a=ZR,o=$R){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...WR,width:a.toString(),height:o.toString(),top:c,left:h},p=mt().toLowerCase();i&&(d=Vv(p)?JR:i),jv(p)&&(e=e||eA,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[x,k])=>`${E}${x}=${k},`,"");if(Lw(p)&&d!=="_self")return nA(e||"",d),new gy(null);const v=window.open(e||"",d,y);te(v,s,"popup-blocked");try{v.focus()}catch{}return new gy(v)}function nA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="__/auth/handler",sA="emulator/auth/handler",rA=encodeURIComponent("fac");async function _y(s,e,i,a,o,c){te(s.config.authDomain,s,"auth-domain-config-required"),te(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:pr,eventId:o};if(e instanceof td){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",ch(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))h[y]=v}if(e instanceof Za){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(h.scopes=y.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await s._getAppCheckToken(),p=m?`#${rA}=${encodeURIComponent(m)}`:"";return`${aA(s)}?${dr(d).slice(1)}${p}`}function aA({config:s}){return s.emulator?Wh(s,sA):`https://${s.authDomain}/${iA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="webStorageSupport";class lA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=DR,this._overrideRedirectResult=NR}async _openPopup(e,i,a,o){Bn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _y(e,i,a,gh(),o);return tA(e,c,nd())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await _y(e,i,a,gh(),o);return cR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Bn(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await XR(e),a=new IR(e);return i.register("authEvent",o=>(te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(eh,{type:eh},o=>{const c=o?.[0]?.[eh];c!==void 0&&i(!!c),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Kv()||qv()||Jh()}}const oA=lA;var yy="@firebase/auth",vy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fA(s){tr(new ts("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;te(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xv(s)},p=new jw(a,o,c,m);return Qw(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),tr(new ts("auth-internal",e=>{const i=ou(e.getProvider("auth").getImmediate());return(a=>new uA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(yy,vy,cA(s)),bi(yy,vy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=300,dA=Tv("authIdTokenMaxAge")||hA;let Ey=null;const pA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dA)return;const o=i?.token;Ey!==o&&(Ey=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mA(s=Dv()){const e=Qh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Fw(s,{popupRedirectResolver:oA,persistence:[vR,lR,n0]}),a=Tv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=pA(c.toString());nR(i,h,()=>h(i.currentUser)),tR(i,d=>h(d))}}const o=Sv("auth");return o&&Kw(i,`http://${o}`),i}function gA(){return document.getElementsByTagName("head")?.[0]??document}qw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Jt("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",gA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fA("Browser");var _A="firebase",yA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(_A,yA,"app");var Sy={};const by="@firebase/database",Ty="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0="";function vA(s){c0=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ia(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new EA(e)}}catch{}return new SA},$i=f0("localStorage"),bA=f0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Yh("@firebase/database"),TA=(function(){let s=1;return function(){return s++}})(),h0=function(s){const e=lC(s),i=new iC;i.update(e);const a=i.digest();return qh.encodeByteArray(a)},Ja=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=Ja.apply(null,a):typeof a=="object"?e+=Qe(a):e+=a,e+=" "}return e};let Aa=null,Cy=!0;const CA=function(s,e){z(!0,"Can't turn on custom loggers persistently."),$s.logLevel=be.VERBOSE,Aa=$s.log.bind($s)},rt=function(...s){if(Cy===!0&&(Cy=!1,Aa===null&&bA.get("logging_enabled")===!0&&CA()),Aa){const e=Ja.apply(null,s);Aa(e)}},el=function(s){return function(...e){rt(s,...e)}},vh=function(...s){const e="FIREBASE INTERNAL ERROR: "+Ja(...s);$s.error(e)},jn=function(...s){const e=`FIREBASE FATAL ERROR: ${Ja(...s)}`;throw $s.error(e),new Error(e)},pt=function(...s){const e="FIREBASE WARNING: "+Ja(...s);$s.warn(e)},wA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sd=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},RA=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ir="[MIN_NAME]",is="[MAX_NAME]",as=function(s,e){if(s===e)return 0;if(s===ir||e===is)return-1;if(e===ir||s===is)return 1;{const i=wy(s),a=wy(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},AA=function(s,e){return s===e?0:s<e?-1:1},Sa=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Qe(e))},rd=function(s){if(typeof s!="object"||s===null)return Qe(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Qe(e[a]),i+=":",i+=rd(s[e[a]]);return i+="}",i},d0=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function at(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const p0=function(s){z(!sd(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,c,h,d,m;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-a-i))));const p=[];for(m=i;m;m-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(m=e;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(y.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},NA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function OA(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const DA=new RegExp("^-?(0*)\\d{1,10}$"),MA=-2147483648,IA=2147483647,wy=function(s){if(DA.test(s)){const e=Number(s);if(e>=MA&&e<=IA)return e}return null},gr=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw pt("Exception was thrown by user callback.",i),e},Math.floor(0))}},kA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Na=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}}class Io{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Io.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="5",m0="v",g0="s",_0="r",y0="f",v0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E0="ls",S0="p",Eh="ac",b0="websocket",T0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,i,a,o,c=!1,h="",d=!1,m=!1,p=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function zA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function w0(s,e,i){z(typeof e=="string","typeof type must == string"),z(typeof i=="object","typeof params must == object");let a;if(e===b0)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===T0)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zA(s)&&(i.ns=s.namespace);const o=[];return at(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.counters_={}}incrementCounter(e,i=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return UT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th={},nh={};function ld(s){const e=s.toString();return th[e]||(th[e]=new HA),th[e]}function PA(s,e){const i=s.toString();return nh[i]||(nh[i]=e()),nh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&gr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="start",jA="close",qA="pLPCommand",VA="pRTLPCB",R0="id",A0="pw",N0="ser",GA="cb",YA="seg",FA="ts",QA="d",KA="dframe",x0=1870,O0=30,XA=x0-O0,WA=25e3,ZA=3e4;class Ks{constructor(e,i,a,o,c,h,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=el(e),this.stats_=ld(i),this.urlFn=m=>(this.appCheckToken&&(m[Eh]=this.appCheckToken),w0(i,T0,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new BA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ZA)),RA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new od((...c)=>{const[h,d,m,p,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Ry)this.id=d,this.password=m;else if(h===jA)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,d]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[Ry]="t",a[N0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[GA]=this.scriptTagHolder.uniqueCallbackIdentifier),a[m0]=ad,this.transportSessionId&&(a[g0]=this.transportSessionId),this.lastSessionId&&(a[E0]=this.lastSessionId),this.applicationId&&(a[S0]=this.applicationId),this.appCheckToken&&(a[Eh]=this.appCheckToken),typeof location<"u"&&location.hostname&&v0.test(location.hostname)&&(a[_0]=y0);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ks.forceAllow_=!0}static forceDisallow(){Ks.forceDisallow_=!0}static isAvailable(){return Ks.forceAllow_?!0:!Ks.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!NA()&&!xA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Qe(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=vv(i),o=d0(a,XA);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[KA]="t",a[R0]=e,a[A0]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Qe(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class od{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TA(),window[qA+this.uniqueCallbackIdentifier]=e,window[VA+this.uniqueCallbackIdentifier]=i,this.myIFrame=od.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){rt("frame writing exception"),d.stack&&rt(d.stack),rt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[R0]=this.myID,e[A0]=this.myPW,e[N0]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+O0+a.length<=x0;){const h=this.pendingSegs.shift();a=a+"&"+YA+o+"="+h.seg+"&"+FA+o+"="+h.ts+"&"+QA+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(WA)),c=()=>{clearTimeout(o),a()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=16384,JA=45e3;let Yo=null;typeof MozWebSocket<"u"?Yo=MozWebSocket:typeof WebSocket<"u"&&(Yo=WebSocket);class Wt{constructor(e,i,a,o,c,h,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=el(this.connId),this.stats_=ld(i),this.connURL=Wt.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,c){const h={};return h[m0]=ad,typeof location<"u"&&location.hostname&&v0.test(location.hostname)&&(h[_0]=y0),i&&(h[g0]=i),a&&(h[E0]=a),o&&(h[Eh]=o),c&&(h[S0]=c),w0(e,b0,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let a;XT(),this.mySock=new Yo(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Yo!==null&&!Wt.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ia(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Qe(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=d0(i,$A);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JA))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static get ALL_TRANSPORTS(){return[Ks,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Wt&&Wt.isAvailable();let a=i&&!Wt.previouslyFailed();if(e.webSocketOnly&&(i||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Wt];else{const o=this.transports_=[];for(const c of Ua.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Ua.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ua.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6e4,tN=5e3,nN=10*1024,iN=100*1024,ih="t",Ay="d",sN="s",Ny="r",rN="e",xy="o",Oy="a",Dy="n",My="p",aN="h";class lN{constructor(e,i,a,o,c,h,d,m,p,y){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=el("c:"+this.id+":"),this.transportManager_=new Ua(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Na(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ih in e){const i=e[ih];i===Oy?this.upgradeIfSecondaryHealthy_():i===Ny?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===xy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Sa("t",e),a=Sa("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:My,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Oy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Sa("t",e),a=Sa("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Sa(ih,e);if(Ay in e){const a=e[Ay];if(i===aN){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Dy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===sN?this.onConnectionShutdown_(a):i===Ny?this.onReset_(a):i===rN?vh("Server Error: "+a):i===xy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),ad!==a&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Na(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Na(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:My,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(e){z(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends M0{static getInstance(){return new Fo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=32,ky=768;class Te{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function me(){return new Te("")}function le(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function wi(s){return s.pieces_.length-s.pieceNum_}function xe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Te(s.pieces_,e)}function ud(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function oN(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function za(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function I0(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Te(e,0)}function ze(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Te)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Te(i,0)}function fe(s){return s.pieceNum_>=s.pieces_.length}function dt(s,e){const i=le(s),a=le(e);if(i===null)return e;if(i===a)return dt(xe(s),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function uN(s,e){const i=za(s,0),a=za(e,0);for(let o=0;o<i.length&&o<a.length;o++){const c=as(i[o],a[o]);if(c!==0)return c}return i.length===a.length?0:i.length<a.length?-1:1}function cd(s,e){if(wi(s)!==wi(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function Gt(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(wi(s)>wi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class cN{constructor(e,i){this.errorPrefix_=i,this.parts_=za(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=lu(this.parts_[a]);k0(this)}}function fN(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=lu(e),k0(s)}function hN(s){const e=s.parts_.pop();s.byteLength_-=lu(e),s.parts_.length>0&&(s.byteLength_-=1)}function k0(s){if(s.byteLength_>ky)throw new Error(s.errorPrefix_+"has a key path longer than "+ky+" bytes ("+s.byteLength_+").");if(s.parts_.length>Iy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Iy+") or object contains a cycle "+Wi(s))}function Wi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends M0{static getInstance(){return new fd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=1e3,dN=300*1e3,Ly=30*1e3,pN=1.3,mN=3e4,gN="server_kill",Uy=3;class zn extends D0{constructor(e,i,a,o,c,h,d,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=zn.nextPersistentConnectionId_++,this.log_=el("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ba,this.maxReconnectDelay_=dN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(Qe(c)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new Ka,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,a,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(h,c,d=>{const m=d.d,p=d.s;zn.warnOnListenWarnings_(m,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&mn(e,"w")){const a=er(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ly)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=tC(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qe(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):vh("Unrecognized action received from server: "+Qe(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mN&&(this.reconnectDelay_=ba),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,c=this.lastSessionId;let h=!1,d=null;const m=function(){d?d.close():(h=!0,a())},p=function(v){z(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?rt("getToken() completed but was canceled"):(rt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,d=new lN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,x=>{pt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(gN)},c))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&pt(v),m())}}}interrupt(e){rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ch(this.interruptReasons_)&&(this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(c=>rd(c)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Te(e).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){rt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Uy&&(this.reconnectDelay_=Ly,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){rt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+c0.replace(/\./g,"-")]=1,Gh()?e["framework.cordova"]=1:Rv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fo.getInstance().currentlyOnline();return ch(this.interruptReasons_)&&e}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new oe(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new oe(ir,e),o=new oe(ir,i);return this.compare(a,o)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class L0 extends fu{static get __EMPTY_NODE(){return Co}static set __EMPTY_NODE(e){Co=e}compare(e,i){return as(e.name,i.name)}isDefinedOn(e){throw fr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return oe.MIN}maxPost(){return new oe(is,Co)}makePost(e,i){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,Co)}toString(){return".key"}}const Js=new L0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?a(e.key,i):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??tt.RED,this.left=o??St.EMPTY_NODE,this.right=c??St.EMPTY_NODE}copy(e,i,a,o,c){return new tt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class _N{copy(e,i,a,o,c){return this}insert(e,i,a){return new tt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(e,i=St.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new St(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new St(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new wo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new wo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new wo(this.root_,null,this.comparator_,!0,e)}}St.EMPTY_NODE=new _N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(s,e){return as(s.name,e.name)}function hd(s,e){return as(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;function vN(s){Sh=s}const U0=function(s){return typeof s=="number"?"number:"+p0(s):"string:"+s},z0=function(s){if(s.isLeafNode()){const e=s.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else z(s===Sh||s.isEmpty(),"priority of unexpected type.");z(s===Sh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy;class et{static set __childrenNodeConstructor(e){zy=e}static get __childrenNodeConstructor(){return zy}constructor(e,i=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),z0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:le(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=le(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(z(a!==".priority"||wi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+U0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=p0(this.value_):e+=this.value_,this.lazyHash_=h0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=et.VALUE_TYPE_ORDER.indexOf(i),c=et.VALUE_TYPE_ORDER.indexOf(a);return z(o>=0,"Unknown leaf type: "+i),z(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H0,P0;function EN(s){H0=s}function SN(s){P0=s}class bN extends fu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?as(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(is,new et("[PRIORITY-POST]",P0))}makePost(e,i){const a=H0(e);return new oe(i,new et("[PRIORITY-POST]",a))}toString(){return".priority"}}const He=new bN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=Math.log(2);class CN{constructor(e){const i=c=>parseInt(Math.log(c)/TN,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qo=function(s,e,i,a){s.sort(e);const o=function(m,p){const y=p-m;let v,E;if(y===0)return null;if(y===1)return v=s[m],E=i?i(v):v,new tt(E,v.node,tt.BLACK,null,null);{const x=parseInt(y/2,10)+m,k=o(m,x),P=o(x+1,p);return v=s[x],E=i?i(v):v,new tt(E,v.node,tt.BLACK,k,P)}},c=function(m){let p=null,y=null,v=s.length;const E=function(k,P){const H=v-k,G=v;v-=k;const j=o(H+1,G),K=s[H],Ce=i?i(K):K;x(new tt(Ce,K.node,P,null,j))},x=function(k){p?(p.left=k,p=k):(y=k,p=k)};for(let k=0;k<m.count;++k){const P=m.nextBitIsOne(),H=Math.pow(2,m.count-(k+1));P?E(H,tt.BLACK):(E(H,tt.BLACK),E(H,tt.RED))}return y},h=new CN(s.length),d=c(h);return new St(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;const Qs={};class Ln{static get Default(){return z(Qs&&He,"ChildrenNode.ts has not been loaded"),sh=sh||new Ln({".priority":Qs},{".priority":He}),sh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=er(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof St?i:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,i){z(e!==Js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(oe.Wrap);let h=c.getNext();for(;h;)o=o||e.isDefinedOn(h.node),a.push(h),h=c.getNext();let d;o?d=Qo(a,e.getCompare()):d=Qs;const m=e.toString(),p={...this.indexSet_};p[m]=e;const y={...this.indexes_};return y[m]=d,new Ln(y,p)}addToIndexes(e,i){const a=zo(this.indexes_,(o,c)=>{const h=er(this.indexSet_,c);if(z(h,"Missing index implementation for "+c),o===Qs)if(h.isDefinedOn(e.node)){const d=[],m=i.getIterator(oe.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&d.push(p),p=m.getNext();return d.push(e),Qo(d,h.getCompare())}else return Qs;else{const d=i.get(e.name);let m=o;return d&&(m=m.remove(new oe(e.name,d))),m.insert(e,e.node)}});return new Ln(a,this.indexSet_)}removeFromIndexes(e,i){const a=zo(this.indexes_,o=>{if(o===Qs)return o;{const c=i.get(e.name);return c?o.remove(new oe(e.name,c)):o}});return new Ln(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta;class J{static get EMPTY_NODE(){return Ta||(Ta=new J(new St(hd),null,Ln.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&z0(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ta}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Ta:i}}getChild(e){const i=le(e);return i===null?this:this.getImmediateChild(i).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(z(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new oe(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?Ta:this.priorityNode_;return new J(o,h,c)}}updateChild(e,i){const a=le(e);if(a===null)return i;{z(le(e)!==".priority"||wi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(xe(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(He,(h,d)=>{i[h]=d.val(e),a++,c&&J.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+U0(this.getPriority().val())+":"),this.forEachChild(He,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":h0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new oe(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new oe(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new oe(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,oe.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tl?-1:0}withIndex(e){if(e===Js||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Js||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(He),o=i.getIterator(He);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===Js?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wN extends J{constructor(){super(new St(hd),J.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const tl=new wN;Object.defineProperties(oe,{MIN:{value:new oe(ir,J.EMPTY_NODE)},MAX:{value:new oe(is,tl)}});L0.__EMPTY_NODE=J.EMPTY_NODE;et.__childrenNodeConstructor=J;vN(tl);SN(tl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=!0;function Fe(s,e=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new et(i,Fe(e))}if(!(s instanceof Array)&&RN){const i=[];let a=!1;if(at(s,(h,d)=>{if(h.substring(0,1)!=="."){const m=Fe(d);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),i.push(new oe(h,m)))}}),i.length===0)return J.EMPTY_NODE;const c=Qo(i,yN,h=>h.name,hd);if(a){const h=Qo(i,He.getCompare());return new J(c,Fe(e),new Ln({".priority":h},{".priority":He}))}else return new J(c,Fe(e),Ln.Default)}else{let i=J.EMPTY_NODE;return at(s,(a,o)=>{if(mn(s,a)&&a.substring(0,1)!=="."){const c=Fe(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(Fe(e))}}EN(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends fu{constructor(e){super(),this.indexPath_=e,z(!fe(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?as(e.name,i.name):c}makePost(e,i){const a=Fe(e),o=J.EMPTY_NODE.updateChild(this.indexPath_,a);return new oe(i,o)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,tl);return new oe(is,e)}toString(){return za(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN extends fu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?as(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,i){const a=Fe(e);return new oe(i,a)}toString(){return".value"}}const xN=new NN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(s){return{type:"value",snapshotNode:s}}function sr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Ha(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Pa(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function ON(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.index_=e}updateChild(e,i,a,o,c,h){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?e.hasChild(i)?h.trackChildChange(Ha(i,d)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(sr(i,a)):h.trackChildChange(Pa(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(He,(o,c)=>{i.hasChild(o)||a.trackChildChange(Ha(o,c))}),i.isLeafNode()||i.forEachChild(He,(o,c)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(c)||a.trackChildChange(Pa(o,c,h))}else a.trackChildChange(sr(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.indexedFilter_=new dd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ba.getStartPost_(e),this.endPost_=Ba.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,c,h){return this.matches(new oe(i,a))||(a=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,c,h)}updateFullNode(e,i,a){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const c=this;return i.forEachChild(He,(h,d)=>{c.matches(new oe(h,d))||(o=o.updateImmediateChild(h,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ba(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,c,h){return this.rangedFilter_.matches(new oe(i,a))||(a=J.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,c,h):this.fullLimitUpdateChild_(e,i,a,c,h)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const d=c.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const d=c.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,c){let h;if(this.reverse_){const v=this.index_.getCompare();h=(E,x)=>v(x,E)}else h=this.index_.getCompare();const d=e;z(d.numChildren()===this.limit_,"");const m=new oe(i,a),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(d.hasChild(i)){const v=d.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const x=E==null?1:h(E,m);if(y&&!a.isEmpty()&&x>=0)return c?.trackChildChange(Pa(i,a,v)),d.updateImmediateChild(i,a);{c?.trackChildChange(Ha(i,v));const P=d.updateImmediateChild(i,J.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(c?.trackChildChange(sr(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return a.isEmpty()?e:y&&h(p,m)>=0?(c!=null&&(c.trackChildChange(Ha(p.name,p.node)),c.trackChildChange(sr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(p.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ir}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:is}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new pd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MN(s){return s.loadsAllData()?new dd(s.getIndex()):s.hasLimit()?new DN(s):new Ba(s)}function Hy(s){const e={};if(s.isDefault())return e;let i;if(s.index_===He?i="$priority":s.index_===xN?i="$value":s.index_===Js?i="$key":(z(s.index_ instanceof AN,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Qe(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Qe(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Qe(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Qe(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Qe(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Py(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==He&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends D0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=el("p:rest:"),this.listens_={}}listen(e,i,a,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=Ko.getListenId_(e,a),d={};this.listens_[h]=d;const m=Hy(e._queryParams);this.restRequest_(c+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(c,v,!1,a),er(this.listens_,h)===d){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,i){const a=Ko.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Hy(e._queryParams),a=e._path.toString(),o=new Ka;return this.restRequest_(a+".json",i,(c,h)=>{let d=h;c===404&&(d=null,c=null),c===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+dr(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=Ia(d.responseText)}catch{pt("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,m)}else d.status!==401&&d.status!==404&&pt("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return{value:null,children:new Map}}function j0(s,e,i){if(fe(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=le(e);s.children.has(a)||s.children.set(a,Xo());const o=s.children.get(a);e=xe(e),j0(o,e,i)}}function bh(s,e,i){s.value!==null?i(e,s.value):kN(s,(a,o)=>{const c=new Te(e.toString()+"/"+a);bh(o,c,i)})}function kN(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&at(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=10*1e3,UN=30*1e3,zN=300*1e3;class HN{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new LN(e);const a=By+(UN-By)*Math.random();Na(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;at(e,(o,c)=>{c>0&&mn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),Na(this.reportStats_.bind(this),Math.floor(Math.random()*2*zN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function md(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _d(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=$t.ACK_USER_WRITE,this.source=md()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Te(e));return new Wo(me(),i,this.revert)}}else return z(le(this.path)===e,"operationForChild called for unrelated child."),new Wo(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,i){this.source=e,this.path=i,this.type=$t.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new ja(this.source,me()):new ja(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=$t.OVERWRITE}operationForChild(e){return fe(this.path)?new ss(this.source,me(),this.snap.getImmediateChild(e)):new ss(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=$t.MERGE}operationForChild(e){if(fe(this.path)){const i=this.children.subtree(new Te(e));return i.isEmpty()?null:i.value?new ss(this.source,me(),i.value):new rr(this.source,me(),i)}else return z(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rr(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const i=le(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BN(s,e,i,a){const o=[],c=[];return e.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(ON(h.childName,h.snapshotNode))}),Ca(s,o,"child_removed",e,a,i),Ca(s,o,"child_added",e,a,i),Ca(s,o,"child_moved",c,a,i),Ca(s,o,"child_changed",e,a,i),Ca(s,o,"value",e,a,i),o}function Ca(s,e,i,a,o,c){const h=a.filter(d=>d.type===i);h.sort((d,m)=>qN(s,d,m)),h.forEach(d=>{const m=jN(s,d,c);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(m,s.query_))})})}function jN(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function qN(s,e,i){if(e.childName==null||i.childName==null)throw fr("Should only compare child_ events.");const a=new oe(e.childName,e.snapshotNode),o=new oe(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(s,e){return{eventCache:s,serverCache:e}}function xa(s,e,i,a){return hu(new Ri(e,i,a),s.serverCache)}function q0(s,e,i,a){return hu(s.eventCache,new Ri(e,i,a))}function Zo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function rs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;const VN=()=>(rh||(rh=new St(AA)),rh);class Ne{static fromObject(e){let i=new Ne(null);return at(e,(a,o)=>{i=i.set(new Te(a),o)}),i}constructor(e,i=VN()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:me(),value:this.value};if(fe(e))return null;{const a=le(e),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(xe(e),i);return c!=null?{path:ze(new Te(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const i=le(e),a=this.children.get(i);return a!==null?a.subtree(xe(e)):new Ne(null)}}set(e,i){if(fe(e))return new Ne(i,this.children);{const a=le(e),c=(this.children.get(a)||new Ne(null)).set(xe(e),i),h=this.children.insert(a,c);return new Ne(this.value,h)}}remove(e){if(fe(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const i=le(e),a=this.children.get(i);if(a){const o=a.remove(xe(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Ne(null):new Ne(this.value,c)}else return this}}get(e){if(fe(e))return this.value;{const i=le(e),a=this.children.get(i);return a?a.get(xe(e)):null}}setTree(e,i){if(fe(e))return i;{const a=le(e),c=(this.children.get(a)||new Ne(null)).setTree(xe(e),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new Ne(this.value,h)}}fold(e){return this.fold_(me(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(ze(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,me(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(fe(e))return null;{const c=le(e),h=this.children.get(c);return h?h.findOnPath_(xe(e),ze(i,c),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,me(),i)}foreachOnPath_(e,i,a){if(fe(e))return this;{this.value&&a(i,this.value);const o=le(e),c=this.children.get(o);return c?c.foreachOnPath_(xe(e),ze(i,o),a):new Ne(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(ze(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new Ne(null))}}function Oa(s,e,i){if(fe(e))return new en(new Ne(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let c=a.value;const h=dt(o,e);return c=c.updateChild(h,i),new en(s.writeTree_.set(o,c))}else{const o=new Ne(i),c=s.writeTree_.setTree(e,o);return new en(c)}}}function Th(s,e,i){let a=s;return at(i,(o,c)=>{a=Oa(a,ze(e,o),c)}),a}function jy(s,e){if(fe(e))return en.empty();{const i=s.writeTree_.setTree(e,new Ne(null));return new en(i)}}function Ch(s,e){return ls(s,e)!=null}function ls(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(dt(i.path,e)):null}function qy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(He,(a,o)=>{e.push(new oe(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new oe(a,o.value))}),e}function Ti(s,e){if(fe(e))return s;{const i=ls(s,e);return i!=null?new en(new Ne(i)):new en(s.writeTree_.subtree(e))}}function wh(s){return s.writeTree_.isEmpty()}function ar(s,e){return V0(me(),s.writeTree_,e)}function V0(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(z(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=V0(ze(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(ze(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(s,e){return Q0(e,s)}function GN(s,e,i,a,o){z(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Oa(s.visibleWrites,e,i)),s.lastWriteId=a}function YN(s,e,i,a){z(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:a,visible:!0}),s.visibleWrites=Th(s.visibleWrites,e,i),s.lastWriteId=a}function FN(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function QN(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);z(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&KN(d,a.path)?o=!1:Gt(a.path,d.path)&&(c=!0)),h--}if(o){if(c)return XN(s),!0;if(a.snap)s.visibleWrites=jy(s.visibleWrites,a.path);else{const d=a.children;at(d,m=>{s.visibleWrites=jy(s.visibleWrites,ze(a.path,m))})}return!0}else return!1}function KN(s,e){if(s.snap)return Gt(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Gt(ze(s.path,i),e))return!0;return!1}function XN(s){s.visibleWrites=G0(s.allWrites,WN,me()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function WN(s){return s.visible}function G0(s,e,i){let a=en.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const h=c.path;let d;if(c.snap)Gt(i,h)?(d=dt(i,h),a=Oa(a,d,c.snap)):Gt(h,i)&&(d=dt(h,i),a=Oa(a,me(),c.snap.getChild(d)));else if(c.children){if(Gt(i,h))d=dt(i,h),a=Th(a,d,c.children);else if(Gt(h,i))if(d=dt(h,i),fe(d))a=Th(a,me(),c.children);else{const m=er(c.children,le(d));if(m){const p=m.getChild(xe(d));a=Oa(a,me(),p)}}}else throw fr("WriteRecord should have .snap or .children")}}return a}function Y0(s,e,i,a,o){if(!a&&!o){const c=ls(s.visibleWrites,e);if(c!=null)return c;{const h=Ti(s.visibleWrites,e);if(wh(h))return i;if(i==null&&!Ch(h,me()))return null;{const d=i||J.EMPTY_NODE;return ar(h,d)}}}else{const c=Ti(s.visibleWrites,e);if(!o&&wh(c))return i;if(!o&&i==null&&!Ch(c,me()))return null;{const h=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(Gt(p.path,e)||Gt(e,p.path))},d=G0(s.allWrites,h,e),m=i||J.EMPTY_NODE;return ar(d,m)}}}function ZN(s,e,i){let a=J.EMPTY_NODE;const o=ls(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(He,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=Ti(s.visibleWrites,e);return i.forEachChild(He,(h,d)=>{const m=ar(Ti(c,new Te(h)),d);a=a.updateImmediateChild(h,m)}),qy(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=Ti(s.visibleWrites,e);return qy(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function $N(s,e,i,a,o){z(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=ze(e,i);if(Ch(s.visibleWrites,c))return null;{const h=Ti(s.visibleWrites,c);return wh(h)?o.getChild(i):ar(h,o.getChild(i))}}function JN(s,e,i,a){const o=ze(e,i),c=ls(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=Ti(s.visibleWrites,o);return ar(h,a.getNode().getImmediateChild(i))}else return null}function ex(s,e){return ls(s.visibleWrites,e)}function tx(s,e,i,a,o,c,h){let d;const m=Ti(s.visibleWrites,e),p=ls(m,me());if(p!=null)d=p;else if(i!=null)d=ar(m,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const y=[],v=h.getCompare(),E=c?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let x=E.getNext();for(;x&&y.length<o;)v(x,a)!==0&&y.push(x),x=E.getNext();return y}else return[]}function nx(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function $o(s,e,i,a){return Y0(s.writeTree,s.treePath,e,i,a)}function yd(s,e){return ZN(s.writeTree,s.treePath,e)}function Vy(s,e,i,a){return $N(s.writeTree,s.treePath,e,i,a)}function Jo(s,e){return ex(s.writeTree,ze(s.treePath,e))}function ix(s,e,i,a,o,c){return tx(s.writeTree,s.treePath,e,i,a,o,c)}function vd(s,e,i){return JN(s.writeTree,s.treePath,e,i)}function F0(s,e){return Q0(ze(s.treePath,e),s.writeTree)}function Q0(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;z(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),z(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,Pa(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,Ha(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,sr(a,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,Pa(a,e.snapshotNode,o.oldSnap));else throw fr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const K0=new rx;class Ed{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Ri(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vd(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rs(this.viewCache_),c=ix(this.writes_,o,i,1,a,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(s){return{filter:s}}function lx(s,e){z(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function ox(s,e,i,a,o){const c=new sx;let h,d;if(i.type===$t.OVERWRITE){const p=i;p.source.fromUser?h=Rh(s,e,p.path,p.snap,a,o,c):(z(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!fe(p.path),h=eu(s,e,p.path,p.snap,a,o,d,c))}else if(i.type===$t.MERGE){const p=i;p.source.fromUser?h=cx(s,e,p.path,p.children,a,o,c):(z(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),h=Ah(s,e,p.path,p.children,a,o,d,c))}else if(i.type===$t.ACK_USER_WRITE){const p=i;p.revert?h=dx(s,e,p.path,a,o,c):h=fx(s,e,p.path,p.affectedTree,a,o,c)}else if(i.type===$t.LISTEN_COMPLETE)h=hx(s,e,i.path,a,c);else throw fr("Unknown operation type: "+i.type);const m=c.getChanges();return ux(e,h,m),{viewCache:h,changes:m}}function ux(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=Zo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(B0(Zo(e)))}}function X0(s,e,i,a,o,c){const h=e.eventCache;if(Jo(a,i)!=null)return e;{let d,m;if(fe(i))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=rs(e),y=p instanceof J?p:J.EMPTY_NODE,v=yd(a,y);d=s.filter.updateFullNode(e.eventCache.getNode(),v,c)}else{const p=$o(a,rs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=le(i);if(p===".priority"){z(wi(i)===1,"Can't have a priority with additional path components");const y=h.getNode();m=e.serverCache.getNode();const v=Vy(a,i,y,m);v!=null?d=s.filter.updatePriority(y,v):d=h.getNode()}else{const y=xe(i);let v;if(h.isCompleteForChild(p)){m=e.serverCache.getNode();const E=Vy(a,i,h.getNode(),m);E!=null?v=h.getNode().getImmediateChild(p).updateChild(y,E):v=h.getNode().getImmediateChild(p)}else v=vd(a,p,e.serverCache);v!=null?d=s.filter.updateChild(h.getNode(),p,v,y,o,c):d=h.getNode()}}return xa(e,d,h.isFullyInitialized()||fe(i),s.filter.filtersNodes())}}function eu(s,e,i,a,o,c,h,d){const m=e.serverCache;let p;const y=h?s.filter:s.filter.getIndexedFilter();if(fe(i))p=y.updateFullNode(m.getNode(),a,null);else if(y.filtersNodes()&&!m.isFiltered()){const x=m.getNode().updateChild(i,a);p=y.updateFullNode(m.getNode(),x,null)}else{const x=le(i);if(!m.isCompleteForPath(i)&&wi(i)>1)return e;const k=xe(i),H=m.getNode().getImmediateChild(x).updateChild(k,a);x===".priority"?p=y.updatePriority(m.getNode(),H):p=y.updateChild(m.getNode(),x,H,k,K0,null)}const v=q0(e,p,m.isFullyInitialized()||fe(i),y.filtersNodes()),E=new Ed(o,v,c);return X0(s,v,i,o,E,d)}function Rh(s,e,i,a,o,c,h){const d=e.eventCache;let m,p;const y=new Ed(o,e,c);if(fe(i))p=s.filter.updateFullNode(e.eventCache.getNode(),a,h),m=xa(e,p,!0,s.filter.filtersNodes());else{const v=le(i);if(v===".priority")p=s.filter.updatePriority(e.eventCache.getNode(),a),m=xa(e,p,d.isFullyInitialized(),d.isFiltered());else{const E=xe(i),x=d.getNode().getImmediateChild(v);let k;if(fe(E))k=a;else{const P=y.getCompleteChild(v);P!=null?ud(E)===".priority"&&P.getChild(I0(E)).isEmpty()?k=P:k=P.updateChild(E,a):k=J.EMPTY_NODE}if(x.equals(k))m=e;else{const P=s.filter.updateChild(d.getNode(),v,k,E,y,h);m=xa(e,P,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function Gy(s,e){return s.eventCache.isCompleteForChild(e)}function cx(s,e,i,a,o,c,h){let d=e;return a.foreach((m,p)=>{const y=ze(i,m);Gy(e,le(y))&&(d=Rh(s,d,y,p,o,c,h))}),a.foreach((m,p)=>{const y=ze(i,m);Gy(e,le(y))||(d=Rh(s,d,y,p,o,c,h))}),d}function Yy(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Ah(s,e,i,a,o,c,h,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;fe(i)?p=a:p=new Ne(null).setTree(i,a);const y=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const x=e.serverCache.getNode().getImmediateChild(v),k=Yy(s,x,E);m=eu(s,m,new Te(v),k,o,c,h,d)}}),p.children.inorderTraversal((v,E)=>{const x=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!x){const k=e.serverCache.getNode().getImmediateChild(v),P=Yy(s,k,E);m=eu(s,m,new Te(v),P,o,c,h,d)}}),m}function fx(s,e,i,a,o,c,h){if(Jo(o,i)!=null)return e;const d=e.serverCache.isFiltered(),m=e.serverCache;if(a.value!=null){if(fe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return eu(s,e,i,m.getNode().getChild(i),o,c,d,h);if(fe(i)){let p=new Ne(null);return m.getNode().forEachChild(Js,(y,v)=>{p=p.set(new Te(y),v)}),Ah(s,e,i,p,o,c,d,h)}else return e}else{let p=new Ne(null);return a.foreach((y,v)=>{const E=ze(i,y);m.isCompleteForPath(E)&&(p=p.set(y,m.getNode().getChild(E)))}),Ah(s,e,i,p,o,c,d,h)}}function hx(s,e,i,a,o){const c=e.serverCache,h=q0(e,c.getNode(),c.isFullyInitialized()||fe(i),c.isFiltered());return X0(s,h,i,a,K0,o)}function dx(s,e,i,a,o,c){let h;if(Jo(a,i)!=null)return e;{const d=new Ed(a,e,o),m=e.eventCache.getNode();let p;if(fe(i)||le(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=$o(a,rs(e));else{const v=e.serverCache.getNode();z(v instanceof J,"serverChildren would be complete if leaf node"),y=yd(a,v)}y=y,p=s.filter.updateFullNode(m,y,c)}else{const y=le(i);let v=vd(a,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=s.filter.updateChild(m,y,v,xe(i),d,c):e.eventCache.getNode().hasChild(y)?p=s.filter.updateChild(m,y,J.EMPTY_NODE,xe(i),d,c):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=$o(a,rs(e)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,c)))}return h=e.serverCache.isFullyInitialized()||Jo(a,me())!=null,xa(e,p,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new dd(a.getIndex()),c=MN(a);this.processor_=ax(c);const h=i.serverCache,d=i.eventCache,m=o.updateFullNode(J.EMPTY_NODE,h.getNode(),null),p=c.updateFullNode(J.EMPTY_NODE,d.getNode(),null),y=new Ri(m,h.isFullyInitialized(),o.filtersNodes()),v=new Ri(p,d.isFullyInitialized(),c.filtersNodes());this.viewCache_=hu(v,y),this.eventGenerator_=new PN(this.query_)}get query(){return this.query_}}function mx(s){return s.viewCache_.serverCache.getNode()}function gx(s){return Zo(s.viewCache_)}function _x(s,e){const i=rs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!fe(e)&&!i.getImmediateChild(le(e)).isEmpty())?i.getChild(e):null}function Fy(s){return s.eventRegistrations_.length===0}function yx(s,e){s.eventRegistrations_.push(e)}function Qy(s,e,i){const a=[];if(i){z(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Ky(s,e,i,a){e.type===$t.MERGE&&e.source.queryId!==null&&(z(rs(s.viewCache_),"We should always have a full cache before handling merges"),z(Zo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=ox(s.processor_,o,e,i,a);return lx(s.processor_,c.viewCache),z(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,W0(s,c.changes,c.viewCache.eventCache.getNode(),null)}function vx(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(He,(c,h)=>{a.push(sr(c,h))}),i.isFullyInitialized()&&a.push(B0(i.getNode())),W0(s,a,i.getNode(),e)}function W0(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return BN(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;class Z0{constructor(){this.views=new Map}}function Ex(s){z(!tu,"__referenceConstructor has already been defined"),tu=s}function Sx(){return z(tu,"Reference.ts has not been loaded"),tu}function bx(s){return s.views.size===0}function Sd(s,e,i,a){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return z(c!=null,"SyncTree gave us an op for an invalid query."),Ky(c,e,i,a)}else{let c=[];for(const h of s.views.values())c=c.concat(Ky(h,e,i,a));return c}}function $0(s,e,i,a,o){const c=e._queryIdentifier,h=s.views.get(c);if(!h){let d=$o(i,o?a:null),m=!1;d?m=!0:a instanceof J?(d=yd(i,a),m=!1):(d=J.EMPTY_NODE,m=!1);const p=hu(new Ri(d,m,!1),new Ri(a,o,!1));return new px(e,p)}return h}function Tx(s,e,i,a,o,c){const h=$0(s,e,a,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,h),yx(h,i),vx(h,i)}function Cx(s,e,i,a){const o=e._queryIdentifier,c=[];let h=[];const d=Ai(s);if(o==="default")for(const[m,p]of s.views.entries())h=h.concat(Qy(p,i,a)),Fy(p)&&(s.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=s.views.get(o);m&&(h=h.concat(Qy(m,i,a)),Fy(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return d&&!Ai(s)&&c.push(new(Sx())(e._repo,e._path)),{removed:c,events:h}}function J0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Ci(s,e){let i=null;for(const a of s.views.values())i=i||_x(a,e);return i}function eE(s,e){if(e._queryParams.loadsAllData())return pu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function tE(s,e){return eE(s,e)!=null}function Ai(s){return pu(s)!=null}function pu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu;function wx(s){z(!nu,"__referenceConstructor has already been defined"),nu=s}function Rx(){return z(nu,"Reference.ts has not been loaded"),nu}let Ax=1;class Xy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=nx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nE(s,e,i,a,o){return GN(s.pendingWriteTree_,e,i,a,o),o?_r(s,new ss(md(),e,i)):[]}function Nx(s,e,i,a){YN(s.pendingWriteTree_,e,i,a);const o=Ne.fromObject(i);return _r(s,new rr(md(),e,o))}function yi(s,e,i=!1){const a=FN(s.pendingWriteTree_,e);if(QN(s.pendingWriteTree_,e)){let c=new Ne(null);return a.snap!=null?c=c.set(me(),!0):at(a.children,h=>{c=c.set(new Te(h),!0)}),_r(s,new Wo(a.path,c,i))}else return[]}function nl(s,e,i){return _r(s,new ss(gd(),e,i))}function xx(s,e,i){const a=Ne.fromObject(i);return _r(s,new rr(gd(),e,a))}function Ox(s,e){return _r(s,new ja(gd(),e))}function Dx(s,e,i){const a=Td(s,i);if(a){const o=Cd(a),c=o.path,h=o.queryId,d=dt(c,e),m=new ja(_d(h),d);return wd(s,c,m)}else return[]}function iu(s,e,i,a,o=!1){const c=e._path,h=s.syncPointTree_.get(c);let d=[];if(h&&(e._queryIdentifier==="default"||tE(h,e))){const m=Cx(h,e,i,a);bx(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const p=m.removed;if(d=m.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(c,(E,x)=>Ai(x));if(y&&!v){const E=s.syncPointTree_.subtree(c);if(!E.isEmpty()){const x=kx(E);for(let k=0;k<x.length;++k){const P=x[k],H=P.query,G=aE(s,P);s.listenProvider_.startListening(Da(H),qa(s,H),G.hashFn,G.onComplete)}}}!v&&p.length>0&&!a&&(y?s.listenProvider_.stopListening(Da(e),null):p.forEach(E=>{const x=s.queryToTagMap.get(mu(E));s.listenProvider_.stopListening(Da(E),x)}))}Lx(s,p)}return d}function iE(s,e,i,a){const o=Td(s,a);if(o!=null){const c=Cd(o),h=c.path,d=c.queryId,m=dt(h,e),p=new ss(_d(d),m,i);return wd(s,h,p)}else return[]}function Mx(s,e,i,a){const o=Td(s,a);if(o){const c=Cd(o),h=c.path,d=c.queryId,m=dt(h,e),p=Ne.fromObject(i),y=new rr(_d(d),m,p);return wd(s,h,y)}else return[]}function Nh(s,e,i,a=!1){const o=e._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(E,x)=>{const k=dt(E,o);c=c||Ci(x,k),h=h||Ai(x)});let d=s.syncPointTree_.get(o);d?(h=h||Ai(d),c=c||Ci(d,me())):(d=new Z0,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;c!=null?m=!0:(m=!1,c=J.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((x,k)=>{const P=Ci(k,me());P&&(c=c.updateImmediateChild(x,P))}));const p=tE(d,e);if(!p&&!e._queryParams.loadsAllData()){const E=mu(e);z(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const x=Ux();s.queryToTagMap.set(E,x),s.tagToQueryMap.set(x,E)}const y=du(s.pendingWriteTree_,o);let v=Tx(d,e,i,y,c,m);if(!p&&!h&&!a){const E=eE(d,e);v=v.concat(zx(s,e,E))}return v}function bd(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(h,d)=>{const m=dt(h,e),p=Ci(d,m);if(p)return p});return Y0(o,e,c,i,!0)}function Ix(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(p,y)=>{const v=dt(p,i);a=a||Ci(y,v)});let o=s.syncPointTree_.get(i);o?a=a||Ci(o,me()):(o=new Z0,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=a!=null,h=c?new Ri(a,!0,!1):null,d=du(s.pendingWriteTree_,e._path),m=$0(o,e,d,c?h.getNode():J.EMPTY_NODE,c);return gx(m)}function _r(s,e){return sE(e,s.syncPointTree_,null,du(s.pendingWriteTree_,me()))}function sE(s,e,i,a){if(fe(s.path))return rE(s,e,i,a);{const o=e.get(me());i==null&&o!=null&&(i=Ci(o,me()));let c=[];const h=le(s.path),d=s.operationForChild(h),m=e.children.get(h);if(m&&d){const p=i?i.getImmediateChild(h):null,y=F0(a,h);c=c.concat(sE(d,m,p,y))}return o&&(c=c.concat(Sd(o,s,a,i))),c}}function rE(s,e,i,a){const o=e.get(me());i==null&&o!=null&&(i=Ci(o,me()));let c=[];return e.children.inorderTraversal((h,d)=>{const m=i?i.getImmediateChild(h):null,p=F0(a,h),y=s.operationForChild(h);y&&(c=c.concat(rE(y,d,m,p)))}),o&&(c=c.concat(Sd(o,s,a,i))),c}function aE(s,e){const i=e.query,a=qa(s,i);return{hashFn:()=>(mx(e)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?Dx(s,i._path,a):Ox(s,i._path);{const c=OA(o,i);return iu(s,i,null,c)}}}}function qa(s,e){const i=mu(e);return s.queryToTagMap.get(i)}function mu(s){return s._path.toString()+"$"+s._queryIdentifier}function Td(s,e){return s.tagToQueryMap.get(e)}function Cd(s){const e=s.indexOf("$");return z(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Te(s.substr(0,e))}}function wd(s,e,i){const a=s.syncPointTree_.get(e);z(a,"Missing sync point for query tag that we're tracking");const o=du(s.pendingWriteTree_,e);return Sd(a,i,o,null)}function kx(s){return s.fold((e,i,a)=>{if(i&&Ai(i))return[pu(i)];{let o=[];return i&&(o=J0(i)),at(a,(c,h)=>{o=o.concat(h)}),o}})}function Da(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(Rx())(s._repo,s._path):s}function Lx(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=mu(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function Ux(){return Ax++}function zx(s,e,i){const a=e._path,o=qa(s,e),c=aE(s,i),h=s.listenProvider_.startListening(Da(e),o,c.hashFn,c.onComplete),d=s.syncPointTree_.subtree(a);if(o)z(!Ai(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,y,v)=>{if(!fe(p)&&y&&Ai(y))return[pu(y).query];{let E=[];return y&&(E=E.concat(J0(y).map(x=>x.query))),at(v,(x,k)=>{E=E.concat(k)}),E}});for(let p=0;p<m.length;++p){const y=m[p];s.listenProvider_.stopListening(Da(y),qa(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Rd(i)}node(){return this.node_}}class Ad{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ze(this.path_,e);return new Ad(this.syncTree_,i)}node(){return bd(this.syncTree_,this.path_)}}const Hx=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Wy=function(s,e,i){if(!s||typeof s!="object")return s;if(z(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return Px(s[".sv"],e,i);if(typeof s[".sv"]=="object")return Bx(s[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},Px=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:z(!1,"Unexpected server value: "+s)}},Bx=function(s,e,i){s.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&z(!1,"Unexpected increment value: "+a);const o=e.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},lE=function(s,e,i,a){return Nd(e,new Ad(i,s),a)},oE=function(s,e,i){return Nd(s,new Rd(e),i)};function Nd(s,e,i){const a=s.getPriority().val(),o=Wy(a,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,d=Wy(h.getValue(),e,i);return d!==h.getValue()||o!==h.getPriority().val()?new et(d,Fe(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new et(o))),h.forEachChild(He,(d,m)=>{const p=Nd(m,e.getImmediateChild(d),i);p!==m&&(c=c.updateImmediateChild(d,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Od(s,e){let i=e instanceof Te?e:new Te(e),a=s,o=le(i);for(;o!==null;){const c=er(a.node.children,o)||{children:{},childCount:0};a=new xd(o,a,c),i=xe(i),o=le(i)}return a}function yr(s){return s.node.value}function uE(s,e){s.node.value=e,xh(s)}function cE(s){return s.node.childCount>0}function jx(s){return yr(s)===void 0&&!cE(s)}function gu(s,e){at(s.node.children,(i,a)=>{e(new xd(i,s,a))})}function fE(s,e,i,a){i&&e(s),gu(s,o=>{fE(o,e,!0)})}function qx(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function il(s){return new Te(s.parent===null?s.name:il(s.parent)+"/"+s.name)}function xh(s){s.parent!==null&&Vx(s.parent,s.name,s)}function Vx(s,e,i){const a=jx(i),o=mn(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,xh(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,xh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/[\[\].#$\/\u0000-\u001F\u007F]/,Yx=/[\[\].#$\u0000-\u001F\u007F]/,ah=10*1024*1024,Dd=function(s){return typeof s=="string"&&s.length!==0&&!Gx.test(s)},hE=function(s){return typeof s=="string"&&s.length!==0&&!Yx.test(s)},Fx=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),hE(s)},Qx=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!sd(s)||s&&typeof s=="object"&&mn(s,".sv")},Kx=function(s,e,i,a){_u(au(s,"value"),e,i)},_u=function(s,e,i){const a=i instanceof Te?new cN(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+Wi(a));if(typeof e=="function")throw new Error(s+"contains a function "+Wi(a)+" with contents = "+e.toString());if(sd(e))throw new Error(s+"contains "+e.toString()+" "+Wi(a));if(typeof e=="string"&&e.length>ah/3&&lu(e)>ah)throw new Error(s+"contains a string greater than "+ah+" utf8 bytes "+Wi(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(at(e,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!Dd(h)))throw new Error(s+" contains an invalid key ("+h+") "+Wi(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fN(a,h),_u(s,d,a),hN(a)}),o&&c)throw new Error(s+' contains ".value" child '+Wi(a)+" in addition to actual children.")}},Xx=function(s,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const c=za(a);for(let h=0;h<c.length;h++)if(!(c[h]===".priority"&&h===c.length-1)){if(!Dd(c[h]))throw new Error(s+"contains an invalid key ("+c[h]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uN);let o=null;for(i=0;i<e.length;i++){if(a=e[i],o!==null&&Gt(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},Wx=function(s,e,i,a){const o=au(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];at(e,(h,d)=>{const m=new Te(h);if(_u(o,d,ze(i,m)),ud(m)===".priority"&&!Qx(d))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),Xx(o,c)},dE=function(s,e,i,a){if(!hE(i))throw new Error(au(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Zx=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),dE(s,e,i)},pE=function(s,e){if(le(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},$x=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Dd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!Fx(i))throw new Error(au(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yu(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],c=o.getPath();i!==null&&!cd(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function mE(s,e,i){yu(s,i),gE(s,a=>cd(a,e))}function Yt(s,e,i){yu(s,i),gE(s,a=>Gt(a,e)||Gt(e,a))}function gE(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;e(c)?(eO(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function eO(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Aa&&rt("event: "+i.toString()),gr(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="repo_interrupt",nO=25;class iO{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xo(),this.transactionQueueTree_=new xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sO(s,e,i){if(s.stats_=ld(s.repoInfo_),s.forceRestClient_||kA())s.server_=new Ko(s.repoInfo_,(a,o,c,h)=>{Zy(s,a,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>$y(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new zn(s.repoInfo_,e,(a,o,c,h)=>{Zy(s,a,o,c,h)},a=>{$y(s,a)},a=>{aO(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=PA(s.repoInfo_,()=>new HN(s.stats_,s.server_)),s.infoData_=new IN,s.infoSyncTree_=new Xy({startListening:(a,o,c,h)=>{let d=[];const m=s.infoData_.getNode(a._path);return m.isEmpty()||(d=nl(s.infoSyncTree_,a._path,m),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Md(s,"connected",!1),s.serverSyncTree_=new Xy({startListening:(a,o,c,h)=>(s.server_.listen(a,c,o,(d,m)=>{const p=h(d,m);Yt(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function rO(s){const i=s.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function vu(s){return Hx({timestamp:rO(s)})}function Zy(s,e,i,a,o){s.dataUpdateCount++;const c=new Te(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let h=[];if(o)if(a){const m=zo(i,p=>Fe(p));h=Mx(s.serverSyncTree_,c,m,o)}else{const m=Fe(i);h=iE(s.serverSyncTree_,c,m,o)}else if(a){const m=zo(i,p=>Fe(p));h=xx(s.serverSyncTree_,c,m)}else{const m=Fe(i);h=nl(s.serverSyncTree_,c,m)}let d=c;h.length>0&&(d=lr(s,c)),Yt(s.eventQueue_,d,h)}function $y(s,e){Md(s,"connected",e),e===!1&&cO(s)}function aO(s,e){at(e,(i,a)=>{Md(s,i,a)})}function Md(s,e,i){const a=new Te("/.info/"+e),o=Fe(i);s.infoData_.updateSnapshot(a,o);const c=nl(s.infoSyncTree_,a,o);Yt(s.eventQueue_,a,c)}function Id(s){return s.nextWriteId_++}function lO(s,e,i){const a=Ix(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const c=Fe(o).withIndex(e._queryParams.getIndex());Nh(s.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=nl(s.serverSyncTree_,e._path,c);else{const d=qa(s.serverSyncTree_,e);h=iE(s.serverSyncTree_,e._path,c,d)}return Yt(s.eventQueue_,e._path,h),iu(s.serverSyncTree_,e,i,null,!0),c},o=>(sl(s,"get for query "+Qe(e)+" failed: "+o),Promise.reject(new Error(o))))}function oO(s,e,i,a,o){sl(s,"set",{path:e.toString(),value:i,priority:a});const c=vu(s),h=Fe(i,a),d=bd(s.serverSyncTree_,e),m=oE(h,d,c),p=Id(s),y=nE(s.serverSyncTree_,e,m,p,!0);yu(s.eventQueue_,y),s.server_.put(e.toString(),h.val(!0),(E,x)=>{const k=E==="ok";k||pt("set at "+e+" failed: "+E);const P=yi(s.serverSyncTree_,p,!k);Yt(s.eventQueue_,e,P),Oh(s,o,E,x)});const v=Ld(s,e);lr(s,v),Yt(s.eventQueue_,v,[])}function uO(s,e,i,a){sl(s,"update",{path:e.toString(),value:i});let o=!0;const c=vu(s),h={};if(at(i,(d,m)=>{o=!1,h[d]=lE(ze(e,d),Fe(m),s.serverSyncTree_,c)}),o)rt("update() called with empty data.  Don't do anything."),Oh(s,a,"ok",void 0);else{const d=Id(s),m=Nx(s.serverSyncTree_,e,h,d);yu(s.eventQueue_,m),s.server_.merge(e.toString(),i,(p,y)=>{const v=p==="ok";v||pt("update at "+e+" failed: "+p);const E=yi(s.serverSyncTree_,d,!v),x=E.length>0?lr(s,e):e;Yt(s.eventQueue_,x,E),Oh(s,a,p,y)}),at(i,p=>{const y=Ld(s,ze(e,p));lr(s,y)}),Yt(s.eventQueue_,e,[])}}function cO(s){sl(s,"onDisconnectEvents");const e=vu(s),i=Xo();bh(s.onDisconnect_,me(),(o,c)=>{const h=lE(o,c,s.serverSyncTree_,e);j0(i,o,h)});let a=[];bh(i,me(),(o,c)=>{a=a.concat(nl(s.serverSyncTree_,o,c));const h=Ld(s,o);lr(s,h)}),s.onDisconnect_=Xo(),Yt(s.eventQueue_,me(),a)}function fO(s,e,i){let a;le(e._path)===".info"?a=Nh(s.infoSyncTree_,e,i):a=Nh(s.serverSyncTree_,e,i),mE(s.eventQueue_,e._path,a)}function _E(s,e,i){let a;le(e._path)===".info"?a=iu(s.infoSyncTree_,e,i):a=iu(s.serverSyncTree_,e,i),mE(s.eventQueue_,e._path,a)}function hO(s){s.persistentConnection_&&s.persistentConnection_.interrupt(tO)}function sl(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),rt(i,...e)}function Oh(s,e,i,a){e&&gr(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const h=new Error(c);h.code=o,e(h)}})}function yE(s,e,i){return bd(s.serverSyncTree_,e,i)||J.EMPTY_NODE}function kd(s,e=s.transactionQueueTree_){if(e||Eu(s,e),yr(e)){const i=EE(s,e);z(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&dO(s,il(e),i)}else cE(e)&&gu(e,i=>{kd(s,i)})}function dO(s,e,i){const a=i.map(p=>p.currentWriteId),o=yE(s,e,a);let c=o;const h=o.hash();for(let p=0;p<i.length;p++){const y=i[p];z(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=dt(e,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const d=c.val(!0),m=e;s.server_.put(m.toString(),d,p=>{sl(s,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let E=0;E<i.length;E++)i[E].status=2,y=y.concat(yi(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&v.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Eu(s,Od(s.transactionQueueTree_,e)),kd(s,s.transactionQueueTree_),Yt(s.eventQueue_,e,y);for(let E=0;E<v.length;E++)gr(v[E])}else{if(p==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{pt("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=p}lr(s,e)}},h)}function lr(s,e){const i=vE(s,e),a=il(i),o=EE(s,i);return pO(s,o,a),a}function pO(s,e,i){if(e.length===0)return;const a=[];let o=[];const h=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const m=e[d],p=dt(i,m.path);let y=!1,v;if(z(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(yi(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=nO)y=!0,v="maxretry",o=o.concat(yi(s.serverSyncTree_,m.currentWriteId,!0));else{const E=yE(s,m.path,h);m.currentInputSnapshot=E;const x=e[d].update(E.val());if(x!==void 0){_u("transaction failed: Data returned ",x,m.path);let k=Fe(x);typeof x=="object"&&x!=null&&mn(x,".priority")||(k=k.updatePriority(E.getPriority()));const H=m.currentWriteId,G=vu(s),j=oE(k,E,G);m.currentOutputSnapshotRaw=k,m.currentOutputSnapshotResolved=j,m.currentWriteId=Id(s),h.splice(h.indexOf(H),1),o=o.concat(nE(s.serverSyncTree_,m.path,j,m.currentWriteId,m.applyLocally)),o=o.concat(yi(s.serverSyncTree_,H,!0))}else y=!0,v="nodata",o=o.concat(yi(s.serverSyncTree_,m.currentWriteId,!0))}Yt(s.eventQueue_,i,o),o=[],y&&(e[d].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(v==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(v),!1,null))))}Eu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)gr(a[d]);kd(s,s.transactionQueueTree_)}function vE(s,e){let i,a=s.transactionQueueTree_;for(i=le(e);i!==null&&yr(a)===void 0;)a=Od(a,i),e=xe(e),i=le(e);return a}function EE(s,e){const i=[];return SE(s,e,i),i.sort((a,o)=>a.order-o.order),i}function SE(s,e,i){const a=yr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);gu(e,o=>{SE(s,o,i)})}function Eu(s,e){const i=yr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,uE(e,i.length>0?i:void 0)}gu(e,a=>{Eu(s,a)})}function Ld(s,e){const i=il(vE(s,e)),a=Od(s.transactionQueueTree_,e);return qx(a,o=>{lh(s,o)}),lh(s,a),fE(a,o=>{lh(s,o)}),i}function lh(s,e){const i=yr(e);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(z(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(z(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(yi(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?uE(e,void 0):i.length=c+1,Yt(s.eventQueue_,il(e),o);for(let h=0;h<a.length;h++)gr(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function gO(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):pt(`Invalid query segment '${i}' in query '${s}'`)}return e}const Jy=function(s,e){const i=_O(s),a=i.namespace;i.domain==="firebase.com"&&jn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||wA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new C0(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Te(i.pathString)}},_O=function(s){let e="",i="",a="",o="",c="",h=!0,d="https",m=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(d=s.substring(0,p-1),s=s.substring(p+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),e=s.substring(0,Math.min(y,v)),y<v&&(o=mO(s.substring(y,v)));const E=gO(s.substring(Math.min(s.length,v)));p=e.indexOf(":"),p>=0?(h=d==="https"||d==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")i="localhost";else if(x.split(".").length<=2)i=x;else{const k=e.indexOf(".");a=e.substring(0,k).toLowerCase(),i=e.substring(k+1),c=a}"ns"in E&&(c=E.ns)}return{host:e,port:m,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class vO{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return fe(this._path)?null:ud(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const e=Py(this._queryParams),i=rd(e);return i==="{}"?"default":i}get _queryObject(){return Py(this._queryParams)}isEqual(e){if(e=bt(e),!(e instanceof zd))return!1;const i=this._repo===e._repo,a=cd(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+oN(this._path)}}class qn extends zd{constructor(e,i){super(e,i,new pd,!1)}get parent(){const e=I0(this._path);return e===null?null:new qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Va{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Te(e),a=Dh(this.ref,e);return new Va(this._node.getChild(i),a,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new Va(o,Dh(this.ref,a),He)))}hasChild(e){const i=new Te(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vr(s,e){return s=bt(s),s._checkNotDeleted("ref"),e!==void 0?Dh(s._root,e):s._root}function Dh(s,e){return s=bt(s),le(s._path)===null?Zx("child","path",e):dE("child","path",e),new qn(s._repo,ze(s._path,e))}function EO(s){return pE("remove",s._path),Hd(s,null)}function Hd(s,e){s=bt(s),pE("set",s._path),Kx("set",e,s._path);const i=new Ka;return oO(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function SO(s,e){Wx("update",e,s._path);const i=new Ka;return uO(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function Su(s){s=bt(s);const e=new Ud(()=>{}),i=new rl(e);return lO(s._repo,s,i).then(a=>new Va(a,new qn(s._repo,s._path),s._queryParams.getIndex()))}class rl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new yO("value",this,new Va(e.snapshotNode,new qn(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new vO(this,e,i):null}matches(e){return e instanceof rl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bO(s,e,i,a,o){const c=new Ud(i,void 0),h=new rl(c);return fO(s._repo,s,h),()=>_E(s._repo,s,h)}function TO(s,e,i,a){return bO(s,"value",e)}function CO(s,e,i){let a=null;const o=i?new Ud(i):null;a=new rl(o),_E(s._repo,s,a)}Ex(qn);wx(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="FIREBASE_DATABASE_EMULATOR_HOST",Mh={};let RO=!1;function AO(s,e,i,a){const o=e.lastIndexOf(":"),c=e.substring(0,o),h=hr(c);s.repoInfo_=new C0(e,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function NO(s,e,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Jy(c,o),d=h.repoInfo,m;typeof process<"u"&&Sy&&(m=Sy[wO]),m?(c=`http://${m}?ns=${d.namespace}`,h=Jy(c,o),d=h.repoInfo):h.repoInfo.secure;const p=new UA(s.name,s.options,e);$x("Invalid Firebase Database URL",h),fe(h.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=OO(d,s,p,new LA(s,i));return new DO(y,s)}function xO(s,e){const i=Mh[e];(!i||i[s.key]!==s)&&jn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),hO(s),delete i[s.key]}function OO(s,e,i,a){let o=Mh[e.name];o||(o={},Mh[e.name]=o);let c=o[s.toURLString()];return c&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new iO(s,RO,i,a),o[s.toURLString()]=c,c}class DO{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jn("Cannot call "+e+" on a deleted database.")}}function MO(s=Dv(),e){const i=Qh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=qT("database");a&&IO(i,...a)}return i}function IO(s,e,i,a={}){s=bt(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&es(a,c.repoInfo_.emulatorOptions))return;jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Io(Io.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:VT(a.mockUserToken,s.app.options.projectId);h=new Io(d)}hr(e)&&(Cv(e),wv("Database",!0)),AO(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(s){vA(pr),tr(new ts("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return NO(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),bi(by,Ty,s),bi(by,Ty,"esm2020")}zn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};zn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};kO();const LO={apiKey:"AIzaSyDHM9fZ9XcWFWEWpjw8vjK2jVPGVaVS4LQ",authDomain:"limpiezapiso-cb761.firebaseapp.com",databaseURL:"https://limpiezapiso-cb761-default-rtdb.europe-west1.firebasedatabase.app",projectId:"limpiezapiso-cb761",storageBucket:"limpiezapiso-cb761.firebasestorage.app",messagingSenderId:"221021062267",appId:"1:221021062267:web:c4327bf470045224534ede",measurementId:"G-WH0M189T28"},bE=Ov(LO),Er=MO(bE),Ih=mA(bE),TE=new Dn;TE.setCustomParameters({prompt:"select_account"});const CE={async login(s){const e=await CR(Ih,TE);s(e.user)},async logout(s){await sR(Ih),s&&s()}},wE=O.createContext(null);function UO({children:s}){const[e,i]=O.useState(null),[a,o]=O.useState(!0);return O.useEffect(()=>{const c=iR(Ih,h=>{i(h),o(!1)});return()=>c()},[]),B.jsx(wE.Provider,{value:{user:e,initializing:a},children:s})}function bu(){const s=O.useContext(wE);if(!s)throw new Error("useAuth must be inside AuthProvider");return s}function zO(){return B.jsx("span",{className:"loader"})}function ev({children:s}){const{user:e,initializing:i}=bu(),a=pn();return i?B.jsxs("div",{className:"flex flex-col gap-4 items-center justify-center w-screen",children:[B.jsx("h1",{className:"text-center font-bold text-white",children:"Loading..."}),B.jsx(zO,{})]}):e?s:B.jsx($1,{to:"/login",state:{from:a},replace:!0})}function HO(){const s=new Date,e=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),a=s.getFullYear(),o=s.getHours(),c=s.getMinutes();return`${e}/${i}/${a} ${o}:${c}`}function tv(s){const e=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),a=s.getFullYear();return`${e}/${i}/${a}`}function Ga(s=new Date){const e=s.getDay(),i=e===0?-6:1-e,a=new Date(s);a.setDate(s.getDate()+i);const o=new Date(a);return o.setDate(a.getDate()+6),`${tv(a)}-${tv(o)}`}function RE(){const s=new Date,e=new Date(s.valueOf());e.setHours(0,0,0,0);const i=(s.getDay()+6)%7;e.setDate(e.getDate()-i+3);const a=new Date(e.getFullYear(),0,4),o=(a.getDay()+6)%7;return a.setDate(a.getDate()-o+3),1+Math.round((e.getTime()-a.getTime())/(168*3600*1e3))}function PO(){const s=new Date,e=s.getDay(),i=e===0?-6:1-e,a=new Date(s);return a.setDate(s.getDate()+i),a}function AE(){const[s,e]=O.useState(Ga());return O.useEffect(()=>{const i=setInterval(()=>{const a=Ga();return a!=s&&e(a),()=>clearInterval(i)},3e5)},[s]),s}const vi={alvaro:"lopezalvarezalvaro1@gmail.com",rubius:"rubenrubenm10@gmail.com",victor:"victorcortss@gmail.com",alex:"alexrequenaflaquer@gmail.com"},Mn={alvaro:{id:"9d2fd7a7-2571-4f51-9794-4947de3a842d",name:"lvaro",username:"alvaro",email:vi.alvaro,image:"./images/me.jpg",task:"",color:"blue"},rubius:{id:"53579f58-926b-4cdf-98bc-2956c1da412c",name:"Rubn",username:"rubius",email:vi.rubius,image:"./images/rubiu.jpg",task:"",color:"yellow"},victor:{id:"1a7c9359-3c3e-4e21-87ca-77890359cc1f",name:"victor",username:"victor",email:vi.victor,image:"./images/victor.jpg",task:"",color:"pink"},alex:{id:"fa59951a-20c2-436e-bb70-cde97cdee399",name:"lex",username:"alex",email:vi.alex,image:"./images/alex.jpg",task:"",color:"green"}},NE={[vi.alvaro]:Mn.alvaro,[vi.rubius]:Mn.rubius,[vi.victor]:Mn.victor,[vi.alex]:Mn.alex};function BO(s){return NE[s].image}function jO(s){return NE[s]}const qO="piso";async function VO(s){const i=`${Tu()}/usuarios/${s}`,a=vr(Er,i),o=await Su(a);if(!o.exists()){console.error(`The user ${s} does not exist on database`);return}const h=!o.val().done,d=HO();return await SO(a,{done:h,fecha:h?d:"not done"}),h}function Tu(){const s=Ga().replaceAll("/","_");return`${qO}/${s}/`}function GO(s){const e=Tu();return console.log(e),`${e}/usuarios/${s}`}async function YO(){const s=Tu(),e=vr(Er,s);return await Su(e)}async function FO(s){const e=RE(),i=PO(),a=Ga(i),o=i.getFullYear(),c=await YO();if(console.log(c.key),c.exists())return;const h=s.reduce((m,p)=>(m[p.username]={task:p.task,done:!1,date:"not done",name:p.name},m),{}),d=vr(Er,Tu());await Hd(d,{year:o,weekNumber:e,week:a,usuarios:h})}const cn=["Cocina","Cocina","Saln","Pasillo"],QO=[[cn[3],cn[2],cn[0],cn[1]],cn,cn.slice().reverse(),[cn[0],cn[1],cn[3],cn[2]]];function KO(){const s=RE();return QO[s%4]}function XO(){const s=AE(),e=O.useMemo(()=>{const i=KO();return{...Mn,rubius:{...Mn.rubius,task:i[0]},alvaro:{...Mn.alvaro,task:i[1]},victor:{...Mn.victor,task:i[2]},alex:{...Mn.alex,task:i[3]}}},[s]);return O.useEffect(()=>{(async()=>{await FO(Object.values(e))})()},[e]),e}function WO({className:s}){const i=AE().split("-"),a=i[0],o=i[1];return B.jsx("div",{className:`max-w-md mx-auto p-3 px-6 rounded-2xl shadow-lg
                    bg-gradient-to-r from-gray-300 via-gray-200 to-gray-400
                    border border-gray-400
                    text-gray-800
                    hover:shadow-xl transition-shadow duration-300 ${s}`,children:B.jsxs("p",{className:"font-bold text-2xl text-center",children:["Semana: ",B.jsx("br",{}),a," ",B.jsx("br",{}),o," ",B.jsx("br",{})]})})}const xE=s=>{const[e,i]=O.useState(null);return O.useEffect(()=>{if(s==="")return;const a=vr(Er,s),o=TO(a,c=>{i(c.val())});return()=>CO(a,"value",o)},[s]),e},ZO="xl:w-15 w-20 xl:h-15 h-20 border-4",$O="xl:w-20 w-25 xl:h-20 h-25 border-4",JO="z-30 xl:w-25 w-15 xl:h-25 h-15 border-4",eD="xl:w-60 w-25 xl:h-60 h-25 border-4 xl:border-8",tD={very_small:ZO,small:$O,medium:JO,big:eD},nD={blue:"border-sky-400",green:"border-emerald-400",purple:"border-purple-400",yellow:"border-yellow-400",pink:"border-pink-400"};function Pd({image:s,onClick:e,color:i,size:a,className:o}){return B.jsx("img",{className:`${tD[a]} rounded-full ${i?nD[i]:"border-transparent"} ${e&&"hover:scale-105 hover:cursor-pointer"} transition-all duration-200 ${o}`,src:s,alt:"",onClick:e})}function OE(s){return s.split("@")[0]}async function iD(s,e){const i=DE(s),a=vr(Er,i);(await Su(a)).exists()||await Hd(a,e)}async function sD(s){const e=DE(s),i=vr(Er,e);(await Su(i)).exists()&&await EO(i)}function DE(s){const e=Ga().replaceAll("/","_");return`users/${OE(s)}/history/${e}`}function rD({user:s,hasPermission:e,onClickTask:i}){const[a,o]=O.useState(null);O.useEffect(()=>{(async()=>{const p=GO(s.username);o(p)})()},[s.name]);const c=xE(a??""),h=c?.done??!1;O.useEffect(()=>{h?sD(s.email):iD(s.email,s.task??"no task")},[h]);const d=c?.fecha??"";return B.jsxs("div",{className:`flex flex-col justify-between ${e?"hover:cursor-pointer hover:scale-105 hover:shadow-xl":""} transition-all duration-300 bg-slate-50 shadow-lg rounded-xl overflow-hidden p-4 xl:p-3`,onClick:()=>{e&&i()},children:[B.jsxs("div",{className:"flex flex-col gap-1 items-center p-2 rounded-lg ",children:[B.jsx(Pd,{image:s.image,color:s.color,size:"small"}),B.jsx("h2",{className:"text-2xl xl:text-xl font-bold text-gray-800",children:s.name}),B.jsx("div",{className:"bg-gray-200 rounded-full h-[3px] w-full"})]}),B.jsxs("div",{className:"flex mt-2 xl:mt-0 flex-col gap-2",children:[B.jsx("h3",{className:"bg-gradient-to-r from-orange-300 to-orange-400  rounded-lg text-2xl font-bold xl:text-xl text-center shadow-md text-gray-800 lato-font",children:s.task}),B.jsxs("div",{className:"flex flex-row justify-end items-center gap-3",children:[h&&B.jsx("span",{className:"text-emerald-500 font-semibold text-xs",children:d}),B.jsx("span",{className:`inline-flex items-center justify-center 
                            rounded-full text-xs font-bold shadow-md
                            px-3 py-1 
                            ${h?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:h?"Hecho":"Pendiente"})]})]})]})}function aD({users:s,currentEmail:e,onToggleCompleted:i}){return B.jsx("div",{className:"w-screen grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 px-8 h-auto xl:min-h-[300px]",children:s.length>0&&s.map(a=>B.jsx(rD,{onClickTask:()=>i(a),user:a,hasPermission:e===a.email},a.id))})}function lD(){const s=XO(),e=Fa(),{user:i}=bu(),a=Object.values(s);return B.jsxs("div",{className:` p-4 bg-gradient-to-br from-indigo-600 via-purple-800 to-pink-900 flex flex-col w-screen xl:h-screen 
            h-auto items-center gap-10 xl:gap-24`,children:[B.jsx(Pd,{image:BO(i.email),onClick:()=>e("profile"),size:"medium",className:"absolute top-1 xl:top-4  right-1 xl:right-8"}),B.jsx(WO,{className:"mt-10"}),B.jsx(aD,{users:a,onToggleCompleted:o=>{VO(o.username)},currentEmail:i.email})]})}function oD({onButtonClick:s}){return B.jsxs("button",{id:"loginBtn",className:"inline-flex items-center gap-2 px-3 py-1 text-md font-semibold bg-white text-gray-800 border border-gray-300 rounded-md shadow hover:bg-gray-100",onClick:s,children:[B.jsxs("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[B.jsx("path",{fill:"#FFC107",d:"M43.6 20.5h-1.9V20H24v8h11.3C33.4 33.2 29.1 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3.1 0 6 .9 8.2 2.7l6-6C34.5 5.1 29.5 3 24 3 12.4 3 3 12.4 3 24s9.4 21 21 21c11 0 20.3-8 20.3-21 0-1.2-.1-2.1-.3-3.5z"}),B.jsx("path",{fill:"#FF3D00",d:"M6.3 14.6l6.6 4.8C14.5 16.2 18.9 14 24 14c3.1 0 6 .9 8.2 2.7l6-6C34.5 5.1 29.5 3 24 3 16.1 3 9.2 7.8 6.3 14.6z"}),B.jsx("path",{fill:"#4CAF50",d:"M24 45c5.1 0 10-1.7 13.7-4.7l-6.3-5.2C29.6 36.4 26.9 37 24 37c-5 0-9.2-3-11-7.3l-6.6 5.1C9.1 41.8 16.1 45 24 45z"}),B.jsx("path",{fill:"#1976D2",d:"M43.6 20.5h-1.9V20H24v8h11.3c-1.2 3.3-4.4 6.4-11.3 6.4-5 0-9.2-3-11-7.3l-6.6 5.1C9.1 41.8 16.1 45 24 45c11 0 20.3-8 20.3-21 0-1.2-.1-2.1-.3-3.5z"})]}),"Iniciar sesin con Google"]})}function uD({label:s,className:e,onButtonClick:i}){return B.jsx("button",{className:`bg-orange-300 font-bold text-md text-gray-800 ${e} px-3 py-1 hover:scale-95 hover:bg-orange-400 hover:text-white transition-all duration-300`,onClick:i,children:s})}function cD(){const s=Fa(),e=pn(),{user:i}=bu(),a=e.state?.from?.pathname||"/";async function o(){await CE.login(()=>{console.log(a)}),s(a,{replace:!0})}return i&&s(a,{replace:!0}),B.jsxs("div",{className:"justify-center p-6 bg-gradient-to-br from-indigo-900 via-gray-800 to-indigo-950 flex flex-col w-screen h-screen items-center gap-10 xl:gap-24",children:[B.jsx("h1",{className:"font-semibold text-center",children:"Limpieza del Piso"}),B.jsx(oD,{onButtonClick:o})]})}function fD({history:s}){return B.jsxs("div",{className:"bg-slate-50 p-4 xl:p-8 flex flex-col text-gray-800 rounded-xl  max-h-[36rem] xl:max-h-[24rem] xl:m-auto",children:[B.jsx("h2",{className:"exo2-font text-center  xl:text-5xl text-2xl font-semibold",children:"Estadsticas de limpieza"}),s&&s.length>0&&B.jsxs(B.Fragment,{children:[B.jsxs("h2",{className:"xl:text-2xl text-1xl mt-12 lato-font font-normal",children:["Semanas sin limpiar: ",B.jsx("span",{id:"week-count",children:s.length})]}),B.jsx("div",{className:"mt-6 overflow-y-auto bg-amber-200 p-3 xl:p-2 rounded-xl items-center justify-center shadow-md flex flex-col",children:s.map(e=>B.jsxs("div",{className:"flex gap-4 bg-rose-300 text-gray-800 rounded-xl px-4 py-1",children:[B.jsx("span",{className:"font-bold text-md xl:text-xl",children:e.week}),B.jsx("span",{className:"font-semibold text-md xl:text-xl border-l-2 pl-2  border-gray-800",children:e.task},e.week)]},e.week))})]}),s&&s.length===0&&B.jsx("h2",{className:"text-emerald-400 font-bold text-md xl:text-xl text-center mt-4",children:"Todo limpio por aqu!"})]})}function hD(s){const e=`users/${OE(s)}/history`,i=xE(e);return i?Object.entries(i).map(([o,c])=>({week:o.replaceAll("_","/"),task:c})):[]}function dD(){const{user:s}=bu(),e=Fa(),i=jO(s.email),a=hD(s.email),o=()=>{e(-1)};return B.jsxs("div",{className:"bg-gradient-to-br from-emerald-700 via-cyan-800 to-green-800 flex flex-col w-screen h-screen",children:[B.jsx("div",{className:"flex flex-row justify-end p-2 bg-gradient-to-r from-emerald-500 to-emerald-700 mb-10",children:B.jsx(uD,{label:"Atrs",onButtonClick:o})}),B.jsxs("main",{className:"flex flex-col px-8 gap-10",children:[B.jsxs("div",{className:"flex items-center gap-2 xl:gap-10",children:[B.jsx(Pd,{size:"big",image:i.image,color:i.color}),B.jsxs("div",{className:"flex flex-col justify-center",children:[B.jsx("h2",{className:"font-semibold text-lg xl:text-2xl",children:i.name}),B.jsx("h2",{className:"font-semibold text-lg xl:text-2xl",children:s.email})]})]}),a&&B.jsx(fD,{history:a})]}),B.jsx("div",{className:"absolute flex bottom-8 w-full items-center justify-center",children:B.jsx("button",{className:`font-bold bg-rose-400 text-gray-800 rounded-lg px-2 py-1 text-md 
                    hover:cursor-pointer hover:scale-95 transition-all duration-200 xl:text-xl`,onClick:()=>CE.logout(),children:"Cerrar Sesin"})})]})}function pD(){return B.jsx(TT,{basename:"/limpieza",children:B.jsx(UO,{children:B.jsxs(eT,{children:[B.jsx(Ro,{path:"login",element:B.jsx(cD,{})}),B.jsx(Ro,{path:"/",element:B.jsx(ev,{children:B.jsx(lD,{})})}),B.jsx(Ro,{path:"profile",element:B.jsx(ev,{children:B.jsx(dD,{})})})]})})})}u1.createRoot(document.getElementById("root")).render(B.jsx(O.StrictMode,{children:B.jsx(pD,{})}));
